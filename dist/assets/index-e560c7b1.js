var zS=Object.defineProperty;var YS=(t,e,n)=>e in t?zS(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var z=(t,e,n)=>(YS(t,typeof e!="symbol"?e+"":e,n),n);function qS(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function uE(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var dE={exports:{}},jd={},hE={exports:{}},oe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dl=Symbol.for("react.element"),QS=Symbol.for("react.portal"),KS=Symbol.for("react.fragment"),GS=Symbol.for("react.strict_mode"),XS=Symbol.for("react.profiler"),JS=Symbol.for("react.provider"),ZS=Symbol.for("react.context"),eD=Symbol.for("react.forward_ref"),tD=Symbol.for("react.suspense"),nD=Symbol.for("react.memo"),rD=Symbol.for("react.lazy"),Ey=Symbol.iterator;function sD(t){return t===null||typeof t!="object"?null:(t=Ey&&t[Ey]||t["@@iterator"],typeof t=="function"?t:null)}var fE={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},pE=Object.assign,mE={};function No(t,e,n){this.props=t,this.context=e,this.refs=mE,this.updater=n||fE}No.prototype.isReactComponent={};No.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};No.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function gE(){}gE.prototype=No.prototype;function Hm(t,e,n){this.props=t,this.context=e,this.refs=mE,this.updater=n||fE}var zm=Hm.prototype=new gE;zm.constructor=Hm;pE(zm,No.prototype);zm.isPureReactComponent=!0;var xy=Array.isArray,vE=Object.prototype.hasOwnProperty,Ym={current:null},yE={key:!0,ref:!0,__self:!0,__source:!0};function _E(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)vE.call(e,r)&&!yE.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];s.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:Dl,type:t,key:i,ref:o,props:s,_owner:Ym.current}}function iD(t,e){return{$$typeof:Dl,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function qm(t){return typeof t=="object"&&t!==null&&t.$$typeof===Dl}function oD(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var by=/\/+/g;function Kh(t,e){return typeof t=="object"&&t!==null&&t.key!=null?oD(""+t.key):e.toString(36)}function Qc(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Dl:case QS:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+Kh(o,0):r,xy(s)?(n="",t!=null&&(n=t.replace(by,"$&/")+"/"),Qc(s,e,n,"",function(c){return c})):s!=null&&(qm(s)&&(s=iD(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(by,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",xy(t))for(var a=0;a<t.length;a++){i=t[a];var l=r+Kh(i,a);o+=Qc(i,e,n,l,s)}else if(l=sD(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=r+Kh(i,a++),o+=Qc(i,e,n,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function hc(t,e,n){if(t==null)return t;var r=[],s=0;return Qc(t,r,"","",function(i){return e.call(n,i,s++)}),r}function aD(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var $t={current:null},Kc={transition:null},lD={ReactCurrentDispatcher:$t,ReactCurrentBatchConfig:Kc,ReactCurrentOwner:Ym};oe.Children={map:hc,forEach:function(t,e,n){hc(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return hc(t,function(){e++}),e},toArray:function(t){return hc(t,function(e){return e})||[]},only:function(t){if(!qm(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};oe.Component=No;oe.Fragment=KS;oe.Profiler=XS;oe.PureComponent=Hm;oe.StrictMode=GS;oe.Suspense=tD;oe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=lD;oe.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=pE({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=Ym.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)vE.call(e,l)&&!yE.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:Dl,type:t.type,key:s,ref:i,props:r,_owner:o}};oe.createContext=function(t){return t={$$typeof:ZS,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:JS,_context:t},t.Consumer=t};oe.createElement=_E;oe.createFactory=function(t){var e=_E.bind(null,t);return e.type=t,e};oe.createRef=function(){return{current:null}};oe.forwardRef=function(t){return{$$typeof:eD,render:t}};oe.isValidElement=qm;oe.lazy=function(t){return{$$typeof:rD,_payload:{_status:-1,_result:t},_init:aD}};oe.memo=function(t,e){return{$$typeof:nD,type:t,compare:e===void 0?null:e}};oe.startTransition=function(t){var e=Kc.transition;Kc.transition={};try{t()}finally{Kc.transition=e}};oe.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};oe.useCallback=function(t,e){return $t.current.useCallback(t,e)};oe.useContext=function(t){return $t.current.useContext(t)};oe.useDebugValue=function(){};oe.useDeferredValue=function(t){return $t.current.useDeferredValue(t)};oe.useEffect=function(t,e){return $t.current.useEffect(t,e)};oe.useId=function(){return $t.current.useId()};oe.useImperativeHandle=function(t,e,n){return $t.current.useImperativeHandle(t,e,n)};oe.useInsertionEffect=function(t,e){return $t.current.useInsertionEffect(t,e)};oe.useLayoutEffect=function(t,e){return $t.current.useLayoutEffect(t,e)};oe.useMemo=function(t,e){return $t.current.useMemo(t,e)};oe.useReducer=function(t,e,n){return $t.current.useReducer(t,e,n)};oe.useRef=function(t){return $t.current.useRef(t)};oe.useState=function(t){return $t.current.useState(t)};oe.useSyncExternalStore=function(t,e,n){return $t.current.useSyncExternalStore(t,e,n)};oe.useTransition=function(){return $t.current.useTransition()};oe.version="18.2.0";hE.exports=oe;var E=hE.exports;const k=uE(E),wE=qS({__proto__:null,default:k},[E]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cD=E,uD=Symbol.for("react.element"),dD=Symbol.for("react.fragment"),hD=Object.prototype.hasOwnProperty,fD=cD.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,pD={key:!0,ref:!0,__self:!0,__source:!0};function EE(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)hD.call(e,r)&&!pD.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:uD,type:t,key:i,ref:o,props:s,_owner:fD.current}}jd.Fragment=dD;jd.jsx=EE;jd.jsxs=EE;dE.exports=jd;var d=dE.exports,sp={},xE={exports:{}},on={},bE={exports:{}},TE={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(A,H){var re=A.length;A.push(H);e:for(;0<re;){var Be=re-1>>>1,rt=A[Be];if(0<s(rt,H))A[Be]=H,A[re]=rt,re=Be;else break e}}function n(A){return A.length===0?null:A[0]}function r(A){if(A.length===0)return null;var H=A[0],re=A.pop();if(re!==H){A[0]=re;e:for(var Be=0,rt=A.length,uc=rt>>>1;Be<uc;){var ks=2*(Be+1)-1,Qh=A[ks],Is=ks+1,dc=A[Is];if(0>s(Qh,re))Is<rt&&0>s(dc,Qh)?(A[Be]=dc,A[Is]=re,Be=Is):(A[Be]=Qh,A[ks]=re,Be=ks);else if(Is<rt&&0>s(dc,re))A[Be]=dc,A[Is]=re,Be=Is;else break e}}return H}function s(A,H){var re=A.sortIndex-H.sortIndex;return re!==0?re:A.id-H.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,h=null,f=3,p=!1,y=!1,g=!1,w=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(A){for(var H=n(c);H!==null;){if(H.callback===null)r(c);else if(H.startTime<=A)r(c),H.sortIndex=H.expirationTime,e(l,H);else break;H=n(c)}}function x(A){if(g=!1,v(A),!y)if(n(l)!==null)y=!0,O(T);else{var H=n(c);H!==null&&K(x,H.startTime-A)}}function T(A,H){y=!1,g&&(g=!1,m(S),S=-1),p=!0;var re=f;try{for(v(H),h=n(l);h!==null&&(!(h.expirationTime>H)||A&&!P());){var Be=h.callback;if(typeof Be=="function"){h.callback=null,f=h.priorityLevel;var rt=Be(h.expirationTime<=H);H=t.unstable_now(),typeof rt=="function"?h.callback=rt:h===n(l)&&r(l),v(H)}else r(l);h=n(l)}if(h!==null)var uc=!0;else{var ks=n(c);ks!==null&&K(x,ks.startTime-H),uc=!1}return uc}finally{h=null,f=re,p=!1}}var C=!1,b=null,S=-1,D=5,I=-1;function P(){return!(t.unstable_now()-I<D)}function M(){if(b!==null){var A=t.unstable_now();I=A;var H=!0;try{H=b(!0,A)}finally{H?W():(C=!1,b=null)}}else C=!1}var W;if(typeof _=="function")W=function(){_(M)};else if(typeof MessageChannel<"u"){var j=new MessageChannel,F=j.port2;j.port1.onmessage=M,W=function(){F.postMessage(null)}}else W=function(){w(M,0)};function O(A){b=A,C||(C=!0,W())}function K(A,H){S=w(function(){A(t.unstable_now())},H)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(A){A.callback=null},t.unstable_continueExecution=function(){y||p||(y=!0,O(T))},t.unstable_forceFrameRate=function(A){0>A||125<A?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<A?Math.floor(1e3/A):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(A){switch(f){case 1:case 2:case 3:var H=3;break;default:H=f}var re=f;f=H;try{return A()}finally{f=re}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(A,H){switch(A){case 1:case 2:case 3:case 4:case 5:break;default:A=3}var re=f;f=A;try{return H()}finally{f=re}},t.unstable_scheduleCallback=function(A,H,re){var Be=t.unstable_now();switch(typeof re=="object"&&re!==null?(re=re.delay,re=typeof re=="number"&&0<re?Be+re:Be):re=Be,A){case 1:var rt=-1;break;case 2:rt=250;break;case 5:rt=1073741823;break;case 4:rt=1e4;break;default:rt=5e3}return rt=re+rt,A={id:u++,callback:H,priorityLevel:A,startTime:re,expirationTime:rt,sortIndex:-1},re>Be?(A.sortIndex=re,e(c,A),n(l)===null&&A===n(c)&&(g?(m(S),S=-1):g=!0,K(x,re-Be))):(A.sortIndex=rt,e(l,A),y||p||(y=!0,O(T))),A},t.unstable_shouldYield=P,t.unstable_wrapCallback=function(A){var H=f;return function(){var re=f;f=H;try{return A.apply(this,arguments)}finally{f=re}}}})(TE);bE.exports=TE;var mD=bE.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var CE=E,rn=mD;function L(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var SE=new Set,Ba={};function mi(t,e){ao(t,e),ao(t+"Capture",e)}function ao(t,e){for(Ba[t]=e,t=0;t<e.length;t++)SE.add(e[t])}var _r=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ip=Object.prototype.hasOwnProperty,gD=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Ty={},Cy={};function vD(t){return ip.call(Cy,t)?!0:ip.call(Ty,t)?!1:gD.test(t)?Cy[t]=!0:(Ty[t]=!0,!1)}function yD(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function _D(t,e,n,r){if(e===null||typeof e>"u"||yD(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ut(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var _t={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){_t[t]=new Ut(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];_t[e]=new Ut(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){_t[t]=new Ut(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){_t[t]=new Ut(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){_t[t]=new Ut(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){_t[t]=new Ut(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){_t[t]=new Ut(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){_t[t]=new Ut(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){_t[t]=new Ut(t,5,!1,t.toLowerCase(),null,!1,!1)});var Qm=/[\-:]([a-z])/g;function Km(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Qm,Km);_t[e]=new Ut(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Qm,Km);_t[e]=new Ut(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Qm,Km);_t[e]=new Ut(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){_t[t]=new Ut(t,1,!1,t.toLowerCase(),null,!1,!1)});_t.xlinkHref=new Ut("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){_t[t]=new Ut(t,1,!1,t.toLowerCase(),null,!0,!0)});function Gm(t,e,n,r){var s=_t.hasOwnProperty(e)?_t[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(_D(e,n,s,r)&&(n=null),r||s===null?vD(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Dr=CE.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,fc=Symbol.for("react.element"),Ai=Symbol.for("react.portal"),Oi=Symbol.for("react.fragment"),Xm=Symbol.for("react.strict_mode"),op=Symbol.for("react.profiler"),DE=Symbol.for("react.provider"),kE=Symbol.for("react.context"),Jm=Symbol.for("react.forward_ref"),ap=Symbol.for("react.suspense"),lp=Symbol.for("react.suspense_list"),Zm=Symbol.for("react.memo"),jr=Symbol.for("react.lazy"),IE=Symbol.for("react.offscreen"),Sy=Symbol.iterator;function Ho(t){return t===null||typeof t!="object"?null:(t=Sy&&t[Sy]||t["@@iterator"],typeof t=="function"?t:null)}var je=Object.assign,Gh;function ca(t){if(Gh===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Gh=e&&e[1]||""}return`
`+Gh+t}var Xh=!1;function Jh(t,e){if(!t||Xh)return"";Xh=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Xh=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?ca(t):""}function wD(t){switch(t.tag){case 5:return ca(t.type);case 16:return ca("Lazy");case 13:return ca("Suspense");case 19:return ca("SuspenseList");case 0:case 2:case 15:return t=Jh(t.type,!1),t;case 11:return t=Jh(t.type.render,!1),t;case 1:return t=Jh(t.type,!0),t;default:return""}}function cp(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Oi:return"Fragment";case Ai:return"Portal";case op:return"Profiler";case Xm:return"StrictMode";case ap:return"Suspense";case lp:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case kE:return(t.displayName||"Context")+".Consumer";case DE:return(t._context.displayName||"Context")+".Provider";case Jm:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Zm:return e=t.displayName||null,e!==null?e:cp(t.type)||"Memo";case jr:e=t._payload,t=t._init;try{return cp(t(e))}catch{}}return null}function ED(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return cp(e);case 8:return e===Xm?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ds(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function NE(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function xD(t){var e=NE(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function pc(t){t._valueTracker||(t._valueTracker=xD(t))}function PE(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=NE(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function wu(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function up(t,e){var n=e.checked;return je({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Dy(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=ds(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function RE(t,e){e=e.checked,e!=null&&Gm(t,"checked",e,!1)}function dp(t,e){RE(t,e);var n=ds(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?hp(t,e.type,n):e.hasOwnProperty("defaultValue")&&hp(t,e.type,ds(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function ky(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function hp(t,e,n){(e!=="number"||wu(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var ua=Array.isArray;function qi(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+ds(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function fp(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(L(91));return je({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Iy(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(L(92));if(ua(n)){if(1<n.length)throw Error(L(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:ds(n)}}function AE(t,e){var n=ds(e.value),r=ds(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Ny(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function OE(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function pp(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?OE(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var mc,ME=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(mc=mc||document.createElement("div"),mc.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=mc.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Wa(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var ba={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},bD=["Webkit","ms","Moz","O"];Object.keys(ba).forEach(function(t){bD.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),ba[e]=ba[t]})});function jE(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||ba.hasOwnProperty(t)&&ba[t]?(""+e).trim():e+"px"}function LE(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=jE(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var TD=je({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function mp(t,e){if(e){if(TD[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(L(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(L(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(L(61))}if(e.style!=null&&typeof e.style!="object")throw Error(L(62))}}function gp(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var vp=null;function eg(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var yp=null,Qi=null,Ki=null;function Py(t){if(t=Nl(t)){if(typeof yp!="function")throw Error(L(280));var e=t.stateNode;e&&(e=Ud(e),yp(t.stateNode,t.type,e))}}function FE(t){Qi?Ki?Ki.push(t):Ki=[t]:Qi=t}function VE(){if(Qi){var t=Qi,e=Ki;if(Ki=Qi=null,Py(t),e)for(t=0;t<e.length;t++)Py(e[t])}}function $E(t,e){return t(e)}function UE(){}var Zh=!1;function BE(t,e,n){if(Zh)return t(e,n);Zh=!0;try{return $E(t,e,n)}finally{Zh=!1,(Qi!==null||Ki!==null)&&(UE(),VE())}}function Ha(t,e){var n=t.stateNode;if(n===null)return null;var r=Ud(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(L(231,e,typeof n));return n}var _p=!1;if(_r)try{var zo={};Object.defineProperty(zo,"passive",{get:function(){_p=!0}}),window.addEventListener("test",zo,zo),window.removeEventListener("test",zo,zo)}catch{_p=!1}function CD(t,e,n,r,s,i,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(u){this.onError(u)}}var Ta=!1,Eu=null,xu=!1,wp=null,SD={onError:function(t){Ta=!0,Eu=t}};function DD(t,e,n,r,s,i,o,a,l){Ta=!1,Eu=null,CD.apply(SD,arguments)}function kD(t,e,n,r,s,i,o,a,l){if(DD.apply(this,arguments),Ta){if(Ta){var c=Eu;Ta=!1,Eu=null}else throw Error(L(198));xu||(xu=!0,wp=c)}}function gi(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function WE(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Ry(t){if(gi(t)!==t)throw Error(L(188))}function ID(t){var e=t.alternate;if(!e){if(e=gi(t),e===null)throw Error(L(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return Ry(s),t;if(i===r)return Ry(s),e;i=i.sibling}throw Error(L(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(L(189))}}if(n.alternate!==r)throw Error(L(190))}if(n.tag!==3)throw Error(L(188));return n.stateNode.current===n?t:e}function HE(t){return t=ID(t),t!==null?zE(t):null}function zE(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=zE(t);if(e!==null)return e;t=t.sibling}return null}var YE=rn.unstable_scheduleCallback,Ay=rn.unstable_cancelCallback,ND=rn.unstable_shouldYield,PD=rn.unstable_requestPaint,We=rn.unstable_now,RD=rn.unstable_getCurrentPriorityLevel,tg=rn.unstable_ImmediatePriority,qE=rn.unstable_UserBlockingPriority,bu=rn.unstable_NormalPriority,AD=rn.unstable_LowPriority,QE=rn.unstable_IdlePriority,Ld=null,Yn=null;function OD(t){if(Yn&&typeof Yn.onCommitFiberRoot=="function")try{Yn.onCommitFiberRoot(Ld,t,void 0,(t.current.flags&128)===128)}catch{}}var xn=Math.clz32?Math.clz32:LD,MD=Math.log,jD=Math.LN2;function LD(t){return t>>>=0,t===0?32:31-(MD(t)/jD|0)|0}var gc=64,vc=4194304;function da(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Tu(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=da(a):(i&=o,i!==0&&(r=da(i)))}else o=n&~s,o!==0?r=da(o):i!==0&&(r=da(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-xn(e),s=1<<n,r|=t[n],e&=~s;return r}function FD(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function VD(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-xn(i),a=1<<o,l=s[o];l===-1?(!(a&n)||a&r)&&(s[o]=FD(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function Ep(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function KE(){var t=gc;return gc<<=1,!(gc&4194240)&&(gc=64),t}function ef(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function kl(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-xn(e),t[e]=n}function $D(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-xn(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function ng(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-xn(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var xe=0;function GE(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var XE,rg,JE,ZE,e1,xp=!1,yc=[],Gr=null,Xr=null,Jr=null,za=new Map,Ya=new Map,Fr=[],UD="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Oy(t,e){switch(t){case"focusin":case"focusout":Gr=null;break;case"dragenter":case"dragleave":Xr=null;break;case"mouseover":case"mouseout":Jr=null;break;case"pointerover":case"pointerout":za.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ya.delete(e.pointerId)}}function Yo(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Nl(e),e!==null&&rg(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function BD(t,e,n,r,s){switch(e){case"focusin":return Gr=Yo(Gr,t,e,n,r,s),!0;case"dragenter":return Xr=Yo(Xr,t,e,n,r,s),!0;case"mouseover":return Jr=Yo(Jr,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return za.set(i,Yo(za.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Ya.set(i,Yo(Ya.get(i)||null,t,e,n,r,s)),!0}return!1}function t1(t){var e=Ls(t.target);if(e!==null){var n=gi(e);if(n!==null){if(e=n.tag,e===13){if(e=WE(n),e!==null){t.blockedOn=e,e1(t.priority,function(){JE(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Gc(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=bp(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);vp=r,n.target.dispatchEvent(r),vp=null}else return e=Nl(n),e!==null&&rg(e),t.blockedOn=n,!1;e.shift()}return!0}function My(t,e,n){Gc(t)&&n.delete(e)}function WD(){xp=!1,Gr!==null&&Gc(Gr)&&(Gr=null),Xr!==null&&Gc(Xr)&&(Xr=null),Jr!==null&&Gc(Jr)&&(Jr=null),za.forEach(My),Ya.forEach(My)}function qo(t,e){t.blockedOn===e&&(t.blockedOn=null,xp||(xp=!0,rn.unstable_scheduleCallback(rn.unstable_NormalPriority,WD)))}function qa(t){function e(s){return qo(s,t)}if(0<yc.length){qo(yc[0],t);for(var n=1;n<yc.length;n++){var r=yc[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Gr!==null&&qo(Gr,t),Xr!==null&&qo(Xr,t),Jr!==null&&qo(Jr,t),za.forEach(e),Ya.forEach(e),n=0;n<Fr.length;n++)r=Fr[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Fr.length&&(n=Fr[0],n.blockedOn===null);)t1(n),n.blockedOn===null&&Fr.shift()}var Gi=Dr.ReactCurrentBatchConfig,Cu=!0;function HD(t,e,n,r){var s=xe,i=Gi.transition;Gi.transition=null;try{xe=1,sg(t,e,n,r)}finally{xe=s,Gi.transition=i}}function zD(t,e,n,r){var s=xe,i=Gi.transition;Gi.transition=null;try{xe=4,sg(t,e,n,r)}finally{xe=s,Gi.transition=i}}function sg(t,e,n,r){if(Cu){var s=bp(t,e,n,r);if(s===null)df(t,e,r,Su,n),Oy(t,r);else if(BD(s,t,e,n,r))r.stopPropagation();else if(Oy(t,r),e&4&&-1<UD.indexOf(t)){for(;s!==null;){var i=Nl(s);if(i!==null&&XE(i),i=bp(t,e,n,r),i===null&&df(t,e,r,Su,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else df(t,e,r,null,n)}}var Su=null;function bp(t,e,n,r){if(Su=null,t=eg(r),t=Ls(t),t!==null)if(e=gi(t),e===null)t=null;else if(n=e.tag,n===13){if(t=WE(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Su=t,null}function n1(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(RD()){case tg:return 1;case qE:return 4;case bu:case AD:return 16;case QE:return 536870912;default:return 16}default:return 16}}var Hr=null,ig=null,Xc=null;function r1(){if(Xc)return Xc;var t,e=ig,n=e.length,r,s="value"in Hr?Hr.value:Hr.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return Xc=s.slice(t,1<r?1-r:void 0)}function Jc(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function _c(){return!0}function jy(){return!1}function an(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?_c:jy,this.isPropagationStopped=jy,this}return je(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=_c)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=_c)},persist:function(){},isPersistent:_c}),e}var Po={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},og=an(Po),Il=je({},Po,{view:0,detail:0}),YD=an(Il),tf,nf,Qo,Fd=je({},Il,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ag,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Qo&&(Qo&&t.type==="mousemove"?(tf=t.screenX-Qo.screenX,nf=t.screenY-Qo.screenY):nf=tf=0,Qo=t),tf)},movementY:function(t){return"movementY"in t?t.movementY:nf}}),Ly=an(Fd),qD=je({},Fd,{dataTransfer:0}),QD=an(qD),KD=je({},Il,{relatedTarget:0}),rf=an(KD),GD=je({},Po,{animationName:0,elapsedTime:0,pseudoElement:0}),XD=an(GD),JD=je({},Po,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),ZD=an(JD),ek=je({},Po,{data:0}),Fy=an(ek),tk={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},nk={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},rk={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function sk(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=rk[t])?!!e[t]:!1}function ag(){return sk}var ik=je({},Il,{key:function(t){if(t.key){var e=tk[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Jc(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?nk[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ag,charCode:function(t){return t.type==="keypress"?Jc(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Jc(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),ok=an(ik),ak=je({},Fd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Vy=an(ak),lk=je({},Il,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ag}),ck=an(lk),uk=je({},Po,{propertyName:0,elapsedTime:0,pseudoElement:0}),dk=an(uk),hk=je({},Fd,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),fk=an(hk),pk=[9,13,27,32],lg=_r&&"CompositionEvent"in window,Ca=null;_r&&"documentMode"in document&&(Ca=document.documentMode);var mk=_r&&"TextEvent"in window&&!Ca,s1=_r&&(!lg||Ca&&8<Ca&&11>=Ca),$y=String.fromCharCode(32),Uy=!1;function i1(t,e){switch(t){case"keyup":return pk.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function o1(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Mi=!1;function gk(t,e){switch(t){case"compositionend":return o1(e);case"keypress":return e.which!==32?null:(Uy=!0,$y);case"textInput":return t=e.data,t===$y&&Uy?null:t;default:return null}}function vk(t,e){if(Mi)return t==="compositionend"||!lg&&i1(t,e)?(t=r1(),Xc=ig=Hr=null,Mi=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return s1&&e.locale!=="ko"?null:e.data;default:return null}}var yk={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function By(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!yk[t.type]:e==="textarea"}function a1(t,e,n,r){FE(r),e=Du(e,"onChange"),0<e.length&&(n=new og("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Sa=null,Qa=null;function _k(t){y1(t,0)}function Vd(t){var e=Fi(t);if(PE(e))return t}function wk(t,e){if(t==="change")return e}var l1=!1;if(_r){var sf;if(_r){var of="oninput"in document;if(!of){var Wy=document.createElement("div");Wy.setAttribute("oninput","return;"),of=typeof Wy.oninput=="function"}sf=of}else sf=!1;l1=sf&&(!document.documentMode||9<document.documentMode)}function Hy(){Sa&&(Sa.detachEvent("onpropertychange",c1),Qa=Sa=null)}function c1(t){if(t.propertyName==="value"&&Vd(Qa)){var e=[];a1(e,Qa,t,eg(t)),BE(_k,e)}}function Ek(t,e,n){t==="focusin"?(Hy(),Sa=e,Qa=n,Sa.attachEvent("onpropertychange",c1)):t==="focusout"&&Hy()}function xk(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Vd(Qa)}function bk(t,e){if(t==="click")return Vd(e)}function Tk(t,e){if(t==="input"||t==="change")return Vd(e)}function Ck(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Tn=typeof Object.is=="function"?Object.is:Ck;function Ka(t,e){if(Tn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!ip.call(e,s)||!Tn(t[s],e[s]))return!1}return!0}function zy(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Yy(t,e){var n=zy(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=zy(n)}}function u1(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?u1(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function d1(){for(var t=window,e=wu();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=wu(t.document)}return e}function cg(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Sk(t){var e=d1(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&u1(n.ownerDocument.documentElement,n)){if(r!==null&&cg(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=Yy(n,i);var o=Yy(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Dk=_r&&"documentMode"in document&&11>=document.documentMode,ji=null,Tp=null,Da=null,Cp=!1;function qy(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Cp||ji==null||ji!==wu(r)||(r=ji,"selectionStart"in r&&cg(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Da&&Ka(Da,r)||(Da=r,r=Du(Tp,"onSelect"),0<r.length&&(e=new og("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=ji)))}function wc(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Li={animationend:wc("Animation","AnimationEnd"),animationiteration:wc("Animation","AnimationIteration"),animationstart:wc("Animation","AnimationStart"),transitionend:wc("Transition","TransitionEnd")},af={},h1={};_r&&(h1=document.createElement("div").style,"AnimationEvent"in window||(delete Li.animationend.animation,delete Li.animationiteration.animation,delete Li.animationstart.animation),"TransitionEvent"in window||delete Li.transitionend.transition);function $d(t){if(af[t])return af[t];if(!Li[t])return t;var e=Li[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in h1)return af[t]=e[n];return t}var f1=$d("animationend"),p1=$d("animationiteration"),m1=$d("animationstart"),g1=$d("transitionend"),v1=new Map,Qy="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function _s(t,e){v1.set(t,e),mi(e,[t])}for(var lf=0;lf<Qy.length;lf++){var cf=Qy[lf],kk=cf.toLowerCase(),Ik=cf[0].toUpperCase()+cf.slice(1);_s(kk,"on"+Ik)}_s(f1,"onAnimationEnd");_s(p1,"onAnimationIteration");_s(m1,"onAnimationStart");_s("dblclick","onDoubleClick");_s("focusin","onFocus");_s("focusout","onBlur");_s(g1,"onTransitionEnd");ao("onMouseEnter",["mouseout","mouseover"]);ao("onMouseLeave",["mouseout","mouseover"]);ao("onPointerEnter",["pointerout","pointerover"]);ao("onPointerLeave",["pointerout","pointerover"]);mi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));mi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));mi("onBeforeInput",["compositionend","keypress","textInput","paste"]);mi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));mi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));mi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ha="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Nk=new Set("cancel close invalid load scroll toggle".split(" ").concat(ha));function Ky(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,kD(r,e,void 0,t),t.currentTarget=null}function y1(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;Ky(s,a,c),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;Ky(s,a,c),i=l}}}if(xu)throw t=wp,xu=!1,wp=null,t}function De(t,e){var n=e[Np];n===void 0&&(n=e[Np]=new Set);var r=t+"__bubble";n.has(r)||(_1(e,t,2,!1),n.add(r))}function uf(t,e,n){var r=0;e&&(r|=4),_1(n,t,r,e)}var Ec="_reactListening"+Math.random().toString(36).slice(2);function Ga(t){if(!t[Ec]){t[Ec]=!0,SE.forEach(function(n){n!=="selectionchange"&&(Nk.has(n)||uf(n,!1,t),uf(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Ec]||(e[Ec]=!0,uf("selectionchange",!1,e))}}function _1(t,e,n,r){switch(n1(e)){case 1:var s=HD;break;case 4:s=zD;break;default:s=sg}n=s.bind(null,e,n,t),s=void 0,!_p||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function df(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=Ls(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}BE(function(){var c=i,u=eg(n),h=[];e:{var f=v1.get(t);if(f!==void 0){var p=og,y=t;switch(t){case"keypress":if(Jc(n)===0)break e;case"keydown":case"keyup":p=ok;break;case"focusin":y="focus",p=rf;break;case"focusout":y="blur",p=rf;break;case"beforeblur":case"afterblur":p=rf;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=Ly;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=QD;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=ck;break;case f1:case p1:case m1:p=XD;break;case g1:p=dk;break;case"scroll":p=YD;break;case"wheel":p=fk;break;case"copy":case"cut":case"paste":p=ZD;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=Vy}var g=(e&4)!==0,w=!g&&t==="scroll",m=g?f!==null?f+"Capture":null:f;g=[];for(var _=c,v;_!==null;){v=_;var x=v.stateNode;if(v.tag===5&&x!==null&&(v=x,m!==null&&(x=Ha(_,m),x!=null&&g.push(Xa(_,x,v)))),w)break;_=_.return}0<g.length&&(f=new p(f,y,null,n,u),h.push({event:f,listeners:g}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",f&&n!==vp&&(y=n.relatedTarget||n.fromElement)&&(Ls(y)||y[wr]))break e;if((p||f)&&(f=u.window===u?u:(f=u.ownerDocument)?f.defaultView||f.parentWindow:window,p?(y=n.relatedTarget||n.toElement,p=c,y=y?Ls(y):null,y!==null&&(w=gi(y),y!==w||y.tag!==5&&y.tag!==6)&&(y=null)):(p=null,y=c),p!==y)){if(g=Ly,x="onMouseLeave",m="onMouseEnter",_="mouse",(t==="pointerout"||t==="pointerover")&&(g=Vy,x="onPointerLeave",m="onPointerEnter",_="pointer"),w=p==null?f:Fi(p),v=y==null?f:Fi(y),f=new g(x,_+"leave",p,n,u),f.target=w,f.relatedTarget=v,x=null,Ls(u)===c&&(g=new g(m,_+"enter",y,n,u),g.target=v,g.relatedTarget=w,x=g),w=x,p&&y)t:{for(g=p,m=y,_=0,v=g;v;v=Ci(v))_++;for(v=0,x=m;x;x=Ci(x))v++;for(;0<_-v;)g=Ci(g),_--;for(;0<v-_;)m=Ci(m),v--;for(;_--;){if(g===m||m!==null&&g===m.alternate)break t;g=Ci(g),m=Ci(m)}g=null}else g=null;p!==null&&Gy(h,f,p,g,!1),y!==null&&w!==null&&Gy(h,w,y,g,!0)}}e:{if(f=c?Fi(c):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var T=wk;else if(By(f))if(l1)T=Tk;else{T=xk;var C=Ek}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(T=bk);if(T&&(T=T(t,c))){a1(h,T,n,u);break e}C&&C(t,f,c),t==="focusout"&&(C=f._wrapperState)&&C.controlled&&f.type==="number"&&hp(f,"number",f.value)}switch(C=c?Fi(c):window,t){case"focusin":(By(C)||C.contentEditable==="true")&&(ji=C,Tp=c,Da=null);break;case"focusout":Da=Tp=ji=null;break;case"mousedown":Cp=!0;break;case"contextmenu":case"mouseup":case"dragend":Cp=!1,qy(h,n,u);break;case"selectionchange":if(Dk)break;case"keydown":case"keyup":qy(h,n,u)}var b;if(lg)e:{switch(t){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else Mi?i1(t,n)&&(S="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(S="onCompositionStart");S&&(s1&&n.locale!=="ko"&&(Mi||S!=="onCompositionStart"?S==="onCompositionEnd"&&Mi&&(b=r1()):(Hr=u,ig="value"in Hr?Hr.value:Hr.textContent,Mi=!0)),C=Du(c,S),0<C.length&&(S=new Fy(S,t,null,n,u),h.push({event:S,listeners:C}),b?S.data=b:(b=o1(n),b!==null&&(S.data=b)))),(b=mk?gk(t,n):vk(t,n))&&(c=Du(c,"onBeforeInput"),0<c.length&&(u=new Fy("onBeforeInput","beforeinput",null,n,u),h.push({event:u,listeners:c}),u.data=b))}y1(h,e)})}function Xa(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Du(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Ha(t,n),i!=null&&r.unshift(Xa(t,i,s)),i=Ha(t,e),i!=null&&r.push(Xa(t,i,s))),t=t.return}return r}function Ci(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Gy(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,s?(l=Ha(n,i),l!=null&&o.unshift(Xa(n,l,a))):s||(l=Ha(n,i),l!=null&&o.push(Xa(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var Pk=/\r\n?/g,Rk=/\u0000|\uFFFD/g;function Xy(t){return(typeof t=="string"?t:""+t).replace(Pk,`
`).replace(Rk,"")}function xc(t,e,n){if(e=Xy(e),Xy(t)!==e&&n)throw Error(L(425))}function ku(){}var Sp=null,Dp=null;function kp(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Ip=typeof setTimeout=="function"?setTimeout:void 0,Ak=typeof clearTimeout=="function"?clearTimeout:void 0,Jy=typeof Promise=="function"?Promise:void 0,Ok=typeof queueMicrotask=="function"?queueMicrotask:typeof Jy<"u"?function(t){return Jy.resolve(null).then(t).catch(Mk)}:Ip;function Mk(t){setTimeout(function(){throw t})}function hf(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),qa(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);qa(e)}function Zr(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Zy(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Ro=Math.random().toString(36).slice(2),Fn="__reactFiber$"+Ro,Ja="__reactProps$"+Ro,wr="__reactContainer$"+Ro,Np="__reactEvents$"+Ro,jk="__reactListeners$"+Ro,Lk="__reactHandles$"+Ro;function Ls(t){var e=t[Fn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[wr]||n[Fn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Zy(t);t!==null;){if(n=t[Fn])return n;t=Zy(t)}return e}t=n,n=t.parentNode}return null}function Nl(t){return t=t[Fn]||t[wr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Fi(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(L(33))}function Ud(t){return t[Ja]||null}var Pp=[],Vi=-1;function ws(t){return{current:t}}function Ne(t){0>Vi||(t.current=Pp[Vi],Pp[Vi]=null,Vi--)}function Ce(t,e){Vi++,Pp[Vi]=t.current,t.current=e}var hs={},It=ws(hs),qt=ws(!1),Js=hs;function lo(t,e){var n=t.type.contextTypes;if(!n)return hs;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Qt(t){return t=t.childContextTypes,t!=null}function Iu(){Ne(qt),Ne(It)}function e0(t,e,n){if(It.current!==hs)throw Error(L(168));Ce(It,e),Ce(qt,n)}function w1(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(L(108,ED(t)||"Unknown",s));return je({},n,r)}function Nu(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||hs,Js=It.current,Ce(It,t),Ce(qt,qt.current),!0}function t0(t,e,n){var r=t.stateNode;if(!r)throw Error(L(169));n?(t=w1(t,e,Js),r.__reactInternalMemoizedMergedChildContext=t,Ne(qt),Ne(It),Ce(It,t)):Ne(qt),Ce(qt,n)}var or=null,Bd=!1,ff=!1;function E1(t){or===null?or=[t]:or.push(t)}function Fk(t){Bd=!0,E1(t)}function Es(){if(!ff&&or!==null){ff=!0;var t=0,e=xe;try{var n=or;for(xe=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}or=null,Bd=!1}catch(s){throw or!==null&&(or=or.slice(t+1)),YE(tg,Es),s}finally{xe=e,ff=!1}}return null}var $i=[],Ui=0,Pu=null,Ru=0,un=[],dn=0,Zs=null,lr=1,cr="";function Ns(t,e){$i[Ui++]=Ru,$i[Ui++]=Pu,Pu=t,Ru=e}function x1(t,e,n){un[dn++]=lr,un[dn++]=cr,un[dn++]=Zs,Zs=t;var r=lr;t=cr;var s=32-xn(r)-1;r&=~(1<<s),n+=1;var i=32-xn(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,lr=1<<32-xn(e)+s|n<<s|r,cr=i+t}else lr=1<<i|n<<s|r,cr=t}function ug(t){t.return!==null&&(Ns(t,1),x1(t,1,0))}function dg(t){for(;t===Pu;)Pu=$i[--Ui],$i[Ui]=null,Ru=$i[--Ui],$i[Ui]=null;for(;t===Zs;)Zs=un[--dn],un[dn]=null,cr=un[--dn],un[dn]=null,lr=un[--dn],un[dn]=null}var tn=null,Zt=null,Re=!1,En=null;function b1(t,e){var n=fn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function n0(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,tn=t,Zt=Zr(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,tn=t,Zt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Zs!==null?{id:lr,overflow:cr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=fn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,tn=t,Zt=null,!0):!1;default:return!1}}function Rp(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Ap(t){if(Re){var e=Zt;if(e){var n=e;if(!n0(t,e)){if(Rp(t))throw Error(L(418));e=Zr(n.nextSibling);var r=tn;e&&n0(t,e)?b1(r,n):(t.flags=t.flags&-4097|2,Re=!1,tn=t)}}else{if(Rp(t))throw Error(L(418));t.flags=t.flags&-4097|2,Re=!1,tn=t}}}function r0(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;tn=t}function bc(t){if(t!==tn)return!1;if(!Re)return r0(t),Re=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!kp(t.type,t.memoizedProps)),e&&(e=Zt)){if(Rp(t))throw T1(),Error(L(418));for(;e;)b1(t,e),e=Zr(e.nextSibling)}if(r0(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(L(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Zt=Zr(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Zt=null}}else Zt=tn?Zr(t.stateNode.nextSibling):null;return!0}function T1(){for(var t=Zt;t;)t=Zr(t.nextSibling)}function co(){Zt=tn=null,Re=!1}function hg(t){En===null?En=[t]:En.push(t)}var Vk=Dr.ReactCurrentBatchConfig;function _n(t,e){if(t&&t.defaultProps){e=je({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var Au=ws(null),Ou=null,Bi=null,fg=null;function pg(){fg=Bi=Ou=null}function mg(t){var e=Au.current;Ne(Au),t._currentValue=e}function Op(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Xi(t,e){Ou=t,fg=Bi=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Ht=!0),t.firstContext=null)}function mn(t){var e=t._currentValue;if(fg!==t)if(t={context:t,memoizedValue:e,next:null},Bi===null){if(Ou===null)throw Error(L(308));Bi=t,Ou.dependencies={lanes:0,firstContext:t}}else Bi=Bi.next=t;return e}var Fs=null;function gg(t){Fs===null?Fs=[t]:Fs.push(t)}function C1(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,gg(e)):(n.next=s.next,s.next=n),e.interleaved=n,Er(t,r)}function Er(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Lr=!1;function vg(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function S1(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function pr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function es(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,he&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,Er(t,n)}return s=r.interleaved,s===null?(e.next=e,gg(r)):(e.next=s.next,s.next=e),r.interleaved=e,Er(t,n)}function Zc(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,ng(t,n)}}function s0(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Mu(t,e,n,r){var s=t.updateQueue;Lr=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?i=c:o.next=c,o=l;var u=t.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==o&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(i!==null){var h=s.baseState;o=0,u=c=l=null,a=i;do{var f=a.lane,p=a.eventTime;if((r&f)===f){u!==null&&(u=u.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var y=t,g=a;switch(f=e,p=n,g.tag){case 1:if(y=g.payload,typeof y=="function"){h=y.call(p,h,f);break e}h=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=g.payload,f=typeof y=="function"?y.call(p,h,f):y,f==null)break e;h=je({},h,f);break e;case 2:Lr=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=s.effects,f===null?s.effects=[a]:f.push(a))}else p={eventTime:p,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=p,l=h):u=u.next=p,o|=f;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;f=a,a=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(1);if(u===null&&(l=h),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=u,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);ti|=o,t.lanes=o,t.memoizedState=h}}function i0(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(L(191,s));s.call(r)}}}var D1=new CE.Component().refs;function Mp(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:je({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Wd={isMounted:function(t){return(t=t._reactInternals)?gi(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Lt(),s=ns(t),i=pr(r,s);i.payload=e,n!=null&&(i.callback=n),e=es(t,i,s),e!==null&&(bn(e,t,s,r),Zc(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Lt(),s=ns(t),i=pr(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=es(t,i,s),e!==null&&(bn(e,t,s,r),Zc(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Lt(),r=ns(t),s=pr(n,r);s.tag=2,e!=null&&(s.callback=e),e=es(t,s,r),e!==null&&(bn(e,t,r,n),Zc(e,t,r))}};function o0(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!Ka(n,r)||!Ka(s,i):!0}function k1(t,e,n){var r=!1,s=hs,i=e.contextType;return typeof i=="object"&&i!==null?i=mn(i):(s=Qt(e)?Js:It.current,r=e.contextTypes,i=(r=r!=null)?lo(t,s):hs),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Wd,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function a0(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Wd.enqueueReplaceState(e,e.state,null)}function jp(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs=D1,vg(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=mn(i):(i=Qt(e)?Js:It.current,s.context=lo(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Mp(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Wd.enqueueReplaceState(s,s.state,null),Mu(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Ko(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(L(309));var r=n.stateNode}if(!r)throw Error(L(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;a===D1&&(a=s.refs={}),o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(L(284));if(!n._owner)throw Error(L(290,t))}return t}function Tc(t,e){throw t=Object.prototype.toString.call(e),Error(L(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function l0(t){var e=t._init;return e(t._payload)}function I1(t){function e(m,_){if(t){var v=m.deletions;v===null?(m.deletions=[_],m.flags|=16):v.push(_)}}function n(m,_){if(!t)return null;for(;_!==null;)e(m,_),_=_.sibling;return null}function r(m,_){for(m=new Map;_!==null;)_.key!==null?m.set(_.key,_):m.set(_.index,_),_=_.sibling;return m}function s(m,_){return m=rs(m,_),m.index=0,m.sibling=null,m}function i(m,_,v){return m.index=v,t?(v=m.alternate,v!==null?(v=v.index,v<_?(m.flags|=2,_):v):(m.flags|=2,_)):(m.flags|=1048576,_)}function o(m){return t&&m.alternate===null&&(m.flags|=2),m}function a(m,_,v,x){return _===null||_.tag!==6?(_=wf(v,m.mode,x),_.return=m,_):(_=s(_,v),_.return=m,_)}function l(m,_,v,x){var T=v.type;return T===Oi?u(m,_,v.props.children,x,v.key):_!==null&&(_.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===jr&&l0(T)===_.type)?(x=s(_,v.props),x.ref=Ko(m,_,v),x.return=m,x):(x=iu(v.type,v.key,v.props,null,m.mode,x),x.ref=Ko(m,_,v),x.return=m,x)}function c(m,_,v,x){return _===null||_.tag!==4||_.stateNode.containerInfo!==v.containerInfo||_.stateNode.implementation!==v.implementation?(_=Ef(v,m.mode,x),_.return=m,_):(_=s(_,v.children||[]),_.return=m,_)}function u(m,_,v,x,T){return _===null||_.tag!==7?(_=qs(v,m.mode,x,T),_.return=m,_):(_=s(_,v),_.return=m,_)}function h(m,_,v){if(typeof _=="string"&&_!==""||typeof _=="number")return _=wf(""+_,m.mode,v),_.return=m,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case fc:return v=iu(_.type,_.key,_.props,null,m.mode,v),v.ref=Ko(m,null,_),v.return=m,v;case Ai:return _=Ef(_,m.mode,v),_.return=m,_;case jr:var x=_._init;return h(m,x(_._payload),v)}if(ua(_)||Ho(_))return _=qs(_,m.mode,v,null),_.return=m,_;Tc(m,_)}return null}function f(m,_,v,x){var T=_!==null?_.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return T!==null?null:a(m,_,""+v,x);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case fc:return v.key===T?l(m,_,v,x):null;case Ai:return v.key===T?c(m,_,v,x):null;case jr:return T=v._init,f(m,_,T(v._payload),x)}if(ua(v)||Ho(v))return T!==null?null:u(m,_,v,x,null);Tc(m,v)}return null}function p(m,_,v,x,T){if(typeof x=="string"&&x!==""||typeof x=="number")return m=m.get(v)||null,a(_,m,""+x,T);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case fc:return m=m.get(x.key===null?v:x.key)||null,l(_,m,x,T);case Ai:return m=m.get(x.key===null?v:x.key)||null,c(_,m,x,T);case jr:var C=x._init;return p(m,_,v,C(x._payload),T)}if(ua(x)||Ho(x))return m=m.get(v)||null,u(_,m,x,T,null);Tc(_,x)}return null}function y(m,_,v,x){for(var T=null,C=null,b=_,S=_=0,D=null;b!==null&&S<v.length;S++){b.index>S?(D=b,b=null):D=b.sibling;var I=f(m,b,v[S],x);if(I===null){b===null&&(b=D);break}t&&b&&I.alternate===null&&e(m,b),_=i(I,_,S),C===null?T=I:C.sibling=I,C=I,b=D}if(S===v.length)return n(m,b),Re&&Ns(m,S),T;if(b===null){for(;S<v.length;S++)b=h(m,v[S],x),b!==null&&(_=i(b,_,S),C===null?T=b:C.sibling=b,C=b);return Re&&Ns(m,S),T}for(b=r(m,b);S<v.length;S++)D=p(b,m,S,v[S],x),D!==null&&(t&&D.alternate!==null&&b.delete(D.key===null?S:D.key),_=i(D,_,S),C===null?T=D:C.sibling=D,C=D);return t&&b.forEach(function(P){return e(m,P)}),Re&&Ns(m,S),T}function g(m,_,v,x){var T=Ho(v);if(typeof T!="function")throw Error(L(150));if(v=T.call(v),v==null)throw Error(L(151));for(var C=T=null,b=_,S=_=0,D=null,I=v.next();b!==null&&!I.done;S++,I=v.next()){b.index>S?(D=b,b=null):D=b.sibling;var P=f(m,b,I.value,x);if(P===null){b===null&&(b=D);break}t&&b&&P.alternate===null&&e(m,b),_=i(P,_,S),C===null?T=P:C.sibling=P,C=P,b=D}if(I.done)return n(m,b),Re&&Ns(m,S),T;if(b===null){for(;!I.done;S++,I=v.next())I=h(m,I.value,x),I!==null&&(_=i(I,_,S),C===null?T=I:C.sibling=I,C=I);return Re&&Ns(m,S),T}for(b=r(m,b);!I.done;S++,I=v.next())I=p(b,m,S,I.value,x),I!==null&&(t&&I.alternate!==null&&b.delete(I.key===null?S:I.key),_=i(I,_,S),C===null?T=I:C.sibling=I,C=I);return t&&b.forEach(function(M){return e(m,M)}),Re&&Ns(m,S),T}function w(m,_,v,x){if(typeof v=="object"&&v!==null&&v.type===Oi&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case fc:e:{for(var T=v.key,C=_;C!==null;){if(C.key===T){if(T=v.type,T===Oi){if(C.tag===7){n(m,C.sibling),_=s(C,v.props.children),_.return=m,m=_;break e}}else if(C.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===jr&&l0(T)===C.type){n(m,C.sibling),_=s(C,v.props),_.ref=Ko(m,C,v),_.return=m,m=_;break e}n(m,C);break}else e(m,C);C=C.sibling}v.type===Oi?(_=qs(v.props.children,m.mode,x,v.key),_.return=m,m=_):(x=iu(v.type,v.key,v.props,null,m.mode,x),x.ref=Ko(m,_,v),x.return=m,m=x)}return o(m);case Ai:e:{for(C=v.key;_!==null;){if(_.key===C)if(_.tag===4&&_.stateNode.containerInfo===v.containerInfo&&_.stateNode.implementation===v.implementation){n(m,_.sibling),_=s(_,v.children||[]),_.return=m,m=_;break e}else{n(m,_);break}else e(m,_);_=_.sibling}_=Ef(v,m.mode,x),_.return=m,m=_}return o(m);case jr:return C=v._init,w(m,_,C(v._payload),x)}if(ua(v))return y(m,_,v,x);if(Ho(v))return g(m,_,v,x);Tc(m,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,_!==null&&_.tag===6?(n(m,_.sibling),_=s(_,v),_.return=m,m=_):(n(m,_),_=wf(v,m.mode,x),_.return=m,m=_),o(m)):n(m,_)}return w}var uo=I1(!0),N1=I1(!1),Pl={},qn=ws(Pl),Za=ws(Pl),el=ws(Pl);function Vs(t){if(t===Pl)throw Error(L(174));return t}function yg(t,e){switch(Ce(el,e),Ce(Za,t),Ce(qn,Pl),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:pp(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=pp(e,t)}Ne(qn),Ce(qn,e)}function ho(){Ne(qn),Ne(Za),Ne(el)}function P1(t){Vs(el.current);var e=Vs(qn.current),n=pp(e,t.type);e!==n&&(Ce(Za,t),Ce(qn,n))}function _g(t){Za.current===t&&(Ne(qn),Ne(Za))}var Ae=ws(0);function ju(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var pf=[];function wg(){for(var t=0;t<pf.length;t++)pf[t]._workInProgressVersionPrimary=null;pf.length=0}var eu=Dr.ReactCurrentDispatcher,mf=Dr.ReactCurrentBatchConfig,ei=0,Me=null,et=null,it=null,Lu=!1,ka=!1,tl=0,$k=0;function wt(){throw Error(L(321))}function Eg(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Tn(t[n],e[n]))return!1;return!0}function xg(t,e,n,r,s,i){if(ei=i,Me=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,eu.current=t===null||t.memoizedState===null?Hk:zk,t=n(r,s),ka){i=0;do{if(ka=!1,tl=0,25<=i)throw Error(L(301));i+=1,it=et=null,e.updateQueue=null,eu.current=Yk,t=n(r,s)}while(ka)}if(eu.current=Fu,e=et!==null&&et.next!==null,ei=0,it=et=Me=null,Lu=!1,e)throw Error(L(300));return t}function bg(){var t=tl!==0;return tl=0,t}function Mn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return it===null?Me.memoizedState=it=t:it=it.next=t,it}function gn(){if(et===null){var t=Me.alternate;t=t!==null?t.memoizedState:null}else t=et.next;var e=it===null?Me.memoizedState:it.next;if(e!==null)it=e,et=t;else{if(t===null)throw Error(L(310));et=t,t={memoizedState:et.memoizedState,baseState:et.baseState,baseQueue:et.baseQueue,queue:et.queue,next:null},it===null?Me.memoizedState=it=t:it=it.next=t}return it}function nl(t,e){return typeof e=="function"?e(t):e}function gf(t){var e=gn(),n=e.queue;if(n===null)throw Error(L(311));n.lastRenderedReducer=t;var r=et,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,c=i;do{var u=c.lane;if((ei&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var h={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=h,o=r):l=l.next=h,Me.lanes|=u,ti|=u}c=c.next}while(c!==null&&c!==i);l===null?o=r:l.next=a,Tn(r,e.memoizedState)||(Ht=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,Me.lanes|=i,ti|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function vf(t){var e=gn(),n=e.queue;if(n===null)throw Error(L(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);Tn(i,e.memoizedState)||(Ht=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function R1(){}function A1(t,e){var n=Me,r=gn(),s=e(),i=!Tn(r.memoizedState,s);if(i&&(r.memoizedState=s,Ht=!0),r=r.queue,Tg(j1.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||it!==null&&it.memoizedState.tag&1){if(n.flags|=2048,rl(9,M1.bind(null,n,r,s,e),void 0,null),lt===null)throw Error(L(349));ei&30||O1(n,e,s)}return s}function O1(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Me.updateQueue,e===null?(e={lastEffect:null,stores:null},Me.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function M1(t,e,n,r){e.value=n,e.getSnapshot=r,L1(e)&&F1(t)}function j1(t,e,n){return n(function(){L1(e)&&F1(t)})}function L1(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Tn(t,n)}catch{return!0}}function F1(t){var e=Er(t,1);e!==null&&bn(e,t,1,-1)}function c0(t){var e=Mn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:nl,lastRenderedState:t},e.queue=t,t=t.dispatch=Wk.bind(null,Me,t),[e.memoizedState,t]}function rl(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Me.updateQueue,e===null?(e={lastEffect:null,stores:null},Me.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function V1(){return gn().memoizedState}function tu(t,e,n,r){var s=Mn();Me.flags|=t,s.memoizedState=rl(1|e,n,void 0,r===void 0?null:r)}function Hd(t,e,n,r){var s=gn();r=r===void 0?null:r;var i=void 0;if(et!==null){var o=et.memoizedState;if(i=o.destroy,r!==null&&Eg(r,o.deps)){s.memoizedState=rl(e,n,i,r);return}}Me.flags|=t,s.memoizedState=rl(1|e,n,i,r)}function u0(t,e){return tu(8390656,8,t,e)}function Tg(t,e){return Hd(2048,8,t,e)}function $1(t,e){return Hd(4,2,t,e)}function U1(t,e){return Hd(4,4,t,e)}function B1(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function W1(t,e,n){return n=n!=null?n.concat([t]):null,Hd(4,4,B1.bind(null,e,t),n)}function Cg(){}function H1(t,e){var n=gn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Eg(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function z1(t,e){var n=gn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Eg(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Y1(t,e,n){return ei&21?(Tn(n,e)||(n=KE(),Me.lanes|=n,ti|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Ht=!0),t.memoizedState=n)}function Uk(t,e){var n=xe;xe=n!==0&&4>n?n:4,t(!0);var r=mf.transition;mf.transition={};try{t(!1),e()}finally{xe=n,mf.transition=r}}function q1(){return gn().memoizedState}function Bk(t,e,n){var r=ns(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Q1(t))K1(e,n);else if(n=C1(t,e,n,r),n!==null){var s=Lt();bn(n,t,r,s),G1(n,e,r)}}function Wk(t,e,n){var r=ns(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Q1(t))K1(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,Tn(a,o)){var l=e.interleaved;l===null?(s.next=s,gg(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}n=C1(t,e,s,r),n!==null&&(s=Lt(),bn(n,t,r,s),G1(n,e,r))}}function Q1(t){var e=t.alternate;return t===Me||e!==null&&e===Me}function K1(t,e){ka=Lu=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function G1(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,ng(t,n)}}var Fu={readContext:mn,useCallback:wt,useContext:wt,useEffect:wt,useImperativeHandle:wt,useInsertionEffect:wt,useLayoutEffect:wt,useMemo:wt,useReducer:wt,useRef:wt,useState:wt,useDebugValue:wt,useDeferredValue:wt,useTransition:wt,useMutableSource:wt,useSyncExternalStore:wt,useId:wt,unstable_isNewReconciler:!1},Hk={readContext:mn,useCallback:function(t,e){return Mn().memoizedState=[t,e===void 0?null:e],t},useContext:mn,useEffect:u0,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,tu(4194308,4,B1.bind(null,e,t),n)},useLayoutEffect:function(t,e){return tu(4194308,4,t,e)},useInsertionEffect:function(t,e){return tu(4,2,t,e)},useMemo:function(t,e){var n=Mn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Mn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=Bk.bind(null,Me,t),[r.memoizedState,t]},useRef:function(t){var e=Mn();return t={current:t},e.memoizedState=t},useState:c0,useDebugValue:Cg,useDeferredValue:function(t){return Mn().memoizedState=t},useTransition:function(){var t=c0(!1),e=t[0];return t=Uk.bind(null,t[1]),Mn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Me,s=Mn();if(Re){if(n===void 0)throw Error(L(407));n=n()}else{if(n=e(),lt===null)throw Error(L(349));ei&30||O1(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,u0(j1.bind(null,r,i,t),[t]),r.flags|=2048,rl(9,M1.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=Mn(),e=lt.identifierPrefix;if(Re){var n=cr,r=lr;n=(r&~(1<<32-xn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=tl++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=$k++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},zk={readContext:mn,useCallback:H1,useContext:mn,useEffect:Tg,useImperativeHandle:W1,useInsertionEffect:$1,useLayoutEffect:U1,useMemo:z1,useReducer:gf,useRef:V1,useState:function(){return gf(nl)},useDebugValue:Cg,useDeferredValue:function(t){var e=gn();return Y1(e,et.memoizedState,t)},useTransition:function(){var t=gf(nl)[0],e=gn().memoizedState;return[t,e]},useMutableSource:R1,useSyncExternalStore:A1,useId:q1,unstable_isNewReconciler:!1},Yk={readContext:mn,useCallback:H1,useContext:mn,useEffect:Tg,useImperativeHandle:W1,useInsertionEffect:$1,useLayoutEffect:U1,useMemo:z1,useReducer:vf,useRef:V1,useState:function(){return vf(nl)},useDebugValue:Cg,useDeferredValue:function(t){var e=gn();return et===null?e.memoizedState=t:Y1(e,et.memoizedState,t)},useTransition:function(){var t=vf(nl)[0],e=gn().memoizedState;return[t,e]},useMutableSource:R1,useSyncExternalStore:A1,useId:q1,unstable_isNewReconciler:!1};function fo(t,e){try{var n="",r=e;do n+=wD(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function yf(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Lp(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var qk=typeof WeakMap=="function"?WeakMap:Map;function X1(t,e,n){n=pr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){$u||($u=!0,qp=r),Lp(t,e)},n}function J1(t,e,n){n=pr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){Lp(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Lp(t,e),typeof r!="function"&&(ts===null?ts=new Set([this]):ts.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function d0(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new qk;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=aI.bind(null,t,e,n),e.then(t,t))}function h0(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function f0(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=pr(-1,1),e.tag=2,es(n,e,1))),n.lanes|=1),t)}var Qk=Dr.ReactCurrentOwner,Ht=!1;function At(t,e,n,r){e.child=t===null?N1(e,null,n,r):uo(e,t.child,n,r)}function p0(t,e,n,r,s){n=n.render;var i=e.ref;return Xi(e,s),r=xg(t,e,n,r,i,s),n=bg(),t!==null&&!Ht?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,xr(t,e,s)):(Re&&n&&ug(e),e.flags|=1,At(t,e,r,s),e.child)}function m0(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!Ag(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,Z1(t,e,i,r,s)):(t=iu(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Ka,n(o,r)&&t.ref===e.ref)return xr(t,e,s)}return e.flags|=1,t=rs(i,r),t.ref=e.ref,t.return=e,e.child=t}function Z1(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(Ka(i,r)&&t.ref===e.ref)if(Ht=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(Ht=!0);else return e.lanes=t.lanes,xr(t,e,s)}return Fp(t,e,n,r,s)}function ex(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ce(Hi,Xt),Xt|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ce(Hi,Xt),Xt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,Ce(Hi,Xt),Xt|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,Ce(Hi,Xt),Xt|=r;return At(t,e,s,n),e.child}function tx(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Fp(t,e,n,r,s){var i=Qt(n)?Js:It.current;return i=lo(e,i),Xi(e,s),n=xg(t,e,n,r,i,s),r=bg(),t!==null&&!Ht?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,xr(t,e,s)):(Re&&r&&ug(e),e.flags|=1,At(t,e,n,s),e.child)}function g0(t,e,n,r,s){if(Qt(n)){var i=!0;Nu(e)}else i=!1;if(Xi(e,s),e.stateNode===null)nu(t,e),k1(e,n,r),jp(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=mn(c):(c=Qt(n)?Js:It.current,c=lo(e,c));var u=n.getDerivedStateFromProps,h=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&a0(e,o,r,c),Lr=!1;var f=e.memoizedState;o.state=f,Mu(e,r,o,s),l=e.memoizedState,a!==r||f!==l||qt.current||Lr?(typeof u=="function"&&(Mp(e,n,u,r),l=e.memoizedState),(a=Lr||o0(e,n,a,r,f,l,c))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,S1(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:_n(e.type,a),o.props=c,h=e.pendingProps,f=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=mn(l):(l=Qt(n)?Js:It.current,l=lo(e,l));var p=n.getDerivedStateFromProps;(u=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||f!==l)&&a0(e,o,r,l),Lr=!1,f=e.memoizedState,o.state=f,Mu(e,r,o,s);var y=e.memoizedState;a!==h||f!==y||qt.current||Lr?(typeof p=="function"&&(Mp(e,n,p,r),y=e.memoizedState),(c=Lr||o0(e,n,c,r,f,y,l)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,y,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,y,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=y),o.props=r,o.state=y,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return Vp(t,e,n,r,i,s)}function Vp(t,e,n,r,s,i){tx(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&t0(e,n,!1),xr(t,e,i);r=e.stateNode,Qk.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=uo(e,t.child,null,i),e.child=uo(e,null,a,i)):At(t,e,a,i),e.memoizedState=r.state,s&&t0(e,n,!0),e.child}function nx(t){var e=t.stateNode;e.pendingContext?e0(t,e.pendingContext,e.pendingContext!==e.context):e.context&&e0(t,e.context,!1),yg(t,e.containerInfo)}function v0(t,e,n,r,s){return co(),hg(s),e.flags|=256,At(t,e,n,r),e.child}var $p={dehydrated:null,treeContext:null,retryLane:0};function Up(t){return{baseLanes:t,cachePool:null,transitions:null}}function rx(t,e,n){var r=e.pendingProps,s=Ae.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),Ce(Ae,s&1),t===null)return Ap(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=qd(o,r,0,null),t=qs(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=Up(n),e.memoizedState=$p,t):Sg(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return Kk(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=rs(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=rs(a,i):(i=qs(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?Up(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=$p,r}return i=t.child,t=i.sibling,r=rs(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Sg(t,e){return e=qd({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Cc(t,e,n,r){return r!==null&&hg(r),uo(e,t.child,null,n),t=Sg(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Kk(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=yf(Error(L(422))),Cc(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=qd({mode:"visible",children:r.children},s,0,null),i=qs(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&uo(e,t.child,null,o),e.child.memoizedState=Up(o),e.memoizedState=$p,i);if(!(e.mode&1))return Cc(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(L(419)),r=yf(i,r,void 0),Cc(t,e,o,r)}if(a=(o&t.childLanes)!==0,Ht||a){if(r=lt,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Er(t,s),bn(r,t,s,-1))}return Rg(),r=yf(Error(L(421))),Cc(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=lI.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,Zt=Zr(s.nextSibling),tn=e,Re=!0,En=null,t!==null&&(un[dn++]=lr,un[dn++]=cr,un[dn++]=Zs,lr=t.id,cr=t.overflow,Zs=e),e=Sg(e,r.children),e.flags|=4096,e)}function y0(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Op(t.return,e,n)}function _f(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function sx(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(At(t,e,r.children,n),r=Ae.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&y0(t,n,e);else if(t.tag===19)y0(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Ce(Ae,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&ju(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),_f(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&ju(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}_f(e,!0,n,null,i);break;case"together":_f(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function nu(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function xr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),ti|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(L(153));if(e.child!==null){for(t=e.child,n=rs(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=rs(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Gk(t,e,n){switch(e.tag){case 3:nx(e),co();break;case 5:P1(e);break;case 1:Qt(e.type)&&Nu(e);break;case 4:yg(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;Ce(Au,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Ce(Ae,Ae.current&1),e.flags|=128,null):n&e.child.childLanes?rx(t,e,n):(Ce(Ae,Ae.current&1),t=xr(t,e,n),t!==null?t.sibling:null);Ce(Ae,Ae.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return sx(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Ce(Ae,Ae.current),r)break;return null;case 22:case 23:return e.lanes=0,ex(t,e,n)}return xr(t,e,n)}var ix,Bp,ox,ax;ix=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Bp=function(){};ox=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,Vs(qn.current);var i=null;switch(n){case"input":s=up(t,s),r=up(t,r),i=[];break;case"select":s=je({},s,{value:void 0}),r=je({},r,{value:void 0}),i=[];break;case"textarea":s=fp(t,s),r=fp(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=ku)}mp(n,r);var o;n=null;for(c in s)if(!r.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var a=s[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Ba.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var l=r[c];if(a=s!=null?s[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Ba.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&De("scroll",t),i||a===l||(i=[])):(i=i||[]).push(c,l))}n&&(i=i||[]).push("style",n);var c=i;(e.updateQueue=c)&&(e.flags|=4)}};ax=function(t,e,n,r){n!==r&&(e.flags|=4)};function Go(t,e){if(!Re)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Et(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function Xk(t,e,n){var r=e.pendingProps;switch(dg(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Et(e),null;case 1:return Qt(e.type)&&Iu(),Et(e),null;case 3:return r=e.stateNode,ho(),Ne(qt),Ne(It),wg(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(bc(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,En!==null&&(Gp(En),En=null))),Bp(t,e),Et(e),null;case 5:_g(e);var s=Vs(el.current);if(n=e.type,t!==null&&e.stateNode!=null)ox(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(L(166));return Et(e),null}if(t=Vs(qn.current),bc(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[Fn]=e,r[Ja]=i,t=(e.mode&1)!==0,n){case"dialog":De("cancel",r),De("close",r);break;case"iframe":case"object":case"embed":De("load",r);break;case"video":case"audio":for(s=0;s<ha.length;s++)De(ha[s],r);break;case"source":De("error",r);break;case"img":case"image":case"link":De("error",r),De("load",r);break;case"details":De("toggle",r);break;case"input":Dy(r,i),De("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},De("invalid",r);break;case"textarea":Iy(r,i),De("invalid",r)}mp(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&xc(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&xc(r.textContent,a,t),s=["children",""+a]):Ba.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&De("scroll",r)}switch(n){case"input":pc(r),ky(r,i,!0);break;case"textarea":pc(r),Ny(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=ku)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=OE(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Fn]=e,t[Ja]=r,ix(t,e,!1,!1),e.stateNode=t;e:{switch(o=gp(n,r),n){case"dialog":De("cancel",t),De("close",t),s=r;break;case"iframe":case"object":case"embed":De("load",t),s=r;break;case"video":case"audio":for(s=0;s<ha.length;s++)De(ha[s],t);s=r;break;case"source":De("error",t),s=r;break;case"img":case"image":case"link":De("error",t),De("load",t),s=r;break;case"details":De("toggle",t),s=r;break;case"input":Dy(t,r),s=up(t,r),De("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=je({},r,{value:void 0}),De("invalid",t);break;case"textarea":Iy(t,r),s=fp(t,r),De("invalid",t);break;default:s=r}mp(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?LE(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&ME(t,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Wa(t,l):typeof l=="number"&&Wa(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Ba.hasOwnProperty(i)?l!=null&&i==="onScroll"&&De("scroll",t):l!=null&&Gm(t,i,l,o))}switch(n){case"input":pc(t),ky(t,r,!1);break;case"textarea":pc(t),Ny(t);break;case"option":r.value!=null&&t.setAttribute("value",""+ds(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?qi(t,!!r.multiple,i,!1):r.defaultValue!=null&&qi(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=ku)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Et(e),null;case 6:if(t&&e.stateNode!=null)ax(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(L(166));if(n=Vs(el.current),Vs(qn.current),bc(e)){if(r=e.stateNode,n=e.memoizedProps,r[Fn]=e,(i=r.nodeValue!==n)&&(t=tn,t!==null))switch(t.tag){case 3:xc(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&xc(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Fn]=e,e.stateNode=r}return Et(e),null;case 13:if(Ne(Ae),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Re&&Zt!==null&&e.mode&1&&!(e.flags&128))T1(),co(),e.flags|=98560,i=!1;else if(i=bc(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(L(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(L(317));i[Fn]=e}else co(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Et(e),i=!1}else En!==null&&(Gp(En),En=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Ae.current&1?tt===0&&(tt=3):Rg())),e.updateQueue!==null&&(e.flags|=4),Et(e),null);case 4:return ho(),Bp(t,e),t===null&&Ga(e.stateNode.containerInfo),Et(e),null;case 10:return mg(e.type._context),Et(e),null;case 17:return Qt(e.type)&&Iu(),Et(e),null;case 19:if(Ne(Ae),i=e.memoizedState,i===null)return Et(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)Go(i,!1);else{if(tt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=ju(t),o!==null){for(e.flags|=128,Go(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ce(Ae,Ae.current&1|2),e.child}t=t.sibling}i.tail!==null&&We()>po&&(e.flags|=128,r=!0,Go(i,!1),e.lanes=4194304)}else{if(!r)if(t=ju(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Go(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Re)return Et(e),null}else 2*We()-i.renderingStartTime>po&&n!==1073741824&&(e.flags|=128,r=!0,Go(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=We(),e.sibling=null,n=Ae.current,Ce(Ae,r?n&1|2:n&1),e):(Et(e),null);case 22:case 23:return Pg(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Xt&1073741824&&(Et(e),e.subtreeFlags&6&&(e.flags|=8192)):Et(e),null;case 24:return null;case 25:return null}throw Error(L(156,e.tag))}function Jk(t,e){switch(dg(e),e.tag){case 1:return Qt(e.type)&&Iu(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ho(),Ne(qt),Ne(It),wg(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return _g(e),null;case 13:if(Ne(Ae),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(L(340));co()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ne(Ae),null;case 4:return ho(),null;case 10:return mg(e.type._context),null;case 22:case 23:return Pg(),null;case 24:return null;default:return null}}var Sc=!1,Tt=!1,Zk=typeof WeakSet=="function"?WeakSet:Set,Q=null;function Wi(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Fe(t,e,r)}else n.current=null}function Wp(t,e,n){try{n()}catch(r){Fe(t,e,r)}}var _0=!1;function eI(t,e){if(Sp=Cu,t=d1(),cg(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,u=0,h=t,f=null;t:for(;;){for(var p;h!==n||s!==0&&h.nodeType!==3||(a=o+s),h!==i||r!==0&&h.nodeType!==3||(l=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(p=h.firstChild)!==null;)f=h,h=p;for(;;){if(h===t)break t;if(f===n&&++c===s&&(a=o),f===i&&++u===r&&(l=o),(p=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=p}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Dp={focusedElem:t,selectionRange:n},Cu=!1,Q=e;Q!==null;)if(e=Q,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Q=t;else for(;Q!==null;){e=Q;try{var y=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var g=y.memoizedProps,w=y.memoizedState,m=e.stateNode,_=m.getSnapshotBeforeUpdate(e.elementType===e.type?g:_n(e.type,g),w);m.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var v=e.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(L(163))}}catch(x){Fe(e,e.return,x)}if(t=e.sibling,t!==null){t.return=e.return,Q=t;break}Q=e.return}return y=_0,_0=!1,y}function Ia(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&Wp(e,n,i)}s=s.next}while(s!==r)}}function zd(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Hp(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function lx(t){var e=t.alternate;e!==null&&(t.alternate=null,lx(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Fn],delete e[Ja],delete e[Np],delete e[jk],delete e[Lk])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function cx(t){return t.tag===5||t.tag===3||t.tag===4}function w0(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||cx(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function zp(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=ku));else if(r!==4&&(t=t.child,t!==null))for(zp(t,e,n),t=t.sibling;t!==null;)zp(t,e,n),t=t.sibling}function Yp(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Yp(t,e,n),t=t.sibling;t!==null;)Yp(t,e,n),t=t.sibling}var ht=null,wn=!1;function Rr(t,e,n){for(n=n.child;n!==null;)ux(t,e,n),n=n.sibling}function ux(t,e,n){if(Yn&&typeof Yn.onCommitFiberUnmount=="function")try{Yn.onCommitFiberUnmount(Ld,n)}catch{}switch(n.tag){case 5:Tt||Wi(n,e);case 6:var r=ht,s=wn;ht=null,Rr(t,e,n),ht=r,wn=s,ht!==null&&(wn?(t=ht,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):ht.removeChild(n.stateNode));break;case 18:ht!==null&&(wn?(t=ht,n=n.stateNode,t.nodeType===8?hf(t.parentNode,n):t.nodeType===1&&hf(t,n),qa(t)):hf(ht,n.stateNode));break;case 4:r=ht,s=wn,ht=n.stateNode.containerInfo,wn=!0,Rr(t,e,n),ht=r,wn=s;break;case 0:case 11:case 14:case 15:if(!Tt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Wp(n,e,o),s=s.next}while(s!==r)}Rr(t,e,n);break;case 1:if(!Tt&&(Wi(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Fe(n,e,a)}Rr(t,e,n);break;case 21:Rr(t,e,n);break;case 22:n.mode&1?(Tt=(r=Tt)||n.memoizedState!==null,Rr(t,e,n),Tt=r):Rr(t,e,n);break;default:Rr(t,e,n)}}function E0(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new Zk),e.forEach(function(r){var s=cI.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function yn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:ht=a.stateNode,wn=!1;break e;case 3:ht=a.stateNode.containerInfo,wn=!0;break e;case 4:ht=a.stateNode.containerInfo,wn=!0;break e}a=a.return}if(ht===null)throw Error(L(160));ux(i,o,s),ht=null,wn=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(c){Fe(s,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)dx(e,t),e=e.sibling}function dx(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(yn(e,t),On(t),r&4){try{Ia(3,t,t.return),zd(3,t)}catch(g){Fe(t,t.return,g)}try{Ia(5,t,t.return)}catch(g){Fe(t,t.return,g)}}break;case 1:yn(e,t),On(t),r&512&&n!==null&&Wi(n,n.return);break;case 5:if(yn(e,t),On(t),r&512&&n!==null&&Wi(n,n.return),t.flags&32){var s=t.stateNode;try{Wa(s,"")}catch(g){Fe(t,t.return,g)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&RE(s,i),gp(a,o);var c=gp(a,i);for(o=0;o<l.length;o+=2){var u=l[o],h=l[o+1];u==="style"?LE(s,h):u==="dangerouslySetInnerHTML"?ME(s,h):u==="children"?Wa(s,h):Gm(s,u,h,c)}switch(a){case"input":dp(s,i);break;case"textarea":AE(s,i);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?qi(s,!!i.multiple,p,!1):f!==!!i.multiple&&(i.defaultValue!=null?qi(s,!!i.multiple,i.defaultValue,!0):qi(s,!!i.multiple,i.multiple?[]:"",!1))}s[Ja]=i}catch(g){Fe(t,t.return,g)}}break;case 6:if(yn(e,t),On(t),r&4){if(t.stateNode===null)throw Error(L(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(g){Fe(t,t.return,g)}}break;case 3:if(yn(e,t),On(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{qa(e.containerInfo)}catch(g){Fe(t,t.return,g)}break;case 4:yn(e,t),On(t);break;case 13:yn(e,t),On(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Ig=We())),r&4&&E0(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(Tt=(c=Tt)||u,yn(e,t),Tt=c):yn(e,t),On(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(Q=t,u=t.child;u!==null;){for(h=Q=u;Q!==null;){switch(f=Q,p=f.child,f.tag){case 0:case 11:case 14:case 15:Ia(4,f,f.return);break;case 1:Wi(f,f.return);var y=f.stateNode;if(typeof y.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,y.props=e.memoizedProps,y.state=e.memoizedState,y.componentWillUnmount()}catch(g){Fe(r,n,g)}}break;case 5:Wi(f,f.return);break;case 22:if(f.memoizedState!==null){b0(h);continue}}p!==null?(p.return=f,Q=p):b0(h)}u=u.sibling}e:for(u=null,h=t;;){if(h.tag===5){if(u===null){u=h;try{s=h.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=jE("display",o))}catch(g){Fe(t,t.return,g)}}}else if(h.tag===6){if(u===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(g){Fe(t,t.return,g)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;u===h&&(u=null),h=h.return}u===h&&(u=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:yn(e,t),On(t),r&4&&E0(t);break;case 21:break;default:yn(e,t),On(t)}}function On(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(cx(n)){var r=n;break e}n=n.return}throw Error(L(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Wa(s,""),r.flags&=-33);var i=w0(t);Yp(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=w0(t);zp(t,a,o);break;default:throw Error(L(161))}}catch(l){Fe(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function tI(t,e,n){Q=t,hx(t)}function hx(t,e,n){for(var r=(t.mode&1)!==0;Q!==null;){var s=Q,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||Sc;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||Tt;a=Sc;var c=Tt;if(Sc=o,(Tt=l)&&!c)for(Q=s;Q!==null;)o=Q,l=o.child,o.tag===22&&o.memoizedState!==null?T0(s):l!==null?(l.return=o,Q=l):T0(s);for(;i!==null;)Q=i,hx(i),i=i.sibling;Q=s,Sc=a,Tt=c}x0(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,Q=i):x0(t)}}function x0(t){for(;Q!==null;){var e=Q;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Tt||zd(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Tt)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:_n(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&i0(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}i0(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var h=u.dehydrated;h!==null&&qa(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(L(163))}Tt||e.flags&512&&Hp(e)}catch(f){Fe(e,e.return,f)}}if(e===t){Q=null;break}if(n=e.sibling,n!==null){n.return=e.return,Q=n;break}Q=e.return}}function b0(t){for(;Q!==null;){var e=Q;if(e===t){Q=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Q=n;break}Q=e.return}}function T0(t){for(;Q!==null;){var e=Q;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{zd(4,e)}catch(l){Fe(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(l){Fe(e,s,l)}}var i=e.return;try{Hp(e)}catch(l){Fe(e,i,l)}break;case 5:var o=e.return;try{Hp(e)}catch(l){Fe(e,o,l)}}}catch(l){Fe(e,e.return,l)}if(e===t){Q=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Q=a;break}Q=e.return}}var nI=Math.ceil,Vu=Dr.ReactCurrentDispatcher,Dg=Dr.ReactCurrentOwner,pn=Dr.ReactCurrentBatchConfig,he=0,lt=null,Ke=null,gt=0,Xt=0,Hi=ws(0),tt=0,sl=null,ti=0,Yd=0,kg=0,Na=null,Bt=null,Ig=0,po=1/0,ir=null,$u=!1,qp=null,ts=null,Dc=!1,zr=null,Uu=0,Pa=0,Qp=null,ru=-1,su=0;function Lt(){return he&6?We():ru!==-1?ru:ru=We()}function ns(t){return t.mode&1?he&2&&gt!==0?gt&-gt:Vk.transition!==null?(su===0&&(su=KE()),su):(t=xe,t!==0||(t=window.event,t=t===void 0?16:n1(t.type)),t):1}function bn(t,e,n,r){if(50<Pa)throw Pa=0,Qp=null,Error(L(185));kl(t,n,r),(!(he&2)||t!==lt)&&(t===lt&&(!(he&2)&&(Yd|=n),tt===4&&Vr(t,gt)),Kt(t,r),n===1&&he===0&&!(e.mode&1)&&(po=We()+500,Bd&&Es()))}function Kt(t,e){var n=t.callbackNode;VD(t,e);var r=Tu(t,t===lt?gt:0);if(r===0)n!==null&&Ay(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Ay(n),e===1)t.tag===0?Fk(C0.bind(null,t)):E1(C0.bind(null,t)),Ok(function(){!(he&6)&&Es()}),n=null;else{switch(GE(r)){case 1:n=tg;break;case 4:n=qE;break;case 16:n=bu;break;case 536870912:n=QE;break;default:n=bu}n=wx(n,fx.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function fx(t,e){if(ru=-1,su=0,he&6)throw Error(L(327));var n=t.callbackNode;if(Ji()&&t.callbackNode!==n)return null;var r=Tu(t,t===lt?gt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Bu(t,r);else{e=r;var s=he;he|=2;var i=mx();(lt!==t||gt!==e)&&(ir=null,po=We()+500,Ys(t,e));do try{iI();break}catch(a){px(t,a)}while(1);pg(),Vu.current=i,he=s,Ke!==null?e=0:(lt=null,gt=0,e=tt)}if(e!==0){if(e===2&&(s=Ep(t),s!==0&&(r=s,e=Kp(t,s))),e===1)throw n=sl,Ys(t,0),Vr(t,r),Kt(t,We()),n;if(e===6)Vr(t,r);else{if(s=t.current.alternate,!(r&30)&&!rI(s)&&(e=Bu(t,r),e===2&&(i=Ep(t),i!==0&&(r=i,e=Kp(t,i))),e===1))throw n=sl,Ys(t,0),Vr(t,r),Kt(t,We()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(L(345));case 2:Ps(t,Bt,ir);break;case 3:if(Vr(t,r),(r&130023424)===r&&(e=Ig+500-We(),10<e)){if(Tu(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){Lt(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Ip(Ps.bind(null,t,Bt,ir),e);break}Ps(t,Bt,ir);break;case 4:if(Vr(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-xn(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=We()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*nI(r/1960))-r,10<r){t.timeoutHandle=Ip(Ps.bind(null,t,Bt,ir),r);break}Ps(t,Bt,ir);break;case 5:Ps(t,Bt,ir);break;default:throw Error(L(329))}}}return Kt(t,We()),t.callbackNode===n?fx.bind(null,t):null}function Kp(t,e){var n=Na;return t.current.memoizedState.isDehydrated&&(Ys(t,e).flags|=256),t=Bu(t,e),t!==2&&(e=Bt,Bt=n,e!==null&&Gp(e)),t}function Gp(t){Bt===null?Bt=t:Bt.push.apply(Bt,t)}function rI(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!Tn(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Vr(t,e){for(e&=~kg,e&=~Yd,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-xn(e),r=1<<n;t[n]=-1,e&=~r}}function C0(t){if(he&6)throw Error(L(327));Ji();var e=Tu(t,0);if(!(e&1))return Kt(t,We()),null;var n=Bu(t,e);if(t.tag!==0&&n===2){var r=Ep(t);r!==0&&(e=r,n=Kp(t,r))}if(n===1)throw n=sl,Ys(t,0),Vr(t,e),Kt(t,We()),n;if(n===6)throw Error(L(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Ps(t,Bt,ir),Kt(t,We()),null}function Ng(t,e){var n=he;he|=1;try{return t(e)}finally{he=n,he===0&&(po=We()+500,Bd&&Es())}}function ni(t){zr!==null&&zr.tag===0&&!(he&6)&&Ji();var e=he;he|=1;var n=pn.transition,r=xe;try{if(pn.transition=null,xe=1,t)return t()}finally{xe=r,pn.transition=n,he=e,!(he&6)&&Es()}}function Pg(){Xt=Hi.current,Ne(Hi)}function Ys(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,Ak(n)),Ke!==null)for(n=Ke.return;n!==null;){var r=n;switch(dg(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Iu();break;case 3:ho(),Ne(qt),Ne(It),wg();break;case 5:_g(r);break;case 4:ho();break;case 13:Ne(Ae);break;case 19:Ne(Ae);break;case 10:mg(r.type._context);break;case 22:case 23:Pg()}n=n.return}if(lt=t,Ke=t=rs(t.current,null),gt=Xt=e,tt=0,sl=null,kg=Yd=ti=0,Bt=Na=null,Fs!==null){for(e=0;e<Fs.length;e++)if(n=Fs[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}Fs=null}return t}function px(t,e){do{var n=Ke;try{if(pg(),eu.current=Fu,Lu){for(var r=Me.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Lu=!1}if(ei=0,it=et=Me=null,ka=!1,tl=0,Dg.current=null,n===null||n.return===null){tt=1,sl=e,Ke=null;break}e:{var i=t,o=n.return,a=n,l=e;if(e=gt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,h=u.tag;if(!(u.mode&1)&&(h===0||h===11||h===15)){var f=u.alternate;f?(u.updateQueue=f.updateQueue,u.memoizedState=f.memoizedState,u.lanes=f.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=h0(o);if(p!==null){p.flags&=-257,f0(p,o,a,i,e),p.mode&1&&d0(i,c,e),e=p,l=c;var y=e.updateQueue;if(y===null){var g=new Set;g.add(l),e.updateQueue=g}else y.add(l);break e}else{if(!(e&1)){d0(i,c,e),Rg();break e}l=Error(L(426))}}else if(Re&&a.mode&1){var w=h0(o);if(w!==null){!(w.flags&65536)&&(w.flags|=256),f0(w,o,a,i,e),hg(fo(l,a));break e}}i=l=fo(l,a),tt!==4&&(tt=2),Na===null?Na=[i]:Na.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var m=X1(i,l,e);s0(i,m);break e;case 1:a=l;var _=i.type,v=i.stateNode;if(!(i.flags&128)&&(typeof _.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(ts===null||!ts.has(v)))){i.flags|=65536,e&=-e,i.lanes|=e;var x=J1(i,a,e);s0(i,x);break e}}i=i.return}while(i!==null)}vx(n)}catch(T){e=T,Ke===n&&n!==null&&(Ke=n=n.return);continue}break}while(1)}function mx(){var t=Vu.current;return Vu.current=Fu,t===null?Fu:t}function Rg(){(tt===0||tt===3||tt===2)&&(tt=4),lt===null||!(ti&268435455)&&!(Yd&268435455)||Vr(lt,gt)}function Bu(t,e){var n=he;he|=2;var r=mx();(lt!==t||gt!==e)&&(ir=null,Ys(t,e));do try{sI();break}catch(s){px(t,s)}while(1);if(pg(),he=n,Vu.current=r,Ke!==null)throw Error(L(261));return lt=null,gt=0,tt}function sI(){for(;Ke!==null;)gx(Ke)}function iI(){for(;Ke!==null&&!ND();)gx(Ke)}function gx(t){var e=_x(t.alternate,t,Xt);t.memoizedProps=t.pendingProps,e===null?vx(t):Ke=e,Dg.current=null}function vx(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=Jk(n,e),n!==null){n.flags&=32767,Ke=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{tt=6,Ke=null;return}}else if(n=Xk(n,e,Xt),n!==null){Ke=n;return}if(e=e.sibling,e!==null){Ke=e;return}Ke=e=t}while(e!==null);tt===0&&(tt=5)}function Ps(t,e,n){var r=xe,s=pn.transition;try{pn.transition=null,xe=1,oI(t,e,n,r)}finally{pn.transition=s,xe=r}return null}function oI(t,e,n,r){do Ji();while(zr!==null);if(he&6)throw Error(L(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(L(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if($D(t,i),t===lt&&(Ke=lt=null,gt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Dc||(Dc=!0,wx(bu,function(){return Ji(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=pn.transition,pn.transition=null;var o=xe;xe=1;var a=he;he|=4,Dg.current=null,eI(t,n),dx(n,t),Sk(Dp),Cu=!!Sp,Dp=Sp=null,t.current=n,tI(n),PD(),he=a,xe=o,pn.transition=i}else t.current=n;if(Dc&&(Dc=!1,zr=t,Uu=s),i=t.pendingLanes,i===0&&(ts=null),OD(n.stateNode),Kt(t,We()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if($u)throw $u=!1,t=qp,qp=null,t;return Uu&1&&t.tag!==0&&Ji(),i=t.pendingLanes,i&1?t===Qp?Pa++:(Pa=0,Qp=t):Pa=0,Es(),null}function Ji(){if(zr!==null){var t=GE(Uu),e=pn.transition,n=xe;try{if(pn.transition=null,xe=16>t?16:t,zr===null)var r=!1;else{if(t=zr,zr=null,Uu=0,he&6)throw Error(L(331));var s=he;for(he|=4,Q=t.current;Q!==null;){var i=Q,o=i.child;if(Q.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(Q=c;Q!==null;){var u=Q;switch(u.tag){case 0:case 11:case 15:Ia(8,u,i)}var h=u.child;if(h!==null)h.return=u,Q=h;else for(;Q!==null;){u=Q;var f=u.sibling,p=u.return;if(lx(u),u===c){Q=null;break}if(f!==null){f.return=p,Q=f;break}Q=p}}}var y=i.alternate;if(y!==null){var g=y.child;if(g!==null){y.child=null;do{var w=g.sibling;g.sibling=null,g=w}while(g!==null)}}Q=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,Q=o;else e:for(;Q!==null;){if(i=Q,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Ia(9,i,i.return)}var m=i.sibling;if(m!==null){m.return=i.return,Q=m;break e}Q=i.return}}var _=t.current;for(Q=_;Q!==null;){o=Q;var v=o.child;if(o.subtreeFlags&2064&&v!==null)v.return=o,Q=v;else e:for(o=_;Q!==null;){if(a=Q,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:zd(9,a)}}catch(T){Fe(a,a.return,T)}if(a===o){Q=null;break e}var x=a.sibling;if(x!==null){x.return=a.return,Q=x;break e}Q=a.return}}if(he=s,Es(),Yn&&typeof Yn.onPostCommitFiberRoot=="function")try{Yn.onPostCommitFiberRoot(Ld,t)}catch{}r=!0}return r}finally{xe=n,pn.transition=e}}return!1}function S0(t,e,n){e=fo(n,e),e=X1(t,e,1),t=es(t,e,1),e=Lt(),t!==null&&(kl(t,1,e),Kt(t,e))}function Fe(t,e,n){if(t.tag===3)S0(t,t,n);else for(;e!==null;){if(e.tag===3){S0(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ts===null||!ts.has(r))){t=fo(n,t),t=J1(e,t,1),e=es(e,t,1),t=Lt(),e!==null&&(kl(e,1,t),Kt(e,t));break}}e=e.return}}function aI(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Lt(),t.pingedLanes|=t.suspendedLanes&n,lt===t&&(gt&n)===n&&(tt===4||tt===3&&(gt&130023424)===gt&&500>We()-Ig?Ys(t,0):kg|=n),Kt(t,e)}function yx(t,e){e===0&&(t.mode&1?(e=vc,vc<<=1,!(vc&130023424)&&(vc=4194304)):e=1);var n=Lt();t=Er(t,e),t!==null&&(kl(t,e,n),Kt(t,n))}function lI(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),yx(t,n)}function cI(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(L(314))}r!==null&&r.delete(e),yx(t,n)}var _x;_x=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||qt.current)Ht=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Ht=!1,Gk(t,e,n);Ht=!!(t.flags&131072)}else Ht=!1,Re&&e.flags&1048576&&x1(e,Ru,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;nu(t,e),t=e.pendingProps;var s=lo(e,It.current);Xi(e,n),s=xg(null,e,r,t,s,n);var i=bg();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Qt(r)?(i=!0,Nu(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,vg(e),s.updater=Wd,e.stateNode=s,s._reactInternals=e,jp(e,r,t,n),e=Vp(null,e,r,!0,i,n)):(e.tag=0,Re&&i&&ug(e),At(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(nu(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=dI(r),t=_n(r,t),s){case 0:e=Fp(null,e,r,t,n);break e;case 1:e=g0(null,e,r,t,n);break e;case 11:e=p0(null,e,r,t,n);break e;case 14:e=m0(null,e,r,_n(r.type,t),n);break e}throw Error(L(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:_n(r,s),Fp(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:_n(r,s),g0(t,e,r,s,n);case 3:e:{if(nx(e),t===null)throw Error(L(387));r=e.pendingProps,i=e.memoizedState,s=i.element,S1(t,e),Mu(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=fo(Error(L(423)),e),e=v0(t,e,r,n,s);break e}else if(r!==s){s=fo(Error(L(424)),e),e=v0(t,e,r,n,s);break e}else for(Zt=Zr(e.stateNode.containerInfo.firstChild),tn=e,Re=!0,En=null,n=N1(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(co(),r===s){e=xr(t,e,n);break e}At(t,e,r,n)}e=e.child}return e;case 5:return P1(e),t===null&&Ap(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,kp(r,s)?o=null:i!==null&&kp(r,i)&&(e.flags|=32),tx(t,e),At(t,e,o,n),e.child;case 6:return t===null&&Ap(e),null;case 13:return rx(t,e,n);case 4:return yg(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=uo(e,null,r,n):At(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:_n(r,s),p0(t,e,r,s,n);case 7:return At(t,e,e.pendingProps,n),e.child;case 8:return At(t,e,e.pendingProps.children,n),e.child;case 12:return At(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,Ce(Au,r._currentValue),r._currentValue=o,i!==null)if(Tn(i.value,o)){if(i.children===s.children&&!qt.current){e=xr(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=pr(-1,n&-n),l.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),Op(i.return,n,e),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(L(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Op(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}At(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,Xi(e,n),s=mn(s),r=r(s),e.flags|=1,At(t,e,r,n),e.child;case 14:return r=e.type,s=_n(r,e.pendingProps),s=_n(r.type,s),m0(t,e,r,s,n);case 15:return Z1(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:_n(r,s),nu(t,e),e.tag=1,Qt(r)?(t=!0,Nu(e)):t=!1,Xi(e,n),k1(e,r,s),jp(e,r,s,n),Vp(null,e,r,!0,t,n);case 19:return sx(t,e,n);case 22:return ex(t,e,n)}throw Error(L(156,e.tag))};function wx(t,e){return YE(t,e)}function uI(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function fn(t,e,n,r){return new uI(t,e,n,r)}function Ag(t){return t=t.prototype,!(!t||!t.isReactComponent)}function dI(t){if(typeof t=="function")return Ag(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Jm)return 11;if(t===Zm)return 14}return 2}function rs(t,e){var n=t.alternate;return n===null?(n=fn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function iu(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")Ag(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Oi:return qs(n.children,s,i,e);case Xm:o=8,s|=8;break;case op:return t=fn(12,n,e,s|2),t.elementType=op,t.lanes=i,t;case ap:return t=fn(13,n,e,s),t.elementType=ap,t.lanes=i,t;case lp:return t=fn(19,n,e,s),t.elementType=lp,t.lanes=i,t;case IE:return qd(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case DE:o=10;break e;case kE:o=9;break e;case Jm:o=11;break e;case Zm:o=14;break e;case jr:o=16,r=null;break e}throw Error(L(130,t==null?t:typeof t,""))}return e=fn(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function qs(t,e,n,r){return t=fn(7,t,r,e),t.lanes=n,t}function qd(t,e,n,r){return t=fn(22,t,r,e),t.elementType=IE,t.lanes=n,t.stateNode={isHidden:!1},t}function wf(t,e,n){return t=fn(6,t,null,e),t.lanes=n,t}function Ef(t,e,n){return e=fn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function hI(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ef(0),this.expirationTimes=ef(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ef(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Og(t,e,n,r,s,i,o,a,l){return t=new hI(t,e,n,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=fn(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},vg(i),t}function fI(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ai,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Ex(t){if(!t)return hs;t=t._reactInternals;e:{if(gi(t)!==t||t.tag!==1)throw Error(L(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Qt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(L(171))}if(t.tag===1){var n=t.type;if(Qt(n))return w1(t,n,e)}return e}function xx(t,e,n,r,s,i,o,a,l){return t=Og(n,r,!0,t,s,i,o,a,l),t.context=Ex(null),n=t.current,r=Lt(),s=ns(n),i=pr(r,s),i.callback=e??null,es(n,i,s),t.current.lanes=s,kl(t,s,r),Kt(t,r),t}function Qd(t,e,n,r){var s=e.current,i=Lt(),o=ns(s);return n=Ex(n),e.context===null?e.context=n:e.pendingContext=n,e=pr(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=es(s,e,o),t!==null&&(bn(t,s,o,i),Zc(t,s,o)),o}function Wu(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function D0(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Mg(t,e){D0(t,e),(t=t.alternate)&&D0(t,e)}function pI(){return null}var bx=typeof reportError=="function"?reportError:function(t){console.error(t)};function jg(t){this._internalRoot=t}Kd.prototype.render=jg.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(L(409));Qd(t,e,null,null)};Kd.prototype.unmount=jg.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ni(function(){Qd(null,t,null,null)}),e[wr]=null}};function Kd(t){this._internalRoot=t}Kd.prototype.unstable_scheduleHydration=function(t){if(t){var e=ZE();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Fr.length&&e!==0&&e<Fr[n].priority;n++);Fr.splice(n,0,t),n===0&&t1(t)}};function Lg(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Gd(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function k0(){}function mI(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var c=Wu(o);i.call(c)}}var o=xx(e,r,t,0,null,!1,!1,"",k0);return t._reactRootContainer=o,t[wr]=o.current,Ga(t.nodeType===8?t.parentNode:t),ni(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var c=Wu(l);a.call(c)}}var l=Og(t,0,!1,null,null,!1,!1,"",k0);return t._reactRootContainer=l,t[wr]=l.current,Ga(t.nodeType===8?t.parentNode:t),ni(function(){Qd(e,l,n,r)}),l}function Xd(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=Wu(o);a.call(l)}}Qd(e,o,t,s)}else o=mI(n,e,t,s,r);return Wu(o)}XE=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=da(e.pendingLanes);n!==0&&(ng(e,n|1),Kt(e,We()),!(he&6)&&(po=We()+500,Es()))}break;case 13:ni(function(){var r=Er(t,1);if(r!==null){var s=Lt();bn(r,t,1,s)}}),Mg(t,1)}};rg=function(t){if(t.tag===13){var e=Er(t,134217728);if(e!==null){var n=Lt();bn(e,t,134217728,n)}Mg(t,134217728)}};JE=function(t){if(t.tag===13){var e=ns(t),n=Er(t,e);if(n!==null){var r=Lt();bn(n,t,e,r)}Mg(t,e)}};ZE=function(){return xe};e1=function(t,e){var n=xe;try{return xe=t,e()}finally{xe=n}};yp=function(t,e,n){switch(e){case"input":if(dp(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=Ud(r);if(!s)throw Error(L(90));PE(r),dp(r,s)}}}break;case"textarea":AE(t,n);break;case"select":e=n.value,e!=null&&qi(t,!!n.multiple,e,!1)}};$E=Ng;UE=ni;var gI={usingClientEntryPoint:!1,Events:[Nl,Fi,Ud,FE,VE,Ng]},Xo={findFiberByHostInstance:Ls,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},vI={bundleType:Xo.bundleType,version:Xo.version,rendererPackageName:Xo.rendererPackageName,rendererConfig:Xo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Dr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=HE(t),t===null?null:t.stateNode},findFiberByHostInstance:Xo.findFiberByHostInstance||pI,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var kc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!kc.isDisabled&&kc.supportsFiber)try{Ld=kc.inject(vI),Yn=kc}catch{}}on.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=gI;on.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Lg(e))throw Error(L(200));return fI(t,e,null,n)};on.createRoot=function(t,e){if(!Lg(t))throw Error(L(299));var n=!1,r="",s=bx;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=Og(t,1,!1,null,null,n,!1,r,s),t[wr]=e.current,Ga(t.nodeType===8?t.parentNode:t),new jg(e)};on.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(L(188)):(t=Object.keys(t).join(","),Error(L(268,t)));return t=HE(e),t=t===null?null:t.stateNode,t};on.flushSync=function(t){return ni(t)};on.hydrate=function(t,e,n){if(!Gd(e))throw Error(L(200));return Xd(null,t,e,!0,n)};on.hydrateRoot=function(t,e,n){if(!Lg(t))throw Error(L(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=bx;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=xx(e,null,t,1,n??null,s,!1,i,o),t[wr]=e.current,Ga(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new Kd(e)};on.render=function(t,e,n){if(!Gd(e))throw Error(L(200));return Xd(null,t,e,!1,n)};on.unmountComponentAtNode=function(t){if(!Gd(t))throw Error(L(40));return t._reactRootContainer?(ni(function(){Xd(null,null,t,!1,function(){t._reactRootContainer=null,t[wr]=null})}),!0):!1};on.unstable_batchedUpdates=Ng;on.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Gd(n))throw Error(L(200));if(t==null||t._reactInternals===void 0)throw Error(L(38));return Xd(t,e,n,!1,r)};on.version="18.2.0-next-9e3b772b8-20220608";function Tx(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Tx)}catch(t){console.error(t)}}Tx(),xE.exports=on;var Jd=xE.exports;const yI=uE(Jd);var I0=Jd;sp.createRoot=I0.createRoot,sp.hydrateRoot=I0.hydrateRoot;/**
 * @remix-run/router v1.16.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function il(){return il=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},il.apply(this,arguments)}var Yr;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Yr||(Yr={}));const N0="popstate";function _I(t){t===void 0&&(t={});function e(r,s){let{pathname:i,search:o,hash:a}=r.location;return Xp("",{pathname:i,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:Hu(s)}return EI(e,n,null,t)}function Je(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Cx(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function wI(){return Math.random().toString(36).substr(2,8)}function P0(t,e){return{usr:t.state,key:t.key,idx:e}}function Xp(t,e,n,r){return n===void 0&&(n=null),il({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Ao(e):e,{state:n,key:e&&e.key||r||wI()})}function Hu(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Ao(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function EI(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,a=Yr.Pop,l=null,c=u();c==null&&(c=0,o.replaceState(il({},o.state,{idx:c}),""));function u(){return(o.state||{idx:null}).idx}function h(){a=Yr.Pop;let w=u(),m=w==null?null:w-c;c=w,l&&l({action:a,location:g.location,delta:m})}function f(w,m){a=Yr.Push;let _=Xp(g.location,w,m);n&&n(_,w),c=u()+1;let v=P0(_,c),x=g.createHref(_);try{o.pushState(v,"",x)}catch(T){if(T instanceof DOMException&&T.name==="DataCloneError")throw T;s.location.assign(x)}i&&l&&l({action:a,location:g.location,delta:1})}function p(w,m){a=Yr.Replace;let _=Xp(g.location,w,m);n&&n(_,w),c=u();let v=P0(_,c),x=g.createHref(_);o.replaceState(v,"",x),i&&l&&l({action:a,location:g.location,delta:0})}function y(w){let m=s.location.origin!=="null"?s.location.origin:s.location.href,_=typeof w=="string"?w:Hu(w);return _=_.replace(/ $/,"%20"),Je(m,"No window.location.(origin|href) available to create URL for href: "+_),new URL(_,m)}let g={get action(){return a},get location(){return t(s,o)},listen(w){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(N0,h),l=w,()=>{s.removeEventListener(N0,h),l=null}},createHref(w){return e(s,w)},createURL:y,encodeLocation(w){let m=y(w);return{pathname:m.pathname,search:m.search,hash:m.hash}},push:f,replace:p,go(w){return o.go(w)}};return g}var R0;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(R0||(R0={}));function xI(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?Ao(e):e,s=Fg(r.pathname||"/",n);if(s==null)return null;let i=Sx(t);bI(i);let o=null;for(let a=0;o==null&&a<i.length;++a){let l=MI(s);o=RI(i[a],l)}return o}function Sx(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,a)=>{let l={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};l.relativePath.startsWith("/")&&(Je(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=ss([r,l.relativePath]),u=n.concat(l);i.children&&i.children.length>0&&(Je(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),Sx(i.children,e,u,c)),!(i.path==null&&!i.index)&&e.push({path:c,score:NI(c,i.index),routesMeta:u})};return t.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let l of Dx(i.path))s(i,o,l)}),e}function Dx(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=Dx(r.join("/")),a=[];return a.push(...o.map(l=>l===""?i:[i,l].join("/"))),s&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function bI(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:PI(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const TI=/^:[\w-]+$/,CI=3,SI=2,DI=1,kI=10,II=-2,A0=t=>t==="*";function NI(t,e){let n=t.split("/"),r=n.length;return n.some(A0)&&(r+=II),e&&(r+=SI),n.filter(s=>!A0(s)).reduce((s,i)=>s+(TI.test(i)?CI:i===""?DI:kI),r)}function PI(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function RI(t,e){let{routesMeta:n}=t,r={},s="/",i=[];for(let o=0;o<n.length;++o){let a=n[o],l=o===n.length-1,c=s==="/"?e:e.slice(s.length)||"/",u=AI({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},c);if(!u)return null;Object.assign(r,u.params);let h=a.route;i.push({params:r,pathname:ss([s,u.pathname]),pathnameBase:VI(ss([s,u.pathnameBase])),route:h}),u.pathnameBase!=="/"&&(s=ss([s,u.pathnameBase]))}return i}function AI(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=OI(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((c,u,h)=>{let{paramName:f,isOptional:p}=u;if(f==="*"){let g=a[h]||"";o=i.slice(0,i.length-g.length).replace(/(.)\/+$/,"$1")}const y=a[h];return p&&!y?c[f]=void 0:c[f]=(y||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:o,pattern:t}}function OI(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Cx(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function MI(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Cx(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Fg(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function jI(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?Ao(t):t;return{pathname:n?n.startsWith("/")?n:LI(n,e):e,search:$I(r),hash:UI(s)}}function LI(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function xf(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function FI(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function kx(t,e){let n=FI(t);return e?n.map((r,s)=>s===t.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Ix(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=Ao(t):(s=il({},t),Je(!s.pathname||!s.pathname.includes("?"),xf("?","pathname","search",s)),Je(!s.pathname||!s.pathname.includes("#"),xf("#","pathname","hash",s)),Je(!s.search||!s.search.includes("#"),xf("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=n;else{let h=e.length-1;if(!r&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),h-=1;s.pathname=f.join("/")}a=h>=0?e[h]:"/"}let l=jI(s,a),c=o&&o!=="/"&&o.endsWith("/"),u=(i||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const ss=t=>t.join("/").replace(/\/\/+/g,"/"),VI=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),$I=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,UI=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function BI(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const Nx=["post","put","patch","delete"];new Set(Nx);const WI=["get",...Nx];new Set(WI);/**
 * React Router v6.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ol(){return ol=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ol.apply(this,arguments)}const Vg=E.createContext(null),HI=E.createContext(null),vi=E.createContext(null),Zd=E.createContext(null),xs=E.createContext({outlet:null,matches:[],isDataRoute:!1}),Px=E.createContext(null);function zI(t,e){let{relative:n}=e===void 0?{}:e;Rl()||Je(!1);let{basename:r,navigator:s}=E.useContext(vi),{hash:i,pathname:o,search:a}=Ax(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:ss([r,o])),s.createHref({pathname:l,search:a,hash:i})}function Rl(){return E.useContext(Zd)!=null}function eh(){return Rl()||Je(!1),E.useContext(Zd).location}function Rx(t){E.useContext(vi).static||E.useLayoutEffect(t)}function Gt(){let{isDataRoute:t}=E.useContext(xs);return t?sN():YI()}function YI(){Rl()||Je(!1);let t=E.useContext(Vg),{basename:e,future:n,navigator:r}=E.useContext(vi),{matches:s}=E.useContext(xs),{pathname:i}=eh(),o=JSON.stringify(kx(s,n.v7_relativeSplatPath)),a=E.useRef(!1);return Rx(()=>{a.current=!0}),E.useCallback(function(c,u){if(u===void 0&&(u={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let h=Ix(c,JSON.parse(o),i,u.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:ss([e,h.pathname])),(u.replace?r.replace:r.push)(h,u.state,u)},[e,r,o,i,t])}function Oo(){let{matches:t}=E.useContext(xs),e=t[t.length-1];return e?e.params:{}}function Ax(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=E.useContext(vi),{matches:s}=E.useContext(xs),{pathname:i}=eh(),o=JSON.stringify(kx(s,r.v7_relativeSplatPath));return E.useMemo(()=>Ix(t,JSON.parse(o),i,n==="path"),[t,o,i,n])}function qI(t,e){return QI(t,e)}function QI(t,e,n,r){Rl()||Je(!1);let{navigator:s}=E.useContext(vi),{matches:i}=E.useContext(xs),o=i[i.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let c=eh(),u;if(e){var h;let w=typeof e=="string"?Ao(e):e;l==="/"||(h=w.pathname)!=null&&h.startsWith(l)||Je(!1),u=w}else u=c;let f=u.pathname||"/",p=f;if(l!=="/"){let w=l.replace(/^\//,"").split("/");p="/"+f.replace(/^\//,"").split("/").slice(w.length).join("/")}let y=xI(t,{pathname:p}),g=ZI(y&&y.map(w=>Object.assign({},w,{params:Object.assign({},a,w.params),pathname:ss([l,s.encodeLocation?s.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?l:ss([l,s.encodeLocation?s.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),i,n,r);return e&&g?E.createElement(Zd.Provider,{value:{location:ol({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:Yr.Pop}},g):g}function KI(){let t=rN(),e=BI(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},i=null;return E.createElement(E.Fragment,null,E.createElement("h2",null,"Unexpected Application Error!"),E.createElement("h3",{style:{fontStyle:"italic"}},e),n?E.createElement("pre",{style:s},n):null,i)}const GI=E.createElement(KI,null);class XI extends E.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?E.createElement(xs.Provider,{value:this.props.routeContext},E.createElement(Px.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function JI(t){let{routeContext:e,match:n,children:r}=t,s=E.useContext(Vg);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),E.createElement(xs.Provider,{value:e},r)}function ZI(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if((i=n)!=null&&i.errors)t=n.matches;else return null}let o=t,a=(s=n)==null?void 0:s.errors;if(a!=null){let u=o.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);u>=0||Je(!1),o=o.slice(0,Math.min(o.length,u+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let u=0;u<o.length;u++){let h=o[u];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(c=u),h.route.id){let{loaderData:f,errors:p}=n,y=h.route.loader&&f[h.route.id]===void 0&&(!p||p[h.route.id]===void 0);if(h.route.lazy||y){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((u,h,f)=>{let p,y=!1,g=null,w=null;n&&(p=a&&h.route.id?a[h.route.id]:void 0,g=h.route.errorElement||GI,l&&(c<0&&f===0?(iN("route-fallback",!1),y=!0,w=null):c===f&&(y=!0,w=h.route.hydrateFallbackElement||null)));let m=e.concat(o.slice(0,f+1)),_=()=>{let v;return p?v=g:y?v=w:h.route.Component?v=E.createElement(h.route.Component,null):h.route.element?v=h.route.element:v=u,E.createElement(JI,{match:h,routeContext:{outlet:u,matches:m,isDataRoute:n!=null},children:v})};return n&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?E.createElement(XI,{location:n.location,revalidation:n.revalidation,component:g,error:p,children:_(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):_()},null)}var Ox=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(Ox||{}),zu=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(zu||{});function eN(t){let e=E.useContext(Vg);return e||Je(!1),e}function tN(t){let e=E.useContext(HI);return e||Je(!1),e}function nN(t){let e=E.useContext(xs);return e||Je(!1),e}function Mx(t){let e=nN(),n=e.matches[e.matches.length-1];return n.route.id||Je(!1),n.route.id}function rN(){var t;let e=E.useContext(Px),n=tN(zu.UseRouteError),r=Mx(zu.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function sN(){let{router:t}=eN(Ox.UseNavigateStable),e=Mx(zu.UseNavigateStable),n=E.useRef(!1);return Rx(()=>{n.current=!0}),E.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,ol({fromRouteId:e},i)))},[t,e])}const O0={};function iN(t,e,n){!e&&!O0[t]&&(O0[t]=!0)}function Te(t){Je(!1)}function oN(t){let{basename:e="/",children:n=null,location:r,navigationType:s=Yr.Pop,navigator:i,static:o=!1,future:a}=t;Rl()&&Je(!1);let l=e.replace(/^\/*/,"/"),c=E.useMemo(()=>({basename:l,navigator:i,static:o,future:ol({v7_relativeSplatPath:!1},a)}),[l,a,i,o]);typeof r=="string"&&(r=Ao(r));let{pathname:u="/",search:h="",hash:f="",state:p=null,key:y="default"}=r,g=E.useMemo(()=>{let w=Fg(u,l);return w==null?null:{location:{pathname:w,search:h,hash:f,state:p,key:y},navigationType:s}},[l,u,h,f,p,y,s]);return g==null?null:E.createElement(vi.Provider,{value:c},E.createElement(Zd.Provider,{children:n,value:g}))}function aN(t){let{children:e,location:n}=t;return qI(Jp(e),n)}new Promise(()=>{});function Jp(t,e){e===void 0&&(e=[]);let n=[];return E.Children.forEach(t,(r,s)=>{if(!E.isValidElement(r))return;let i=[...e,s];if(r.type===E.Fragment){n.push.apply(n,Jp(r.props.children,i));return}r.type!==Te&&Je(!1),!r.props.index||!r.props.children||Je(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Jp(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Zp(){return Zp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Zp.apply(this,arguments)}function lN(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function cN(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function uN(t,e){return t.button===0&&(!e||e==="_self")&&!cN(t)}const dN=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],hN="6";try{window.__reactRouterVersion=hN}catch{}const fN="startTransition",M0=wE[fN];function pN(t){let{basename:e,children:n,future:r,window:s}=t,i=E.useRef();i.current==null&&(i.current=_I({window:s,v5Compat:!0}));let o=i.current,[a,l]=E.useState({action:o.action,location:o.location}),{v7_startTransition:c}=r||{},u=E.useCallback(h=>{c&&M0?M0(()=>l(h)):l(h)},[l,c]);return E.useLayoutEffect(()=>o.listen(u),[o,u]),E.createElement(oN,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const mN=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",gN=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ot=E.forwardRef(function(e,n){let{onClick:r,relative:s,reloadDocument:i,replace:o,state:a,target:l,to:c,preventScrollReset:u,unstable_viewTransition:h}=e,f=lN(e,dN),{basename:p}=E.useContext(vi),y,g=!1;if(typeof c=="string"&&gN.test(c)&&(y=c,mN))try{let v=new URL(window.location.href),x=c.startsWith("//")?new URL(v.protocol+c):new URL(c),T=Fg(x.pathname,p);x.origin===v.origin&&T!=null?c=T+x.search+x.hash:g=!0}catch{}let w=zI(c,{relative:s}),m=vN(c,{replace:o,state:a,target:l,preventScrollReset:u,relative:s,unstable_viewTransition:h});function _(v){r&&r(v),v.defaultPrevented||m(v)}return E.createElement("a",Zp({},f,{href:y||w,onClick:g||i?r:_,ref:n,target:l}))});var j0;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(j0||(j0={}));var L0;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(L0||(L0={}));function vN(t,e){let{target:n,replace:r,state:s,preventScrollReset:i,relative:o,unstable_viewTransition:a}=e===void 0?{}:e,l=Gt(),c=eh(),u=Ax(t,{relative:o});return E.useCallback(h=>{if(uN(h,n)){h.preventDefault();let f=r!==void 0?r:Hu(c)===Hu(u);l(t,{replace:f,state:s,preventScrollReset:i,relative:o,unstable_viewTransition:a})}},[c,l,u,r,s,n,t,i,o,a])}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jx=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},yN=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],a=t[n++],l=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},Lx={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,a=o?t[s+1]:0,l=s+2<t.length,c=l?t[s+2]:0,u=i>>2,h=(i&3)<<4|a>>4;let f=(a&15)<<2|c>>6,p=c&63;l||(p=64,o||(f=64)),r.push(n[u],n[h],n[f],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(jx(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):yN(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const c=s<t.length?n[t.charAt(s)]:64;++s;const h=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||a==null||c==null||h==null)throw new _N;const f=i<<2|a>>4;if(r.push(f),c!==64){const p=a<<4&240|c>>2;if(r.push(p),h!==64){const y=c<<6&192|h;r.push(y)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class _N extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const wN=function(t){const e=jx(t);return Lx.encodeByteArray(e,!0)},Yu=function(t){return wN(t).replace(/\./g,"")},Fx=function(t){try{return Lx.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EN(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xN=()=>EN().__FIREBASE_DEFAULTS__,bN=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},TN=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Fx(t[1]);return e&&JSON.parse(e)},th=()=>{try{return xN()||bN()||TN()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Vx=t=>{var e,n;return(n=(e=th())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},CN=t=>{const e=Vx(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},$x=()=>{var t;return(t=th())===null||t===void 0?void 0:t.config},Ux=t=>{var e;return(e=th())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SN{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DN(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t),a="";return[Yu(JSON.stringify(n)),Yu(JSON.stringify(o)),a].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ze(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function kN(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ze())}function IN(){var t;const e=(t=th())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function NN(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function PN(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function RN(){const t=Ze();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function AN(){return!IN()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Bx(){try{return typeof indexedDB=="object"}catch{return!1}}function ON(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MN="FirebaseError";class kr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=MN,Object.setPrototypeOf(this,kr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Al.prototype.create)}}class Al{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?jN(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new kr(s,a,r)}}function jN(t,e){return t.replace(LN,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const LN=/\{\$([^}]+)}/g;function FN(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function qu(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(F0(i)&&F0(o)){if(!qu(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function F0(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ol(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function fa(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,i]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(i)}}),e}function pa(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function VN(t,e){const n=new $N(t,e);return n.subscribe.bind(n)}class $N{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");UN(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=bf),s.error===void 0&&(s.error=bf),s.complete===void 0&&(s.complete=bf);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function UN(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function bf(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ye(t){return t&&t._delegate?t._delegate:t}class ri{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BN{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new SN;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(HN(e))try{this.getOrInitializeService({instanceIdentifier:Rs})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=Rs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Rs){return this.instances.has(e)}getOptions(e=Rs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;i.add(e),this.onInitCallbacks.set(s,i);const o=this.instances.get(s);return o&&e(o,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:WN(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Rs){return this.component?this.component.multipleInstances?e:Rs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function WN(t){return t===Rs?void 0:t}function HN(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zN{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new BN(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ae;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ae||(ae={}));const YN={debug:ae.DEBUG,verbose:ae.VERBOSE,info:ae.INFO,warn:ae.WARN,error:ae.ERROR,silent:ae.SILENT},qN=ae.INFO,QN={[ae.DEBUG]:"log",[ae.VERBOSE]:"log",[ae.INFO]:"info",[ae.WARN]:"warn",[ae.ERROR]:"error"},KN=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=QN[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class $g{constructor(e){this.name=e,this._logLevel=qN,this._logHandler=KN,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ae))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?YN[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ae.DEBUG,...e),this._logHandler(this,ae.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ae.VERBOSE,...e),this._logHandler(this,ae.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ae.INFO,...e),this._logHandler(this,ae.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ae.WARN,...e),this._logHandler(this,ae.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ae.ERROR,...e),this._logHandler(this,ae.ERROR,...e)}}const GN=(t,e)=>e.some(n=>t instanceof n);let V0,$0;function XN(){return V0||(V0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function JN(){return $0||($0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Wx=new WeakMap,em=new WeakMap,Hx=new WeakMap,Tf=new WeakMap,Ug=new WeakMap;function ZN(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(is(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&Wx.set(n,t)}).catch(()=>{}),Ug.set(e,t),e}function eP(t){if(em.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});em.set(t,e)}let tm={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return em.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Hx.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return is(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function tP(t){tm=t(tm)}function nP(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Cf(this),e,...n);return Hx.set(r,e.sort?e.sort():[e]),is(r)}:JN().includes(t)?function(...e){return t.apply(Cf(this),e),is(Wx.get(this))}:function(...e){return is(t.apply(Cf(this),e))}}function rP(t){return typeof t=="function"?nP(t):(t instanceof IDBTransaction&&eP(t),GN(t,XN())?new Proxy(t,tm):t)}function is(t){if(t instanceof IDBRequest)return ZN(t);if(Tf.has(t))return Tf.get(t);const e=rP(t);return e!==t&&(Tf.set(t,e),Ug.set(e,t)),e}const Cf=t=>Ug.get(t);function sP(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),a=is(o);return r&&o.addEventListener("upgradeneeded",l=>{r(is(o.result),l.oldVersion,l.newVersion,is(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{i&&l.addEventListener("close",()=>i()),s&&l.addEventListener("versionchange",c=>s(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const iP=["get","getKey","getAll","getAllKeys","count"],oP=["put","add","delete","clear"],Sf=new Map;function U0(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Sf.get(e))return Sf.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=oP.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||iP.includes(n)))return;const i=async function(o,...a){const l=this.transaction(o,s?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),s&&l.done]))[0]};return Sf.set(e,i),i}tP(t=>({...t,get:(e,n,r)=>U0(e,n)||t.get(e,n,r),has:(e,n)=>!!U0(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aP{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(lP(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function lP(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const nm="@firebase/app",B0="0.10.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const si=new $g("@firebase/app"),cP="@firebase/app-compat",uP="@firebase/analytics-compat",dP="@firebase/analytics",hP="@firebase/app-check-compat",fP="@firebase/app-check",pP="@firebase/auth",mP="@firebase/auth-compat",gP="@firebase/database",vP="@firebase/database-compat",yP="@firebase/functions",_P="@firebase/functions-compat",wP="@firebase/installations",EP="@firebase/installations-compat",xP="@firebase/messaging",bP="@firebase/messaging-compat",TP="@firebase/performance",CP="@firebase/performance-compat",SP="@firebase/remote-config",DP="@firebase/remote-config-compat",kP="@firebase/storage",IP="@firebase/storage-compat",NP="@firebase/firestore",PP="@firebase/firestore-compat",RP="firebase",AP="10.11.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rm="[DEFAULT]",OP={[nm]:"fire-core",[cP]:"fire-core-compat",[dP]:"fire-analytics",[uP]:"fire-analytics-compat",[fP]:"fire-app-check",[hP]:"fire-app-check-compat",[pP]:"fire-auth",[mP]:"fire-auth-compat",[gP]:"fire-rtdb",[vP]:"fire-rtdb-compat",[yP]:"fire-fn",[_P]:"fire-fn-compat",[wP]:"fire-iid",[EP]:"fire-iid-compat",[xP]:"fire-fcm",[bP]:"fire-fcm-compat",[TP]:"fire-perf",[CP]:"fire-perf-compat",[SP]:"fire-rc",[DP]:"fire-rc-compat",[kP]:"fire-gcs",[IP]:"fire-gcs-compat",[NP]:"fire-fst",[PP]:"fire-fst-compat","fire-js":"fire-js",[RP]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qu=new Map,MP=new Map,sm=new Map;function W0(t,e){try{t.container.addComponent(e)}catch(n){si.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function mo(t){const e=t.name;if(sm.has(e))return si.debug(`There were multiple attempts to register component ${e}.`),!1;sm.set(e,t);for(const n of Qu.values())W0(n,t);for(const n of MP.values())W0(n,t);return!0}function Bg(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Bn(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jP={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},os=new Al("app","Firebase",jP);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LP{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ri("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw os.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mo=AP;function zx(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:rm,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw os.create("bad-app-name",{appName:String(s)});if(n||(n=$x()),!n)throw os.create("no-options");const i=Qu.get(s);if(i){if(qu(n,i.options)&&qu(r,i.config))return i;throw os.create("duplicate-app",{appName:s})}const o=new zN(s);for(const l of sm.values())o.addComponent(l);const a=new LP(n,r,o);return Qu.set(s,a),a}function Yx(t=rm){const e=Qu.get(t);if(!e&&t===rm&&$x())return zx();if(!e)throw os.create("no-app",{appName:t});return e}function as(t,e,n){var r;let s=(r=OP[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const i=s.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const a=[`Unable to register library "${s}" with version "${e}":`];i&&a.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),si.warn(a.join(" "));return}mo(new ri(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FP="firebase-heartbeat-database",VP=1,al="firebase-heartbeat-store";let Df=null;function qx(){return Df||(Df=sP(FP,VP,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(al)}catch(n){console.warn(n)}}}}).catch(t=>{throw os.create("idb-open",{originalErrorMessage:t.message})})),Df}async function $P(t){try{const n=(await qx()).transaction(al),r=await n.objectStore(al).get(Qx(t));return await n.done,r}catch(e){if(e instanceof kr)si.warn(e.message);else{const n=os.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});si.warn(n.message)}}}async function H0(t,e){try{const r=(await qx()).transaction(al,"readwrite");await r.objectStore(al).put(e,Qx(t)),await r.done}catch(n){if(n instanceof kr)si.warn(n.message);else{const r=os.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});si.warn(r.message)}}}function Qx(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UP=1024,BP=30*24*60*60*1e3;class WP{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new zP(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=z0();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i)))return this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=BP}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=z0(),{heartbeatsToSend:r,unsentEntries:s}=HP(this._heartbeatsCache.heartbeats),i=Yu(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function z0(){return new Date().toISOString().substring(0,10)}function HP(t,e=UP){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),Y0(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),Y0(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class zP{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Bx()?ON().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await $P(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return H0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return H0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function Y0(t){return Yu(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YP(t){mo(new ri("platform-logger",e=>new aP(e),"PRIVATE")),mo(new ri("heartbeat",e=>new WP(e),"PRIVATE")),as(nm,B0,t),as(nm,B0,"esm2017"),as("fire-js","")}YP("");function Wg(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function Kx(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const qP=Kx,Gx=new Al("auth","Firebase",Kx());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ku=new $g("@firebase/auth");function QP(t,...e){Ku.logLevel<=ae.WARN&&Ku.warn(`Auth (${Mo}): ${t}`,...e)}function ou(t,...e){Ku.logLevel<=ae.ERROR&&Ku.error(`Auth (${Mo}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cn(t,...e){throw Hg(t,...e)}function Qn(t,...e){return Hg(t,...e)}function Xx(t,e,n){const r=Object.assign(Object.assign({},qP()),{[e]:n});return new Al("auth","Firebase",r).create(e,{appName:t.name})}function mr(t){return Xx(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Hg(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return Gx.create(t,...e)}function X(t,e,...n){if(!t)throw Hg(e,...n)}function ur(t){const e="INTERNAL ASSERTION FAILED: "+t;throw ou(e),new Error(e)}function br(t,e){t||ur(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function im(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function KP(){return q0()==="http:"||q0()==="https:"}function q0(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GP(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(KP()||NN()||"connection"in navigator)?navigator.onLine:!0}function XP(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ml{constructor(e,n){this.shortDelay=e,this.longDelay=n,br(n>e,"Short delay should be less than long delay!"),this.isMobile=kN()||PN()}get(){return GP()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zg(t,e){br(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jx{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ur("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ur("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ur("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JP={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZP=new Ml(3e4,6e4);function Ir(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Nr(t,e,n,r,s={}){return Zx(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const a=Ol(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),Jx.fetch()(eb(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},i))})}async function Zx(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},JP),e);try{const s=new tR(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw Ic(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const a=i.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ic(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Ic(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Ic(t,"user-disabled",o);const u=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw Xx(t,u,c);Cn(t,u)}}catch(s){if(s instanceof kr)throw s;Cn(t,"network-request-failed",{message:String(s)})}}async function jl(t,e,n,r,s={}){const i=await Nr(t,e,n,r,s);return"mfaPendingCredential"in i&&Cn(t,"multi-factor-auth-required",{_serverResponse:i}),i}function eb(t,e,n,r){const s=`${e}${n}?${r}`;return t.config.emulator?zg(t.config,s):`${t.config.apiScheme}://${s}`}function eR(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class tR{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Qn(this.auth,"network-request-failed")),ZP.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Ic(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=Qn(t,e,r);return s.customData._tokenResponse=n,s}function Q0(t){return t!==void 0&&t.enterprise!==void 0}class nR{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return eR(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function rR(t,e){return Nr(t,"GET","/v2/recaptchaConfig",Ir(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sR(t,e){return Nr(t,"POST","/v1/accounts:delete",e)}async function tb(t,e){return Nr(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ra(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function iR(t,e=!1){const n=Ye(t),r=await n.getIdToken(e),s=Yg(r);X(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:Ra(kf(s.auth_time)),issuedAtTime:Ra(kf(s.iat)),expirationTime:Ra(kf(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function kf(t){return Number(t)*1e3}function Yg(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return ou("JWT malformed, contained fewer than 3 sections"),null;try{const s=Fx(n);return s?JSON.parse(s):(ou("Failed to decode base64 JWT payload"),null)}catch(s){return ou("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function K0(t){const e=Yg(t);return X(e,"internal-error"),X(typeof e.exp<"u","internal-error"),X(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ll(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof kr&&oR(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function oR({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aR{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class om{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ra(this.lastLoginAt),this.creationTime=Ra(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gu(t){var e;const n=t.auth,r=await t.getIdToken(),s=await ll(t,tb(n,{idToken:r}));X(s==null?void 0:s.users.length,n,"internal-error");const i=s.users[0];t._notifyReloadListener(i);const o=!((e=i.providerUserInfo)===null||e===void 0)&&e.length?nb(i.providerUserInfo):[],a=cR(t.providerData,o),l=t.isAnonymous,c=!(t.email&&i.passwordHash)&&!(a!=null&&a.length),u=l?c:!1,h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new om(i.createdAt,i.lastLoginAt),isAnonymous:u};Object.assign(t,h)}async function lR(t){const e=Ye(t);await Gu(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function cR(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function nb(t){return t.map(e=>{var{providerId:n}=e,r=Wg(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uR(t,e){const n=await Zx(t,{},async()=>{const r=Ol({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=eb(t,s,"/v1/token",`key=${i}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Jx.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function dR(t,e){return Nr(t,"POST","/v2/accounts:revokeToken",Ir(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zi{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){X(e.idToken,"internal-error"),X(typeof e.idToken<"u","internal-error"),X(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):K0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){X(e.length!==0,"internal-error");const n=K0(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(X(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await uR(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new Zi;return r&&(X(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(X(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(X(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Zi,this.toJSON())}_performRefresh(){return ur("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ar(t,e){X(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class dr{constructor(e){var{uid:n,auth:r,stsTokenManager:s}=e,i=Wg(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new aR(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new om(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await ll(this,this.stsTokenManager.getToken(this.auth,e));return X(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return iR(this,e)}reload(){return lR(this)}_assign(e){this!==e&&(X(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new dr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){X(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Gu(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Bn(this.auth.app))return Promise.reject(mr(this.auth));const e=await this.getIdToken();return await ll(this,sR(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,s,i,o,a,l,c,u;const h=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(s=n.email)!==null&&s!==void 0?s:void 0,p=(i=n.phoneNumber)!==null&&i!==void 0?i:void 0,y=(o=n.photoURL)!==null&&o!==void 0?o:void 0,g=(a=n.tenantId)!==null&&a!==void 0?a:void 0,w=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,m=(c=n.createdAt)!==null&&c!==void 0?c:void 0,_=(u=n.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:v,emailVerified:x,isAnonymous:T,providerData:C,stsTokenManager:b}=n;X(v&&b,e,"internal-error");const S=Zi.fromJSON(this.name,b);X(typeof v=="string",e,"internal-error"),Ar(h,e.name),Ar(f,e.name),X(typeof x=="boolean",e,"internal-error"),X(typeof T=="boolean",e,"internal-error"),Ar(p,e.name),Ar(y,e.name),Ar(g,e.name),Ar(w,e.name),Ar(m,e.name),Ar(_,e.name);const D=new dr({uid:v,auth:e,email:f,emailVerified:x,displayName:h,isAnonymous:T,photoURL:y,phoneNumber:p,tenantId:g,stsTokenManager:S,createdAt:m,lastLoginAt:_});return C&&Array.isArray(C)&&(D.providerData=C.map(I=>Object.assign({},I))),w&&(D._redirectEventId=w),D}static async _fromIdTokenResponse(e,n,r=!1){const s=new Zi;s.updateFromServerResponse(n);const i=new dr({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await Gu(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];X(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?nb(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),a=new Zi;a.updateFromIdToken(r);const l=new dr({uid:s.localId,auth:e,stsTokenManager:a,isAnonymous:o}),c={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new om(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G0=new Map;function hr(t){br(t instanceof Function,"Expected a class definition");let e=G0.get(t);return e?(br(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,G0.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rb{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}rb.type="NONE";const X0=rb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function au(t,e,n){return`firebase:${t}:${e}:${n}`}class eo{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=au(this.userKey,s.apiKey,i),this.fullPersistenceKey=au("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?dr._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new eo(hr(X0),e,r);const s=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let i=s[0]||hr(X0);const o=au(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const u=await c._get(o);if(u){const h=dr._fromJSON(e,u);c!==i&&(a=h),i=c;break}}catch{}const l=s.filter(c=>c._shouldAllowMigration);return!i._shouldAllowMigration||!l.length?new eo(i,e,r):(i=l[0],a&&await i._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==i)try{await c._remove(o)}catch{}})),new eo(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J0(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(ob(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(sb(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(lb(e))return"Blackberry";if(cb(e))return"Webos";if(qg(e))return"Safari";if((e.includes("chrome/")||ib(e))&&!e.includes("edge/"))return"Chrome";if(ab(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function sb(t=Ze()){return/firefox\//i.test(t)}function qg(t=Ze()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function ib(t=Ze()){return/crios\//i.test(t)}function ob(t=Ze()){return/iemobile/i.test(t)}function ab(t=Ze()){return/android/i.test(t)}function lb(t=Ze()){return/blackberry/i.test(t)}function cb(t=Ze()){return/webos/i.test(t)}function nh(t=Ze()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function hR(t=Ze()){var e;return nh(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function fR(){return RN()&&document.documentMode===10}function ub(t=Ze()){return nh(t)||ab(t)||cb(t)||lb(t)||/windows phone/i.test(t)||ob(t)}function pR(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function db(t,e=[]){let n;switch(t){case"Browser":n=J0(Ze());break;case"Worker":n=`${J0(Ze())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Mo}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mR{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,a)=>{try{const l=e(i);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gR(t,e={}){return Nr(t,"GET","/v2/passwordPolicy",Ir(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vR=6;class yR{constructor(e){var n,r,s,i;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:vR,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(i=e.forceUpgradeOnSignin)!==null&&i!==void 0?i:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,s,i,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(s=l.containsLowercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(i=l.containsUppercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _R{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Z0(this),this.idTokenSubscription=new Z0(this),this.beforeStateQueue=new mR(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Gx,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=hr(n)),this._initializationPromise=this.queue(async()=>{var r,s;if(!this._deleted&&(this.persistenceManager=await eo.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await tb(this,{idToken:e}),r=await dr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Bn(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=s==null?void 0:s._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(s=l.user,i=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(s)}catch(o){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return X(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Gu(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=XP()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Bn(this.app))return Promise.reject(mr(this));const n=e?Ye(e):null;return n&&X(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&X(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Bn(this.app)?Promise.reject(mr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Bn(this.app)?Promise.reject(mr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(hr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await gR(this),n=new yR(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Al("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await dR(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&hr(e)||this._popupRedirectResolver;X(n,this,"argument-error"),this.redirectPersistenceManager=await eo.create(this,[hr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(X(a,this,"internal-error"),a.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,s);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return X(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=db(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&QP(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function bs(t){return Ye(t)}class Z0{constructor(e){this.auth=e,this.observer=null,this.addObserver=VN(n=>this.observer=n)}get next(){return X(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function wR(t){rh=t}function hb(t){return rh.loadJS(t)}function ER(){return rh.recaptchaEnterpriseScript}function xR(){return rh.gapiScript}function bR(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const TR="recaptcha-enterprise",CR="NO_RECAPTCHA";class SR{constructor(e){this.type=TR,this.auth=bs(e)}async verify(e="verify",n=!1){async function r(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(o,a)=>{rR(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new nR(l);return i.tenantId==null?i._agentRecaptchaConfig=c:i._tenantRecaptchaConfigs[i.tenantId]=c,o(c.siteKey)}}).catch(l=>{a(l)})})}function s(i,o,a){const l=window.grecaptcha;Q0(l)?l.enterprise.ready(()=>{l.enterprise.execute(i,{action:e}).then(c=>{o(c)}).catch(()=>{o(CR)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((i,o)=>{r(this.auth).then(a=>{if(!n&&Q0(window.grecaptcha))s(a,i,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=ER();l.length!==0&&(l+=a),hb(l).then(()=>{s(a,i,o)}).catch(c=>{o(c)})}}).catch(a=>{o(a)})})}}async function e_(t,e,n,r=!1){const s=new SR(t);let i;try{i=await s.verify(n)}catch{i=await s.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:i}):Object.assign(o,{captchaResponse:i}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function Xu(t,e,n,r){var s;if(!((s=t._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await e_(t,e,n,n==="getOobCode");return r(t,i)}else return r(t,e).catch(async i=>{if(i.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await e_(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(i)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DR(t,e){const n=Bg(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(qu(i,e??{}))return s;Cn(s,"already-initialized")}return n.initialize({options:e})}function kR(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(hr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function IR(t,e,n){const r=bs(t);X(r._canInitEmulator,r,"emulator-config-failed"),X(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!!(n!=null&&n.disableWarnings),i=fb(e),{host:o,port:a}=NR(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${i}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})}),s||PR()}function fb(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function NR(t){const e=fb(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:t_(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:t_(o)}}}function t_(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function PR(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qg{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ur("not implemented")}_getIdTokenResponse(e){return ur("not implemented")}_linkToIdToken(e,n){return ur("not implemented")}_getReauthenticationResolver(e){return ur("not implemented")}}async function RR(t,e){return Nr(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AR(t,e){return jl(t,"POST","/v1/accounts:signInWithPassword",Ir(t,e))}async function OR(t,e){return Nr(t,"POST","/v1/accounts:sendOobCode",Ir(t,e))}async function MR(t,e){return OR(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jR(t,e){return jl(t,"POST","/v1/accounts:signInWithEmailLink",Ir(t,e))}async function LR(t,e){return jl(t,"POST","/v1/accounts:signInWithEmailLink",Ir(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cl extends Qg{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new cl(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new cl(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Xu(e,n,"signInWithPassword",AR);case"emailLink":return jR(e,{email:this._email,oobCode:this._password});default:Cn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Xu(e,r,"signUpPassword",RR);case"emailLink":return LR(e,{idToken:n,email:this._email,oobCode:this._password});default:Cn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function to(t,e){return jl(t,"POST","/v1/accounts:signInWithIdp",Ir(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FR="http://localhost";class ii extends Qg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ii(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Cn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=n,i=Wg(n,["providerId","signInMethod"]);if(!r||!s)return null;const o=new ii(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return to(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,to(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,to(e,n)}buildRequest(){const e={requestUri:FR,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Ol(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VR(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function $R(t){const e=fa(pa(t)).link,n=e?fa(pa(e)).deep_link_id:null,r=fa(pa(t)).deep_link_id;return(r?fa(pa(r)).link:null)||r||n||e||t}class Kg{constructor(e){var n,r,s,i,o,a;const l=fa(pa(e)),c=(n=l.apiKey)!==null&&n!==void 0?n:null,u=(r=l.oobCode)!==null&&r!==void 0?r:null,h=VR((s=l.mode)!==null&&s!==void 0?s:null);X(c&&u&&h,"argument-error"),this.apiKey=c,this.operation=h,this.code=u,this.continueUrl=(i=l.continueUrl)!==null&&i!==void 0?i:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=$R(e);try{return new Kg(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jo{constructor(){this.providerId=jo.PROVIDER_ID}static credential(e,n){return cl._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Kg.parseLink(n);return X(r,"argument-error"),cl._fromEmailAndCode(e,r.code,r.tenantId)}}jo.PROVIDER_ID="password";jo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";jo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pb{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ll extends pb{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $r extends Ll{constructor(){super("facebook.com")}static credential(e){return ii._fromParams({providerId:$r.PROVIDER_ID,signInMethod:$r.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return $r.credentialFromTaggedObject(e)}static credentialFromError(e){return $r.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return $r.credential(e.oauthAccessToken)}catch{return null}}}$r.FACEBOOK_SIGN_IN_METHOD="facebook.com";$r.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ur extends Ll{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ii._fromParams({providerId:Ur.PROVIDER_ID,signInMethod:Ur.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Ur.credentialFromTaggedObject(e)}static credentialFromError(e){return Ur.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Ur.credential(n,r)}catch{return null}}}Ur.GOOGLE_SIGN_IN_METHOD="google.com";Ur.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Br extends Ll{constructor(){super("github.com")}static credential(e){return ii._fromParams({providerId:Br.PROVIDER_ID,signInMethod:Br.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Br.credentialFromTaggedObject(e)}static credentialFromError(e){return Br.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Br.credential(e.oauthAccessToken)}catch{return null}}}Br.GITHUB_SIGN_IN_METHOD="github.com";Br.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wr extends Ll{constructor(){super("twitter.com")}static credential(e,n){return ii._fromParams({providerId:Wr.PROVIDER_ID,signInMethod:Wr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Wr.credentialFromTaggedObject(e)}static credentialFromError(e){return Wr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Wr.credential(n,r)}catch{return null}}}Wr.TWITTER_SIGN_IN_METHOD="twitter.com";Wr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UR(t,e){return jl(t,"POST","/v1/accounts:signUp",Ir(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oi{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await dr._fromIdTokenResponse(e,r,s),o=n_(r);return new oi({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=n_(r);return new oi({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function n_(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ju extends kr{constructor(e,n,r,s){var i;super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,Ju.prototype),this.customData={appName:e.name,tenantId:(i=e.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new Ju(e,n,r,s)}}function mb(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?Ju._fromErrorAndOperation(t,i,e,r):i})}async function BR(t,e,n=!1){const r=await ll(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return oi._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WR(t,e,n=!1){const{auth:r}=t;if(Bn(r.app))return Promise.reject(mr(r));const s="reauthenticate";try{const i=await ll(t,mb(r,s,e,t),n);X(i.idToken,r,"internal-error");const o=Yg(i.idToken);X(o,r,"internal-error");const{sub:a}=o;return X(t.uid===a,r,"user-mismatch"),oi._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&Cn(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gb(t,e,n=!1){if(Bn(t.app))return Promise.reject(mr(t));const r="signIn",s=await mb(t,r,e),i=await oi._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}async function HR(t,e){return gb(bs(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zR(t,e,n){var r;X(((r=n.url)===null||r===void 0?void 0:r.length)>0,t,"invalid-continue-uri"),X(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(X(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(X(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vb(t){const e=bs(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function YR(t,e,n){const r=bs(t),s={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};n&&zR(r,s,n),await Xu(r,s,"getOobCode",MR)}async function Gg(t,e,n){if(Bn(t.app))return Promise.reject(mr(t));const r=bs(t),o=await Xu(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",UR).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&vb(t),l}),a=await oi._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function qR(t,e,n){return Bn(t.app)?Promise.reject(mr(t)):HR(Ye(t),jo.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&vb(t),r})}function QR(t,e,n,r){return Ye(t).onIdTokenChanged(e,n,r)}function KR(t,e,n){return Ye(t).beforeAuthStateChanged(e,n)}function yb(t,e,n,r){return Ye(t).onAuthStateChanged(e,n,r)}function sh(t){return Ye(t).signOut()}const Zu="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _b{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Zu,"1"),this.storage.removeItem(Zu),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GR(){const t=Ze();return qg(t)||nh(t)}const XR=1e3,JR=10;class wb extends _b{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=GR()&&pR(),this.fallbackToPolling=ub(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);fR()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,JR):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},XR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}wb.type="LOCAL";const ZR=wb;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eb extends _b{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}Eb.type="SESSION";const xb=Eb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eA(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ih{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new ih(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const a=Array.from(o).map(async c=>c(n.origin,i)),l=await eA(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ih.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xg(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tA{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((a,l)=>{const c=Xg("",20);s.port1.start();const u=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(h){const f=h;if(f.data.eventId===c)switch(f.data.status){case"ack":clearTimeout(u),i=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(f.data.response);break;default:clearTimeout(u),clearTimeout(i),l(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kn(){return window}function nA(t){Kn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bb(){return typeof Kn().WorkerGlobalScope<"u"&&typeof Kn().importScripts=="function"}async function rA(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function sA(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function iA(){return bb()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tb="firebaseLocalStorageDb",oA=1,ed="firebaseLocalStorage",Cb="fbase_key";class Fl{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function oh(t,e){return t.transaction([ed],e?"readwrite":"readonly").objectStore(ed)}function aA(){const t=indexedDB.deleteDatabase(Tb);return new Fl(t).toPromise()}function am(){const t=indexedDB.open(Tb,oA);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(ed,{keyPath:Cb})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(ed)?e(r):(r.close(),await aA(),e(await am()))})})}async function r_(t,e,n){const r=oh(t,!0).put({[Cb]:e,value:n});return new Fl(r).toPromise()}async function lA(t,e){const n=oh(t,!1).get(e),r=await new Fl(n).toPromise();return r===void 0?null:r.value}function s_(t,e){const n=oh(t,!0).delete(e);return new Fl(n).toPromise()}const cA=800,uA=3;class Sb{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await am(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>uA)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return bb()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ih._getInstance(iA()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await rA(),!this.activeServiceWorker)return;this.sender=new tA(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||sA()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await am();return await r_(e,Zu,"1"),await s_(e,Zu),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>r_(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>lA(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>s_(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=oh(s,!1).getAll();return new Fl(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),cA)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Sb.type="LOCAL";const dA=Sb;new Ml(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hA(t,e){return e?hr(e):(X(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jg extends Qg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return to(e,this._buildIdpRequest())}_linkToIdToken(e,n){return to(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return to(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function fA(t){return gb(t.auth,new Jg(t),t.bypassAuthState)}function pA(t){const{auth:e,user:n}=t;return X(n,e,"internal-error"),WR(n,new Jg(t),t.bypassAuthState)}async function mA(t){const{auth:e,user:n}=t;return X(n,e,"internal-error"),BR(n,new Jg(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Db{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return fA;case"linkViaPopup":case"linkViaRedirect":return mA;case"reauthViaPopup":case"reauthViaRedirect":return pA;default:Cn(this.auth,"internal-error")}}resolve(e){br(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){br(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gA=new Ml(2e3,1e4);class zi extends Db{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,zi.currentPopupAction&&zi.currentPopupAction.cancel(),zi.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return X(e,this.auth,"internal-error"),e}async onExecution(){br(this.filter.length===1,"Popup operations only handle one event");const e=Xg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Qn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Qn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,zi.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Qn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,gA.get())};e()}}zi.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vA="pendingRedirect",lu=new Map;class yA extends Db{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=lu.get(this.auth._key());if(!e){try{const r=await _A(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}lu.set(this.auth._key(),e)}return this.bypassAuthState||lu.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function _A(t,e){const n=xA(e),r=EA(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function wA(t,e){lu.set(t._key(),e)}function EA(t){return hr(t._redirectPersistence)}function xA(t){return au(vA,t.config.apiKey,t.name)}async function bA(t,e,n=!1){if(Bn(t.app))return Promise.reject(mr(t));const r=bs(t),s=hA(r,e),o=await new yA(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TA=10*60*1e3;class CA{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!SA(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!kb(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Qn(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=TA&&this.cachedEventUids.clear(),this.cachedEventUids.has(i_(e))}saveEventToCache(e){this.cachedEventUids.add(i_(e)),this.lastProcessedEventTime=Date.now()}}function i_(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function kb({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function SA(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return kb(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DA(t,e={}){return Nr(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kA=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,IA=/^https?/;async function NA(t){if(t.config.emulator)return;const{authorizedDomains:e}=await DA(t);for(const n of e)try{if(PA(n))return}catch{}Cn(t,"unauthorized-domain")}function PA(t){const e=im(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!IA.test(n))return!1;if(kA.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RA=new Ml(3e4,6e4);function o_(){const t=Kn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function AA(t){return new Promise((e,n)=>{var r,s,i;function o(){o_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{o_(),n(Qn(t,"network-request-failed"))},timeout:RA.get()})}if(!((s=(r=Kn().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((i=Kn().gapi)===null||i===void 0)&&i.load)o();else{const a=bR("iframefcb");return Kn()[a]=()=>{gapi.load?o():n(Qn(t,"network-request-failed"))},hb(`${xR()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw cu=null,e})}let cu=null;function OA(t){return cu=cu||AA(t),cu}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MA=new Ml(5e3,15e3),jA="__/auth/iframe",LA="emulator/auth/iframe",FA={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},VA=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function $A(t){const e=t.config;X(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?zg(e,LA):`https://${t.config.authDomain}/${jA}`,r={apiKey:e.apiKey,appName:t.name,v:Mo},s=VA.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${Ol(r).slice(1)}`}async function UA(t){const e=await OA(t),n=Kn().gapi;return X(n,t,"internal-error"),e.open({where:document.body,url:$A(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:FA,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=Qn(t,"network-request-failed"),a=Kn().setTimeout(()=>{i(o)},MA.get());function l(){Kn().clearTimeout(a),s(r)}r.ping(l).then(l,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BA={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},WA=500,HA=600,zA="_blank",YA="http://localhost";class a_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function qA(t,e,n,r=WA,s=HA){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},BA),{width:r.toString(),height:s.toString(),top:i,left:o}),c=Ze().toLowerCase();n&&(a=ib(c)?zA:n),sb(c)&&(e=e||YA,l.scrollbars="yes");const u=Object.entries(l).reduce((f,[p,y])=>`${f}${p}=${y},`,"");if(hR(c)&&a!=="_self")return QA(e||"",a),new a_(null);const h=window.open(e||"",a,u);X(h,t,"popup-blocked");try{h.focus()}catch{}return new a_(h)}function QA(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KA="__/auth/handler",GA="emulator/auth/handler",XA=encodeURIComponent("fac");async function l_(t,e,n,r,s,i){X(t.config.authDomain,t,"auth-domain-config-required"),X(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Mo,eventId:s};if(e instanceof pb){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",FN(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,h]of Object.entries(i||{}))o[u]=h}if(e instanceof Ll){const u=e.getScopes().filter(h=>h!=="");u.length>0&&(o.scopes=u.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const u of Object.keys(a))a[u]===void 0&&delete a[u];const l=await t._getAppCheckToken(),c=l?`#${XA}=${encodeURIComponent(l)}`:"";return`${JA(t)}?${Ol(a).slice(1)}${c}`}function JA({config:t}){return t.emulator?zg(t,GA):`https://${t.authDomain}/${KA}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const If="webStorageSupport";class ZA{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=xb,this._completeRedirectFn=bA,this._overrideRedirectResult=wA}async _openPopup(e,n,r,s){var i;br((i=this.eventManagers[e._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");const o=await l_(e,n,r,im(),s);return qA(e,o,Xg())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await l_(e,n,r,im(),s);return nA(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(br(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await UA(e),r=new CA(e);return n.register("authEvent",s=>(X(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(If,{type:If},s=>{var i;const o=(i=s==null?void 0:s[0])===null||i===void 0?void 0:i[If];o!==void 0&&n(!!o),Cn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=NA(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return ub()||qg()||nh()}}const e2=ZA;var c_="@firebase/auth",u_="1.7.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t2{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){X(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n2(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function r2(t){mo(new ri("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;X(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:db(t)},c=new _R(r,s,i,l);return kR(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),mo(new ri("auth-internal",e=>{const n=bs(e.getProvider("auth").getImmediate());return(r=>new t2(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),as(c_,u_,n2(t)),as(c_,u_,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s2=5*60,i2=Ux("authIdTokenMaxAge")||s2;let d_=null;const o2=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>i2)return;const s=n==null?void 0:n.token;d_!==s&&(d_=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function Rn(t=Yx()){const e=Bg(t,"auth");if(e.isInitialized())return e.getImmediate();const n=DR(t,{popupRedirectResolver:e2,persistence:[dA,ZR,xb]}),r=Ux("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const o=o2(i.toString());KR(n,o,()=>o(n.currentUser)),QR(n,a=>o(a))}}const s=Vx("auth");return s&&IR(n,`http://${s}`),n}function a2(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}wR({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=Qn("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",a2().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});r2("Browser");var l2=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},$,Zg=Zg||{},ee=l2||self;function ah(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function Vl(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function c2(t){return Object.prototype.hasOwnProperty.call(t,Nf)&&t[Nf]||(t[Nf]=++u2)}var Nf="closure_uid_"+(1e9*Math.random()>>>0),u2=0;function d2(t,e,n){return t.call.apply(t.bind,arguments)}function h2(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var s=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(s,r),t.apply(e,s)}}return function(){return t.apply(e,arguments)}}function St(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?St=d2:St=h2,St.apply(null,arguments)}function Nc(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function ut(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,s,i){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[s].apply(r,o)}}function Ts(){this.s=this.s,this.o=this.o}var f2=0;Ts.prototype.s=!1;Ts.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),f2!=0)&&c2(this)};Ts.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Ib=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function ev(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function h_(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(ah(r)){const s=t.length||0,i=r.length||0;t.length=s+i;for(let o=0;o<i;o++)t[s+o]=r[o]}else t.push(r)}}function Dt(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Dt.prototype.h=function(){this.defaultPrevented=!0};var p2=function(){if(!ee.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{const n=()=>{};ee.addEventListener("test",n,e),ee.removeEventListener("test",n,e)}catch{}return t}();function ul(t){return/^[\s\xa0]*$/.test(t)}function lh(){var t=ee.navigator;return t&&(t=t.userAgent)?t:""}function Vn(t){return lh().indexOf(t)!=-1}function tv(t){return tv[" "](t),t}tv[" "]=function(){};function m2(t,e){var n=aO;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var g2=Vn("Opera"),go=Vn("Trident")||Vn("MSIE"),Nb=Vn("Edge"),lm=Nb||go,Pb=Vn("Gecko")&&!(lh().toLowerCase().indexOf("webkit")!=-1&&!Vn("Edge"))&&!(Vn("Trident")||Vn("MSIE"))&&!Vn("Edge"),v2=lh().toLowerCase().indexOf("webkit")!=-1&&!Vn("Edge");function Rb(){var t=ee.document;return t?t.documentMode:void 0}var cm;e:{var Pf="",Rf=function(){var t=lh();if(Pb)return/rv:([^\);]+)(\)|;)/.exec(t);if(Nb)return/Edge\/([\d\.]+)/.exec(t);if(go)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(v2)return/WebKit\/(\S+)/.exec(t);if(g2)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(Rf&&(Pf=Rf?Rf[1]:""),go){var Af=Rb();if(Af!=null&&Af>parseFloat(Pf)){cm=String(Af);break e}}cm=Pf}var um;if(ee.document&&go){var f_=Rb();um=f_||parseInt(cm,10)||void 0}else um=void 0;var y2=um;function dl(t,e){if(Dt.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(Pb){e:{try{tv(e.nodeName);var s=!0;break e}catch{}s=!1}s||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:_2[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&dl.$.h.call(this)}}ut(dl,Dt);var _2={2:"touch",3:"pen",4:"mouse"};dl.prototype.h=function(){dl.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var $l="closure_listenable_"+(1e6*Math.random()|0),w2=0;function E2(t,e,n,r,s){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=s,this.key=++w2,this.fa=this.ia=!1}function ch(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function nv(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function x2(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function Ab(t){const e={};for(const n in t)e[n]=t[n];return e}const p_="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Ob(t,e){let n,r;for(let s=1;s<arguments.length;s++){r=arguments[s];for(n in r)t[n]=r[n];for(let i=0;i<p_.length;i++)n=p_[i],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function uh(t){this.src=t,this.g={},this.h=0}uh.prototype.add=function(t,e,n,r,s){var i=t.toString();t=this.g[i],t||(t=this.g[i]=[],this.h++);var o=hm(t,e,r,s);return-1<o?(e=t[o],n||(e.ia=!1)):(e=new E2(e,this.src,i,!!r,s),e.ia=n,t.push(e)),e};function dm(t,e){var n=e.type;if(n in t.g){var r=t.g[n],s=Ib(r,e),i;(i=0<=s)&&Array.prototype.splice.call(r,s,1),i&&(ch(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function hm(t,e,n,r){for(var s=0;s<t.length;++s){var i=t[s];if(!i.fa&&i.listener==e&&i.capture==!!n&&i.la==r)return s}return-1}var rv="closure_lm_"+(1e6*Math.random()|0),Of={};function Mb(t,e,n,r,s){if(r&&r.once)return Lb(t,e,n,r,s);if(Array.isArray(e)){for(var i=0;i<e.length;i++)Mb(t,e[i],n,r,s);return null}return n=ov(n),t&&t[$l]?t.O(e,n,Vl(r)?!!r.capture:!!r,s):jb(t,e,n,!1,r,s)}function jb(t,e,n,r,s,i){if(!e)throw Error("Invalid event type");var o=Vl(s)?!!s.capture:!!s,a=iv(t);if(a||(t[rv]=a=new uh(t)),n=a.add(e,n,r,o,i),n.proxy)return n;if(r=b2(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)p2||(s=o),s===void 0&&(s=!1),t.addEventListener(e.toString(),r,s);else if(t.attachEvent)t.attachEvent(Vb(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function b2(){function t(n){return e.call(t.src,t.listener,n)}const e=T2;return t}function Lb(t,e,n,r,s){if(Array.isArray(e)){for(var i=0;i<e.length;i++)Lb(t,e[i],n,r,s);return null}return n=ov(n),t&&t[$l]?t.P(e,n,Vl(r)?!!r.capture:!!r,s):jb(t,e,n,!0,r,s)}function Fb(t,e,n,r,s){if(Array.isArray(e))for(var i=0;i<e.length;i++)Fb(t,e[i],n,r,s);else r=Vl(r)?!!r.capture:!!r,n=ov(n),t&&t[$l]?(t=t.i,e=String(e).toString(),e in t.g&&(i=t.g[e],n=hm(i,n,r,s),-1<n&&(ch(i[n]),Array.prototype.splice.call(i,n,1),i.length==0&&(delete t.g[e],t.h--)))):t&&(t=iv(t))&&(e=t.g[e.toString()],t=-1,e&&(t=hm(e,n,r,s)),(n=-1<t?e[t]:null)&&sv(n))}function sv(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[$l])dm(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(Vb(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=iv(e))?(dm(n,t),n.h==0&&(n.src=null,e[rv]=null)):ch(t)}}}function Vb(t){return t in Of?Of[t]:Of[t]="on"+t}function T2(t,e){if(t.fa)t=!0;else{e=new dl(e,this);var n=t.listener,r=t.la||t.src;t.ia&&sv(t),t=n.call(r,e)}return t}function iv(t){return t=t[rv],t instanceof uh?t:null}var Mf="__closure_events_fn_"+(1e9*Math.random()>>>0);function ov(t){return typeof t=="function"?t:(t[Mf]||(t[Mf]=function(e){return t.handleEvent(e)}),t[Mf])}function ct(){Ts.call(this),this.i=new uh(this),this.S=this,this.J=null}ut(ct,Ts);ct.prototype[$l]=!0;ct.prototype.removeEventListener=function(t,e,n,r){Fb(this,t,e,n,r)};function vt(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new Dt(e,t);else if(e instanceof Dt)e.target=e.target||t;else{var s=e;e=new Dt(r,t),Ob(e,s)}if(s=!0,n)for(var i=n.length-1;0<=i;i--){var o=e.g=n[i];s=Pc(o,r,!0,e)&&s}if(o=e.g=t,s=Pc(o,r,!0,e)&&s,s=Pc(o,r,!1,e)&&s,n)for(i=0;i<n.length;i++)o=e.g=n[i],s=Pc(o,r,!1,e)&&s}ct.prototype.N=function(){if(ct.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)ch(n[r]);delete t.g[e],t.h--}}this.J=null};ct.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};ct.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function Pc(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var s=!0,i=0;i<e.length;++i){var o=e[i];if(o&&!o.fa&&o.capture==n){var a=o.listener,l=o.la||o.src;o.ia&&dm(t.i,o),s=a.call(l,r)!==!1&&s}}return s&&!r.defaultPrevented}var av=ee.JSON.stringify;class C2{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function S2(){var t=lv;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class D2{constructor(){this.h=this.g=null}add(e,n){const r=$b.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var $b=new C2(()=>new k2,t=>t.reset());class k2{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function I2(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function N2(t){ee.setTimeout(()=>{throw t},0)}let hl,fl=!1,lv=new D2,Ub=()=>{const t=ee.Promise.resolve(void 0);hl=()=>{t.then(P2)}};var P2=()=>{for(var t;t=S2();){try{t.h.call(t.g)}catch(n){N2(n)}var e=$b;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}fl=!1};function dh(t,e){ct.call(this),this.h=t||1,this.g=e||ee,this.j=St(this.qb,this),this.l=Date.now()}ut(dh,ct);$=dh.prototype;$.ga=!1;$.T=null;$.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),vt(this,"tick"),this.ga&&(cv(this),this.start()))}};$.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function cv(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}$.N=function(){dh.$.N.call(this),cv(this),delete this.g};function uv(t,e,n){if(typeof t=="function")n&&(t=St(t,n));else if(t&&typeof t.handleEvent=="function")t=St(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:ee.setTimeout(t,e||0)}function Bb(t){t.g=uv(()=>{t.g=null,t.i&&(t.i=!1,Bb(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class R2 extends Ts{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Bb(this)}N(){super.N(),this.g&&(ee.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function pl(t){Ts.call(this),this.h=t,this.g={}}ut(pl,Ts);var m_=[];function Wb(t,e,n,r){Array.isArray(n)||(n&&(m_[0]=n.toString()),n=m_);for(var s=0;s<n.length;s++){var i=Mb(e,n[s],r||t.handleEvent,!1,t.h||t);if(!i)break;t.g[i.key]=i}}function Hb(t){nv(t.g,function(e,n){this.g.hasOwnProperty(n)&&sv(e)},t),t.g={}}pl.prototype.N=function(){pl.$.N.call(this),Hb(this)};pl.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function hh(){this.g=!0}hh.prototype.Ea=function(){this.g=!1};function A2(t,e,n,r,s,i){t.info(function(){if(t.g)if(i)for(var o="",a=i.split("&"),l=0;l<a.length;l++){var c=a[l].split("=");if(1<c.length){var u=c[0];c=c[1];var h=u.split("_");o=2<=h.length&&h[1]=="type"?o+(u+"="+c+"&"):o+(u+"=redacted&")}}else o=null;else o=i;return"XMLHTTP REQ ("+r+") [attempt "+s+"]: "+e+`
`+n+`
`+o})}function O2(t,e,n,r,s,i,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+s+"]: "+e+`
`+n+`
`+i+" "+o})}function Yi(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+j2(t,n)+(r?" "+r:"")})}function M2(t,e){t.info(function(){return"TIMEOUT: "+e})}hh.prototype.info=function(){};function j2(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var s=r[1];if(Array.isArray(s)&&!(1>s.length)){var i=s[0];if(i!="noop"&&i!="stop"&&i!="close")for(var o=1;o<s.length;o++)s[o]=""}}}}return av(n)}catch{return e}}var yi={},g_=null;function fh(){return g_=g_||new ct}yi.Ta="serverreachability";function zb(t){Dt.call(this,yi.Ta,t)}ut(zb,Dt);function ml(t){const e=fh();vt(e,new zb(e))}yi.STAT_EVENT="statevent";function Yb(t,e){Dt.call(this,yi.STAT_EVENT,t),this.stat=e}ut(Yb,Dt);function Mt(t){const e=fh();vt(e,new Yb(e,t))}yi.Ua="timingevent";function qb(t,e){Dt.call(this,yi.Ua,t),this.size=e}ut(qb,Dt);function Ul(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return ee.setTimeout(function(){t()},e)}var ph={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Qb={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function dv(){}dv.prototype.h=null;function v_(t){return t.h||(t.h=t.i())}function Kb(){}var Bl={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function hv(){Dt.call(this,"d")}ut(hv,Dt);function fv(){Dt.call(this,"c")}ut(fv,Dt);var fm;function mh(){}ut(mh,dv);mh.prototype.g=function(){return new XMLHttpRequest};mh.prototype.i=function(){return{}};fm=new mh;function Wl(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new pl(this),this.P=L2,t=lm?125:void 0,this.V=new dh(t),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new Gb}function Gb(){this.i=null,this.g="",this.h=!1}var L2=45e3,Xb={},pm={};$=Wl.prototype;$.setTimeout=function(t){this.P=t};function mm(t,e,n){t.L=1,t.A=vh(Tr(e)),t.u=n,t.S=!0,Jb(t,null)}function Jb(t,e){t.G=Date.now(),Hl(t),t.B=Tr(t.A);var n=t.B,r=t.W;Array.isArray(r)||(r=[String(r)]),oT(n.i,"t",r),t.o=0,n=t.l.J,t.h=new Gb,t.g=DT(t.l,n?e:null,!t.u),0<t.O&&(t.M=new R2(St(t.Pa,t,t.g),t.O)),Wb(t.U,t.g,"readystatechange",t.nb),e=t.I?Ab(t.I):{},t.u?(t.v||(t.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.B,t.v,t.u,e)):(t.v="GET",t.g.ha(t.B,t.v,null,e)),ml(),A2(t.j,t.v,t.B,t.m,t.W,t.u)}$.nb=function(t){t=t.target;const e=this.M;e&&Wn(t)==3?e.l():this.Pa(t)};$.Pa=function(t){try{if(t==this.g)e:{const u=Wn(this.g);var e=this.g.Ia();const h=this.g.da();if(!(3>u)&&(u!=3||lm||this.g&&(this.h.h||this.g.ja()||E_(this.g)))){this.J||u!=4||e==7||(e==8||0>=h?ml(3):ml(2)),gh(this);var n=this.g.da();this.ca=n;t:if(Zb(this)){var r=E_(this.g);t="";var s=r.length,i=Wn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){$s(this),Aa(this);var o="";break t}this.h.i=new ee.TextDecoder}for(e=0;e<s;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:i&&e==s-1});r.length=0,this.h.g+=t,this.o=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,O2(this.j,this.v,this.B,this.m,this.W,u,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ul(a)){var c=a;break t}}c=null}if(n=c)Yi(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,gm(this,n);else{this.i=!1,this.s=3,Mt(12),$s(this),Aa(this);break e}}this.S?(eT(this,u,o),lm&&this.i&&u==3&&(Wb(this.U,this.V,"tick",this.mb),this.V.start())):(Yi(this.j,this.m,o,null),gm(this,o)),u==4&&$s(this),this.i&&!this.J&&(u==4?bT(this.l,this):(this.i=!1,Hl(this)))}else sO(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.s=3,Mt(12)):(this.s=0,Mt(13)),$s(this),Aa(this)}}}catch{}finally{}};function Zb(t){return t.g?t.v=="GET"&&t.L!=2&&t.l.Ha:!1}function eT(t,e,n){let r=!0,s;for(;!t.J&&t.o<n.length;)if(s=F2(t,n),s==pm){e==4&&(t.s=4,Mt(14),r=!1),Yi(t.j,t.m,null,"[Incomplete Response]");break}else if(s==Xb){t.s=4,Mt(15),Yi(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else Yi(t.j,t.m,s,null),gm(t,s);Zb(t)&&t.o!=0&&(t.h.g=t.h.g.slice(t.o),t.o=0),e!=4||n.length!=0||t.h.h||(t.s=1,Mt(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),_v(e),e.M=!0,Mt(11))):(Yi(t.j,t.m,n,"[Invalid Chunked Response]"),$s(t),Aa(t))}$.mb=function(){if(this.g){var t=Wn(this.g),e=this.g.ja();this.o<e.length&&(gh(this),eT(this,t,e),this.i&&t!=4&&Hl(this))}};function F2(t,e){var n=t.o,r=e.indexOf(`
`,n);return r==-1?pm:(n=Number(e.substring(n,r)),isNaN(n)?Xb:(r+=1,r+n>e.length?pm:(e=e.slice(r,r+n),t.o=r+n,e)))}$.cancel=function(){this.J=!0,$s(this)};function Hl(t){t.Y=Date.now()+t.P,tT(t,t.P)}function tT(t,e){if(t.C!=null)throw Error("WatchDog timer not null");t.C=Ul(St(t.lb,t),e)}function gh(t){t.C&&(ee.clearTimeout(t.C),t.C=null)}$.lb=function(){this.C=null;const t=Date.now();0<=t-this.Y?(M2(this.j,this.B),this.L!=2&&(ml(),Mt(17)),$s(this),this.s=2,Aa(this)):tT(this,this.Y-t)};function Aa(t){t.l.H==0||t.J||bT(t.l,t)}function $s(t){gh(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,cv(t.V),Hb(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function gm(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||vm(n.i,t))){if(!t.K&&vm(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var s=r;if(s[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)rd(n),Eh(n);else break e;yv(n),Mt(18)}}else n.Fa=s[1],0<n.Fa-n.V&&37500>s[2]&&n.G&&n.A==0&&!n.v&&(n.v=Ul(St(n.ib,n),6e3));if(1>=cT(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Us(n,11)}else if((t.K||n.g==t)&&rd(n),!ul(e))for(s=n.Ja.g.parse(e),e=0;e<s.length;e++){let c=s[e];if(n.V=c[0],c=c[1],n.H==2)if(c[0]=="c"){n.K=c[1],n.pa=c[2];const u=c[3];u!=null&&(n.ra=u,n.l.info("VER="+n.ra));const h=c[4];h!=null&&(n.Ga=h,n.l.info("SVER="+n.Ga));const f=c[5];f!=null&&typeof f=="number"&&0<f&&(r=1.5*f,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const p=t.g;if(p){const y=p.g?p.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(y){var i=r.i;i.g||y.indexOf("spdy")==-1&&y.indexOf("quic")==-1&&y.indexOf("h2")==-1||(i.j=i.l,i.g=new Set,i.h&&(pv(i,i.h),i.h=null))}if(r.F){const g=p.g?p.g.getResponseHeader("X-HTTP-Session-Id"):null;g&&(r.Da=g,ke(r.I,r.F,g))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var o=t;if(r.wa=ST(r,r.J?r.pa:null,r.Y),o.K){uT(r.i,o);var a=o,l=r.L;l&&a.setTimeout(l),a.C&&(gh(a),Hl(a)),r.g=o}else ET(r);0<n.j.length&&xh(n)}else c[0]!="stop"&&c[0]!="close"||Us(n,7);else n.H==3&&(c[0]=="stop"||c[0]=="close"?c[0]=="stop"?Us(n,7):vv(n):c[0]!="noop"&&n.h&&n.h.Aa(c),n.A=0)}}ml(4)}catch{}}function V2(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(ah(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function $2(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(ah(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function nT(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(ah(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=$2(t),r=V2(t),s=r.length,i=0;i<s;i++)e.call(void 0,r[i],n&&n[i],t)}var rT=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function U2(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),s=null;if(0<=r){var i=t[n].substring(0,r);s=t[n].substring(r+1)}else i=t[n];e(i,s?decodeURIComponent(s.replace(/\+/g," ")):"")}}}function Qs(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Qs){this.h=t.h,td(this,t.j),this.s=t.s,this.g=t.g,nd(this,t.m),this.l=t.l;var e=t.i,n=new gl;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),y_(this,n),this.o=t.o}else t&&(e=String(t).match(rT))?(this.h=!1,td(this,e[1]||"",!0),this.s=ma(e[2]||""),this.g=ma(e[3]||"",!0),nd(this,e[4]),this.l=ma(e[5]||"",!0),y_(this,e[6]||"",!0),this.o=ma(e[7]||"")):(this.h=!1,this.i=new gl(null,this.h))}Qs.prototype.toString=function(){var t=[],e=this.j;e&&t.push(ga(e,__,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(ga(e,__,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(ga(n,n.charAt(0)=="/"?H2:W2,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",ga(n,Y2)),t.join("")};function Tr(t){return new Qs(t)}function td(t,e,n){t.j=n?ma(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function nd(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function y_(t,e,n){e instanceof gl?(t.i=e,q2(t.i,t.h)):(n||(e=ga(e,z2)),t.i=new gl(e,t.h))}function ke(t,e,n){t.i.set(e,n)}function vh(t){return ke(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function ma(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function ga(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,B2),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function B2(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var __=/[#\/\?@]/g,W2=/[#\?:]/g,H2=/[#\?]/g,z2=/[#\?@]/g,Y2=/#/g;function gl(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Cs(t){t.g||(t.g=new Map,t.h=0,t.i&&U2(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}$=gl.prototype;$.add=function(t,e){Cs(this),this.i=null,t=Lo(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function sT(t,e){Cs(t),e=Lo(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function iT(t,e){return Cs(t),e=Lo(t,e),t.g.has(e)}$.forEach=function(t,e){Cs(this),this.g.forEach(function(n,r){n.forEach(function(s){t.call(e,s,r,this)},this)},this)};$.ta=function(){Cs(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const s=t[r];for(let i=0;i<s.length;i++)n.push(e[r])}return n};$.Z=function(t){Cs(this);let e=[];if(typeof t=="string")iT(this,t)&&(e=e.concat(this.g.get(Lo(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};$.set=function(t,e){return Cs(this),this.i=null,t=Lo(this,t),iT(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};$.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function oT(t,e,n){sT(t,e),0<n.length&&(t.i=null,t.g.set(Lo(t,e),ev(n)),t.h+=n.length)}$.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const i=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var s=i;o[r]!==""&&(s+="="+encodeURIComponent(String(o[r]))),t.push(s)}}return this.i=t.join("&")};function Lo(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function q2(t,e){e&&!t.j&&(Cs(t),t.i=null,t.g.forEach(function(n,r){var s=r.toLowerCase();r!=s&&(sT(this,r),oT(this,s,n))},t)),t.j=e}var Q2=class{constructor(t,e){this.g=t,this.map=e}};function aT(t){this.l=t||K2,ee.PerformanceNavigationTiming?(t=ee.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(ee.g&&ee.g.Ka&&ee.g.Ka()&&ee.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var K2=10;function lT(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function cT(t){return t.h?1:t.g?t.g.size:0}function vm(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function pv(t,e){t.g?t.g.add(e):t.h=e}function uT(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}aT.prototype.cancel=function(){if(this.i=dT(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function dT(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return ev(t.i)}var G2=class{stringify(t){return ee.JSON.stringify(t,void 0)}parse(t){return ee.JSON.parse(t,void 0)}};function X2(){this.g=new G2}function J2(t,e,n){const r=n||"";try{nT(t,function(s,i){let o=s;Vl(s)&&(o=av(s)),e.push(r+i+"="+encodeURIComponent(o))})}catch(s){throw e.push(r+"type="+encodeURIComponent("_badmap")),s}}function Z2(t,e){const n=new hh;if(ee.Image){const r=new Image;r.onload=Nc(Rc,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Nc(Rc,n,r,"TestLoadImage: error",!1,e),r.onabort=Nc(Rc,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Nc(Rc,n,r,"TestLoadImage: timeout",!1,e),ee.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function Rc(t,e,n,r,s){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,s(r)}catch{}}function yh(t){this.l=t.ec||null,this.j=t.ob||!1}ut(yh,dv);yh.prototype.g=function(){return new _h(this.l,this.j)};yh.prototype.i=function(t){return function(){return t}}({});function _h(t,e){ct.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=mv,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}ut(_h,ct);var mv=0;$=_h.prototype;$.open=function(t,e){if(this.readyState!=mv)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,vl(this)};$.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||ee).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};$.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,zl(this)),this.readyState=mv};$.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,vl(this)),this.g&&(this.readyState=3,vl(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof ee.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;hT(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function hT(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}$.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?zl(this):vl(this),this.readyState==3&&hT(this)}};$.Za=function(t){this.g&&(this.response=this.responseText=t,zl(this))};$.Ya=function(t){this.g&&(this.response=t,zl(this))};$.ka=function(){this.g&&zl(this)};function zl(t){t.readyState=4,t.l=null,t.j=null,t.A=null,vl(t)}$.setRequestHeader=function(t,e){this.v.append(t,e)};$.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};$.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function vl(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(_h.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var eO=ee.JSON.parse;function $e(t){ct.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=fT,this.L=this.M=!1}ut($e,ct);var fT="",tO=/^https?$/i,nO=["POST","PUT"];$=$e.prototype;$.Oa=function(t){this.M=t};$.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():fm.g(),this.C=this.u?v_(this.u):v_(fm),this.g.onreadystatechange=St(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(i){w_(this,i);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var s in r)n.set(s,r[s]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const i of r.keys())n.set(i,r.get(i));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(i=>i.toLowerCase()=="content-type"),s=ee.FormData&&t instanceof ee.FormData,!(0<=Ib(nO,e))||r||s||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[i,o]of n)this.g.setRequestHeader(i,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{gT(this),0<this.B&&((this.L=rO(this.g))?(this.g.timeout=this.B,this.g.ontimeout=St(this.ua,this)):this.A=uv(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(i){w_(this,i)}};function rO(t){return go&&typeof t.timeout=="number"&&t.ontimeout!==void 0}$.ua=function(){typeof Zg<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,vt(this,"timeout"),this.abort(8))};function w_(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,pT(t),wh(t)}function pT(t){t.F||(t.F=!0,vt(t,"complete"),vt(t,"error"))}$.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,vt(this,"complete"),vt(this,"abort"),wh(this))};$.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),wh(this,!0)),$e.$.N.call(this)};$.La=function(){this.s||(this.G||this.v||this.l?mT(this):this.kb())};$.kb=function(){mT(this)};function mT(t){if(t.h&&typeof Zg<"u"&&(!t.C[1]||Wn(t)!=4||t.da()!=2)){if(t.v&&Wn(t)==4)uv(t.La,0,t);else if(vt(t,"readystatechange"),Wn(t)==4){t.h=!1;try{const o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=o===0){var s=String(t.I).match(rT)[1]||null;!s&&ee.self&&ee.self.location&&(s=ee.self.location.protocol.slice(0,-1)),r=!tO.test(s?s.toLowerCase():"")}n=r}if(n)vt(t,"complete"),vt(t,"success");else{t.m=6;try{var i=2<Wn(t)?t.g.statusText:""}catch{i=""}t.j=i+" ["+t.da()+"]",pT(t)}}finally{wh(t)}}}}function wh(t,e){if(t.g){gT(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||vt(t,"ready");try{n.onreadystatechange=r}catch{}}}function gT(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(ee.clearTimeout(t.A),t.A=null)}$.isActive=function(){return!!this.g};function Wn(t){return t.g?t.g.readyState:0}$.da=function(){try{return 2<Wn(this)?this.g.status:-1}catch{return-1}};$.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};$.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),eO(e)}};function E_(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case fT:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function sO(t){const e={};t=(t.g&&2<=Wn(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(ul(t[r]))continue;var n=I2(t[r]);const s=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const i=e[s]||[];e[s]=i,i.push(n)}x2(e,function(r){return r.join(", ")})}$.Ia=function(){return this.m};$.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function vT(t){let e="";return nv(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function gv(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=vT(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):ke(t,e,n))}function Jo(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function yT(t){this.Ga=0,this.j=[],this.l=new hh,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Jo("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Jo("baseRetryDelayMs",5e3,t),this.hb=Jo("retryDelaySeedMs",1e4,t),this.eb=Jo("forwardChannelMaxRetries",2,t),this.xa=Jo("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new aT(t&&t.concurrentRequestLimit),this.Ja=new X2,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}$=yT.prototype;$.ra=8;$.H=1;function vv(t){if(_T(t),t.H==3){var e=t.W++,n=Tr(t.I);if(ke(n,"SID",t.K),ke(n,"RID",e),ke(n,"TYPE","terminate"),Yl(t,n),e=new Wl(t,t.l,e),e.L=2,e.A=vh(Tr(n)),n=!1,ee.navigator&&ee.navigator.sendBeacon)try{n=ee.navigator.sendBeacon(e.A.toString(),"")}catch{}!n&&ee.Image&&(new Image().src=e.A,n=!0),n||(e.g=DT(e.l,null),e.g.ha(e.A)),e.G=Date.now(),Hl(e)}CT(t)}function Eh(t){t.g&&(_v(t),t.g.cancel(),t.g=null)}function _T(t){Eh(t),t.u&&(ee.clearTimeout(t.u),t.u=null),rd(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&ee.clearTimeout(t.m),t.m=null)}function xh(t){if(!lT(t.i)&&!t.m){t.m=!0;var e=t.Na;hl||Ub(),fl||(hl(),fl=!0),lv.add(e,t),t.C=0}}function iO(t,e){return cT(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=Ul(St(t.Na,t,e),TT(t,t.C)),t.C++,!0)}$.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const s=new Wl(this,this.l,t);let i=this.s;if(this.U&&(i?(i=Ab(i),Ob(i,this.U)):i=this.U),this.o!==null||this.O||(s.I=i,i=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=wT(this,s,e),n=Tr(this.I),ke(n,"RID",t),ke(n,"CVER",22),this.F&&ke(n,"X-HTTP-Session-Id",this.F),Yl(this,n),i&&(this.O?e="headers="+encodeURIComponent(String(vT(i)))+"&"+e:this.o&&gv(n,this.o,i)),pv(this.i,s),this.bb&&ke(n,"TYPE","init"),this.P?(ke(n,"$req",e),ke(n,"SID","null"),s.aa=!0,mm(s,n,null)):mm(s,n,e),this.H=2}}else this.H==3&&(t?x_(this,t):this.j.length==0||lT(this.i)||x_(this))};function x_(t,e){var n;e?n=e.m:n=t.W++;const r=Tr(t.I);ke(r,"SID",t.K),ke(r,"RID",n),ke(r,"AID",t.V),Yl(t,r),t.o&&t.s&&gv(r,t.o,t.s),n=new Wl(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=wT(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),pv(t.i,n),mm(n,r,e)}function Yl(t,e){t.na&&nv(t.na,function(n,r){ke(e,r,n)}),t.h&&nT({},function(n,r){ke(e,r,n)})}function wT(t,e,n){n=Math.min(t.j.length,n);var r=t.h?St(t.h.Va,t.h,t):null;e:{var s=t.j;let i=-1;for(;;){const o=["count="+n];i==-1?0<n?(i=s[0].g,o.push("ofs="+i)):i=0:o.push("ofs="+i);let a=!0;for(let l=0;l<n;l++){let c=s[l].g;const u=s[l].map;if(c-=i,0>c)i=Math.max(0,s[l].g-100),a=!1;else try{J2(u,o,"req"+c+"_")}catch{r&&r(u)}}if(a){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function ET(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;hl||Ub(),fl||(hl(),fl=!0),lv.add(e,t),t.A=0}}function yv(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=Ul(St(t.Ma,t),TT(t,t.A)),t.A++,!0)}$.Ma=function(){if(this.u=null,xT(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=Ul(St(this.jb,this),t)}};$.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Mt(10),Eh(this),xT(this))};function _v(t){t.B!=null&&(ee.clearTimeout(t.B),t.B=null)}function xT(t){t.g=new Wl(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=Tr(t.wa);ke(e,"RID","rpc"),ke(e,"SID",t.K),ke(e,"AID",t.V),ke(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&ke(e,"TO",t.qa),ke(e,"TYPE","xmlhttp"),Yl(t,e),t.o&&t.s&&gv(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.A=vh(Tr(e)),n.u=null,n.S=!0,Jb(n,t)}$.ib=function(){this.v!=null&&(this.v=null,Eh(this),yv(this),Mt(19))};function rd(t){t.v!=null&&(ee.clearTimeout(t.v),t.v=null)}function bT(t,e){var n=null;if(t.g==e){rd(t),_v(t),t.g=null;var r=2}else if(vm(t.i,e))n=e.F,uT(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.u?e.u.length:0,e=Date.now()-e.G;var s=t.C;r=fh(),vt(r,new qb(r,n)),xh(t)}else ET(t);else if(s=e.s,s==3||s==0&&0<e.ca||!(r==1&&iO(t,e)||r==2&&yv(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),s){case 1:Us(t,5);break;case 4:Us(t,10);break;case 3:Us(t,6);break;default:Us(t,2)}}}function TT(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function Us(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=St(t.pb,t);n||(n=new Qs("//www.google.com/images/cleardot.gif"),ee.location&&ee.location.protocol=="http"||td(n,"https"),vh(n)),Z2(n.toString(),r)}else Mt(2);t.H=0,t.h&&t.h.za(e),CT(t),_T(t)}$.pb=function(t){t?(this.l.info("Successfully pinged google.com"),Mt(2)):(this.l.info("Failed to ping google.com"),Mt(1))};function CT(t){if(t.H=0,t.ma=[],t.h){const e=dT(t.i);(e.length!=0||t.j.length!=0)&&(h_(t.ma,e),h_(t.ma,t.j),t.i.i.length=0,ev(t.j),t.j.length=0),t.h.ya()}}function ST(t,e,n){var r=n instanceof Qs?Tr(n):new Qs(n);if(r.g!="")e&&(r.g=e+"."+r.g),nd(r,r.m);else{var s=ee.location;r=s.protocol,e=e?e+"."+s.hostname:s.hostname,s=+s.port;var i=new Qs(null);r&&td(i,r),e&&(i.g=e),s&&nd(i,s),n&&(i.l=n),r=i}return n=t.F,e=t.Da,n&&e&&ke(r,n,e),ke(r,"VER",t.ra),Yl(t,r),r}function DT(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=t.Ha&&!t.va?new $e(new yh({ob:n})):new $e(t.va),e.Oa(t.J),e}$.isActive=function(){return!!this.h&&this.h.isActive(this)};function kT(){}$=kT.prototype;$.Ba=function(){};$.Aa=function(){};$.za=function(){};$.ya=function(){};$.isActive=function(){return!0};$.Va=function(){};function sd(){if(go&&!(10<=Number(y2)))throw Error("Environmental error: no available transport.")}sd.prototype.g=function(t,e){return new sn(t,e)};function sn(t,e){ct.call(this),this.g=new yT(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!ul(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!ul(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new Fo(this)}ut(sn,ct);sn.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;Mt(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=ST(t,null,t.Y),xh(t)};sn.prototype.close=function(){vv(this.g)};sn.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=av(t),t=n);e.j.push(new Q2(e.fb++,t)),e.H==3&&xh(e)};sn.prototype.N=function(){this.g.h=null,delete this.j,vv(this.g),delete this.g,sn.$.N.call(this)};function IT(t){hv.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}ut(IT,hv);function NT(){fv.call(this),this.status=1}ut(NT,fv);function Fo(t){this.g=t}ut(Fo,kT);Fo.prototype.Ba=function(){vt(this.g,"a")};Fo.prototype.Aa=function(t){vt(this.g,new IT(t))};Fo.prototype.za=function(t){vt(this.g,new NT)};Fo.prototype.ya=function(){vt(this.g,"b")};function oO(){this.blockSize=-1}function Sn(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}ut(Sn,oO);Sn.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function jf(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var s=0;16>s;++s)r[s]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(s=0;16>s;++s)r[s]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],s=t.g[2];var i=t.g[3],o=e+(i^n&(s^i))+r[0]+3614090360&4294967295;e=n+(o<<7&4294967295|o>>>25),o=i+(s^e&(n^s))+r[1]+3905402710&4294967295,i=e+(o<<12&4294967295|o>>>20),o=s+(n^i&(e^n))+r[2]+606105819&4294967295,s=i+(o<<17&4294967295|o>>>15),o=n+(e^s&(i^e))+r[3]+3250441966&4294967295,n=s+(o<<22&4294967295|o>>>10),o=e+(i^n&(s^i))+r[4]+4118548399&4294967295,e=n+(o<<7&4294967295|o>>>25),o=i+(s^e&(n^s))+r[5]+1200080426&4294967295,i=e+(o<<12&4294967295|o>>>20),o=s+(n^i&(e^n))+r[6]+2821735955&4294967295,s=i+(o<<17&4294967295|o>>>15),o=n+(e^s&(i^e))+r[7]+4249261313&4294967295,n=s+(o<<22&4294967295|o>>>10),o=e+(i^n&(s^i))+r[8]+1770035416&4294967295,e=n+(o<<7&4294967295|o>>>25),o=i+(s^e&(n^s))+r[9]+2336552879&4294967295,i=e+(o<<12&4294967295|o>>>20),o=s+(n^i&(e^n))+r[10]+4294925233&4294967295,s=i+(o<<17&4294967295|o>>>15),o=n+(e^s&(i^e))+r[11]+2304563134&4294967295,n=s+(o<<22&4294967295|o>>>10),o=e+(i^n&(s^i))+r[12]+1804603682&4294967295,e=n+(o<<7&4294967295|o>>>25),o=i+(s^e&(n^s))+r[13]+4254626195&4294967295,i=e+(o<<12&4294967295|o>>>20),o=s+(n^i&(e^n))+r[14]+2792965006&4294967295,s=i+(o<<17&4294967295|o>>>15),o=n+(e^s&(i^e))+r[15]+1236535329&4294967295,n=s+(o<<22&4294967295|o>>>10),o=e+(s^i&(n^s))+r[1]+4129170786&4294967295,e=n+(o<<5&4294967295|o>>>27),o=i+(n^s&(e^n))+r[6]+3225465664&4294967295,i=e+(o<<9&4294967295|o>>>23),o=s+(e^n&(i^e))+r[11]+643717713&4294967295,s=i+(o<<14&4294967295|o>>>18),o=n+(i^e&(s^i))+r[0]+3921069994&4294967295,n=s+(o<<20&4294967295|o>>>12),o=e+(s^i&(n^s))+r[5]+3593408605&4294967295,e=n+(o<<5&4294967295|o>>>27),o=i+(n^s&(e^n))+r[10]+38016083&4294967295,i=e+(o<<9&4294967295|o>>>23),o=s+(e^n&(i^e))+r[15]+3634488961&4294967295,s=i+(o<<14&4294967295|o>>>18),o=n+(i^e&(s^i))+r[4]+3889429448&4294967295,n=s+(o<<20&4294967295|o>>>12),o=e+(s^i&(n^s))+r[9]+568446438&4294967295,e=n+(o<<5&4294967295|o>>>27),o=i+(n^s&(e^n))+r[14]+3275163606&4294967295,i=e+(o<<9&4294967295|o>>>23),o=s+(e^n&(i^e))+r[3]+4107603335&4294967295,s=i+(o<<14&4294967295|o>>>18),o=n+(i^e&(s^i))+r[8]+1163531501&4294967295,n=s+(o<<20&4294967295|o>>>12),o=e+(s^i&(n^s))+r[13]+2850285829&4294967295,e=n+(o<<5&4294967295|o>>>27),o=i+(n^s&(e^n))+r[2]+4243563512&4294967295,i=e+(o<<9&4294967295|o>>>23),o=s+(e^n&(i^e))+r[7]+1735328473&4294967295,s=i+(o<<14&4294967295|o>>>18),o=n+(i^e&(s^i))+r[12]+2368359562&4294967295,n=s+(o<<20&4294967295|o>>>12),o=e+(n^s^i)+r[5]+4294588738&4294967295,e=n+(o<<4&4294967295|o>>>28),o=i+(e^n^s)+r[8]+2272392833&4294967295,i=e+(o<<11&4294967295|o>>>21),o=s+(i^e^n)+r[11]+1839030562&4294967295,s=i+(o<<16&4294967295|o>>>16),o=n+(s^i^e)+r[14]+4259657740&4294967295,n=s+(o<<23&4294967295|o>>>9),o=e+(n^s^i)+r[1]+2763975236&4294967295,e=n+(o<<4&4294967295|o>>>28),o=i+(e^n^s)+r[4]+1272893353&4294967295,i=e+(o<<11&4294967295|o>>>21),o=s+(i^e^n)+r[7]+4139469664&4294967295,s=i+(o<<16&4294967295|o>>>16),o=n+(s^i^e)+r[10]+3200236656&4294967295,n=s+(o<<23&4294967295|o>>>9),o=e+(n^s^i)+r[13]+681279174&4294967295,e=n+(o<<4&4294967295|o>>>28),o=i+(e^n^s)+r[0]+3936430074&4294967295,i=e+(o<<11&4294967295|o>>>21),o=s+(i^e^n)+r[3]+3572445317&4294967295,s=i+(o<<16&4294967295|o>>>16),o=n+(s^i^e)+r[6]+76029189&4294967295,n=s+(o<<23&4294967295|o>>>9),o=e+(n^s^i)+r[9]+3654602809&4294967295,e=n+(o<<4&4294967295|o>>>28),o=i+(e^n^s)+r[12]+3873151461&4294967295,i=e+(o<<11&4294967295|o>>>21),o=s+(i^e^n)+r[15]+530742520&4294967295,s=i+(o<<16&4294967295|o>>>16),o=n+(s^i^e)+r[2]+3299628645&4294967295,n=s+(o<<23&4294967295|o>>>9),o=e+(s^(n|~i))+r[0]+4096336452&4294967295,e=n+(o<<6&4294967295|o>>>26),o=i+(n^(e|~s))+r[7]+1126891415&4294967295,i=e+(o<<10&4294967295|o>>>22),o=s+(e^(i|~n))+r[14]+2878612391&4294967295,s=i+(o<<15&4294967295|o>>>17),o=n+(i^(s|~e))+r[5]+4237533241&4294967295,n=s+(o<<21&4294967295|o>>>11),o=e+(s^(n|~i))+r[12]+1700485571&4294967295,e=n+(o<<6&4294967295|o>>>26),o=i+(n^(e|~s))+r[3]+2399980690&4294967295,i=e+(o<<10&4294967295|o>>>22),o=s+(e^(i|~n))+r[10]+4293915773&4294967295,s=i+(o<<15&4294967295|o>>>17),o=n+(i^(s|~e))+r[1]+2240044497&4294967295,n=s+(o<<21&4294967295|o>>>11),o=e+(s^(n|~i))+r[8]+1873313359&4294967295,e=n+(o<<6&4294967295|o>>>26),o=i+(n^(e|~s))+r[15]+4264355552&4294967295,i=e+(o<<10&4294967295|o>>>22),o=s+(e^(i|~n))+r[6]+2734768916&4294967295,s=i+(o<<15&4294967295|o>>>17),o=n+(i^(s|~e))+r[13]+1309151649&4294967295,n=s+(o<<21&4294967295|o>>>11),o=e+(s^(n|~i))+r[4]+4149444226&4294967295,e=n+(o<<6&4294967295|o>>>26),o=i+(n^(e|~s))+r[11]+3174756917&4294967295,i=e+(o<<10&4294967295|o>>>22),o=s+(e^(i|~n))+r[2]+718787259&4294967295,s=i+(o<<15&4294967295|o>>>17),o=n+(i^(s|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(s+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+s&4294967295,t.g[3]=t.g[3]+i&4294967295}Sn.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,s=this.h,i=0;i<e;){if(s==0)for(;i<=n;)jf(this,t,i),i+=this.blockSize;if(typeof t=="string"){for(;i<e;)if(r[s++]=t.charCodeAt(i++),s==this.blockSize){jf(this,r),s=0;break}}else for(;i<e;)if(r[s++]=t[i++],s==this.blockSize){jf(this,r),s=0;break}}this.h=s,this.i+=e};Sn.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function be(t,e){this.h=e;for(var n=[],r=!0,s=t.length-1;0<=s;s--){var i=t[s]|0;r&&i==e||(n[s]=i,r=!1)}this.g=n}var aO={};function wv(t){return-128<=t&&128>t?m2(t,function(e){return new be([e|0],0>e?-1:0)}):new be([t|0],0>t?-1:0)}function Hn(t){if(isNaN(t)||!isFinite(t))return no;if(0>t)return pt(Hn(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=ym;return new be(e,0)}function PT(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return pt(PT(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Hn(Math.pow(e,8)),r=no,s=0;s<t.length;s+=8){var i=Math.min(8,t.length-s),o=parseInt(t.substring(s,s+i),e);8>i?(i=Hn(Math.pow(e,i)),r=r.R(i).add(Hn(o))):(r=r.R(n),r=r.add(Hn(o)))}return r}var ym=4294967296,no=wv(0),_m=wv(1),b_=wv(16777216);$=be.prototype;$.ea=function(){if(hn(this))return-pt(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:ym+r)*e,e*=ym}return t};$.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(fr(this))return"0";if(hn(this))return"-"+pt(this).toString(t);for(var e=Hn(Math.pow(t,6)),n=this,r="";;){var s=od(n,e).g;n=id(n,s.R(e));var i=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=s,fr(n))return i+r;for(;6>i.length;)i="0"+i;r=i+r}};$.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function fr(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function hn(t){return t.h==-1}$.X=function(t){return t=id(this,t),hn(t)?-1:fr(t)?0:1};function pt(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new be(n,~t.h).add(_m)}$.abs=function(){return hn(this)?pt(this):this};$.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,s=0;s<=e;s++){var i=r+(this.D(s)&65535)+(t.D(s)&65535),o=(i>>>16)+(this.D(s)>>>16)+(t.D(s)>>>16);r=o>>>16,i&=65535,o&=65535,n[s]=o<<16|i}return new be(n,n[n.length-1]&-2147483648?-1:0)};function id(t,e){return t.add(pt(e))}$.R=function(t){if(fr(this)||fr(t))return no;if(hn(this))return hn(t)?pt(this).R(pt(t)):pt(pt(this).R(t));if(hn(t))return pt(this.R(pt(t)));if(0>this.X(b_)&&0>t.X(b_))return Hn(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var s=0;s<t.g.length;s++){var i=this.D(r)>>>16,o=this.D(r)&65535,a=t.D(s)>>>16,l=t.D(s)&65535;n[2*r+2*s]+=o*l,Ac(n,2*r+2*s),n[2*r+2*s+1]+=i*l,Ac(n,2*r+2*s+1),n[2*r+2*s+1]+=o*a,Ac(n,2*r+2*s+1),n[2*r+2*s+2]+=i*a,Ac(n,2*r+2*s+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new be(n,0)};function Ac(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function Zo(t,e){this.g=t,this.h=e}function od(t,e){if(fr(e))throw Error("division by zero");if(fr(t))return new Zo(no,no);if(hn(t))return e=od(pt(t),e),new Zo(pt(e.g),pt(e.h));if(hn(e))return e=od(t,pt(e)),new Zo(pt(e.g),e.h);if(30<t.g.length){if(hn(t)||hn(e))throw Error("slowDivide_ only works with positive integers.");for(var n=_m,r=e;0>=r.X(t);)n=T_(n),r=T_(r);var s=Si(n,1),i=Si(r,1);for(r=Si(r,2),n=Si(n,2);!fr(r);){var o=i.add(r);0>=o.X(t)&&(s=s.add(n),i=o),r=Si(r,1),n=Si(n,1)}return e=id(t,s.R(e)),new Zo(s,e)}for(s=no;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),i=Hn(n),o=i.R(e);hn(o)||0<o.X(t);)n-=r,i=Hn(n),o=i.R(e);fr(i)&&(i=_m),s=s.add(i),t=id(t,o)}return new Zo(s,t)}$.gb=function(t){return od(this,t).h};$.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new be(n,this.h&t.h)};$.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new be(n,this.h|t.h)};$.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new be(n,this.h^t.h)};function T_(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new be(n,t.h)}function Si(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,s=[],i=0;i<r;i++)s[i]=0<e?t.D(i+n)>>>e|t.D(i+n+1)<<32-e:t.D(i+n);return new be(s,t.h)}sd.prototype.createWebChannel=sd.prototype.g;sn.prototype.send=sn.prototype.u;sn.prototype.open=sn.prototype.m;sn.prototype.close=sn.prototype.close;ph.NO_ERROR=0;ph.TIMEOUT=8;ph.HTTP_ERROR=6;Qb.COMPLETE="complete";Kb.EventType=Bl;Bl.OPEN="a";Bl.CLOSE="b";Bl.ERROR="c";Bl.MESSAGE="d";ct.prototype.listen=ct.prototype.O;$e.prototype.listenOnce=$e.prototype.P;$e.prototype.getLastError=$e.prototype.Sa;$e.prototype.getLastErrorCode=$e.prototype.Ia;$e.prototype.getStatus=$e.prototype.da;$e.prototype.getResponseJson=$e.prototype.Wa;$e.prototype.getResponseText=$e.prototype.ja;$e.prototype.send=$e.prototype.ha;$e.prototype.setWithCredentials=$e.prototype.Oa;Sn.prototype.digest=Sn.prototype.l;Sn.prototype.reset=Sn.prototype.reset;Sn.prototype.update=Sn.prototype.j;be.prototype.add=be.prototype.add;be.prototype.multiply=be.prototype.R;be.prototype.modulo=be.prototype.gb;be.prototype.compare=be.prototype.X;be.prototype.toNumber=be.prototype.ea;be.prototype.toString=be.prototype.toString;be.prototype.getBits=be.prototype.D;be.fromNumber=Hn;be.fromString=PT;var lO=function(){return new sd},cO=function(){return fh()},Lf=ph,uO=Qb,dO=yi,C_={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Oc=Kb,hO=$e,fO=Sn,ro=be;const S_="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}bt.UNAUTHENTICATED=new bt(null),bt.GOOGLE_CREDENTIALS=new bt("google-credentials-uid"),bt.FIRST_PARTY=new bt("first-party-uid"),bt.MOCK_USER=new bt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vo="10.11.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ai=new $g("@firebase/firestore");function ea(){return ai.logLevel}function V(t,...e){if(ai.logLevel<=ae.DEBUG){const n=e.map(Ev);ai.debug(`Firestore (${Vo}): ${t}`,...n)}}function tr(t,...e){if(ai.logLevel<=ae.ERROR){const n=e.map(Ev);ai.error(`Firestore (${Vo}): ${t}`,...n)}}function vo(t,...e){if(ai.logLevel<=ae.WARN){const n=e.map(Ev);ai.warn(`Firestore (${Vo}): ${t}`,...n)}}function Ev(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z(t="Unexpected state"){const e=`FIRESTORE (${Vo}) INTERNAL ASSERTION FAILED: `+t;throw tr(e),new Error(e)}function Se(t,e){t||Z()}function ne(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class B extends kr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gn{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RT{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class pO{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(bt.UNAUTHENTICATED))}shutdown(){}}class mO{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class gO{constructor(e){this.t=e,this.currentUser=bt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const s=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let i=new Gn;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Gn,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const l=i;e.enqueueRetryable(async()=>{await l.promise,await s(this.currentUser)})},a=l=>{V("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(V("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Gn)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(V("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Se(typeof r.accessToken=="string"),new RT(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Se(e===null||typeof e=="string"),new bt(e)}}class vO{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=bt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class yO{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new vO(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(bt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class _O{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class wO{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=i=>{i.error!=null&&V("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.R;return this.R=i.token,V("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{V("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.appCheck.addTokenListener(this.o)};this.A.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.A.getImmediate({optional:!0});i?s(i):V("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Se(typeof n.token=="string"),this.R=n.token,new _O(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EO(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AT{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const s=EO(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%e.length))}return r}}function pe(t,e){return t<e?-1:t>e?1:0}function yo(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new B(N.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new B(N.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new B(N.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new B(N.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return nt.fromMillis(Date.now())}static fromDate(e){return nt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new nt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?pe(this.nanoseconds,e.nanoseconds):pe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class te{constructor(e){this.timestamp=e}static fromTimestamp(e){return new te(e)}static min(){return new te(new nt(0,0))}static max(){return new te(new nt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yl{constructor(e,n,r){n===void 0?n=0:n>e.length&&Z(),r===void 0?r=e.length-n:r>e.length-n&&Z(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return yl.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof yl?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=e.get(s),o=n.get(s);if(i<o)return-1;if(i>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Ie extends yl{construct(e,n,r){return new Ie(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new B(N.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new Ie(n)}static emptyPath(){return new Ie([])}}const xO=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class mt extends yl{construct(e,n,r){return new mt(e,n,r)}static isValidIdentifier(e){return xO.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),mt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new mt(["__name__"])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new B(N.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const a=e[s];if(a==="\\"){if(s+1===e.length)throw new B(N.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[s+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new B(N.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,s+=2}else a==="`"?(o=!o,s++):a!=="."||o?(r+=a,s++):(i(),s++)}if(i(),o)throw new B(N.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new mt(n)}static emptyPath(){return new mt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G{constructor(e){this.path=e}static fromPath(e){return new G(Ie.fromString(e))}static fromName(e){return new G(Ie.fromString(e).popFirst(5))}static empty(){return new G(Ie.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ie.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ie.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new G(new Ie(e.slice()))}}function bO(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=te.fromTimestamp(r===1e9?new nt(n+1,0):new nt(n,r));return new fs(s,G.empty(),e)}function TO(t){return new fs(t.readTime,t.key,-1)}class fs{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new fs(te.min(),G.empty(),-1)}static max(){return new fs(te.max(),G.empty(),-1)}}function CO(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=G.comparator(t.documentKey,e.documentKey),n!==0?n:pe(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SO="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class DO{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ql(t){if(t.code!==N.FAILED_PRECONDITION||t.message!==SO)throw t;V("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Z(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new R((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof R?n:R.resolve(n)}catch(n){return R.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):R.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):R.reject(n)}static resolve(e){return new R((n,r)=>{n(e)})}static reject(e){return new R((n,r)=>{r(e)})}static waitFor(e){return new R((n,r)=>{let s=0,i=0,o=!1;e.forEach(a=>{++s,a.next(()=>{++i,o&&i===s&&n()},l=>r(l))}),o=!0,i===s&&n()})}static or(e){let n=R.resolve(!1);for(const r of e)n=n.next(s=>s?R.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new R((r,s)=>{const i=e.length,o=new Array(i);let a=0;for(let l=0;l<i;l++){const c=l;n(e[c]).next(u=>{o[c]=u,++a,a===i&&r(o)},u=>s(u))}})}static doWhile(e,n){return new R((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xv{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.V=new Gn,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{n.error?this.V.reject(new Oa(e,n.error)):this.V.resolve()},this.transaction.onerror=r=>{const s=bv(r.target.error);this.V.reject(new Oa(e,s))}}static open(e,n,r,s){try{return new xv(n,e.transaction(s,r))}catch(i){throw new Oa(n,i)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(V("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const n=this.transaction.objectStore(e);return new IO(n)}}class Bs{constructor(e,n,r){this.name=e,this.version=n,this.p=r,Bs.S(Ze())===12.2&&tr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return V("SimpleDb","Removing database:",e),js(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!Bx())return!1;if(Bs.C())return!0;const e=Ze(),n=Bs.S(e),r=0<n&&n<10,s=Bs.v(e),i=0<s&&s<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||i)}static C(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.F)==="YES"}static M(e,n){return e.store(n)}static S(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static v(e){const n=e.match(/Android ([\d.]+)/i),r=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(r)}async O(e){return this.db||(V("SimpleDb","Opening database:",this.name),this.db=await new Promise((n,r)=>{const s=indexedDB.open(this.name,this.version);s.onsuccess=i=>{const o=i.target.result;n(o)},s.onblocked=()=>{r(new Oa(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},s.onerror=i=>{const o=i.target.error;o.name==="VersionError"?r(new B(N.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):o.name==="InvalidStateError"?r(new B(N.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+o)):r(new Oa(e,o))},s.onupgradeneeded=i=>{V("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',i.oldVersion);const o=i.target.result;this.p.N(o,s.transaction,i.oldVersion,this.version).next(()=>{V("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.L&&(this.db.onversionchange=n=>this.L(n)),this.db}B(e){this.L=e,this.db&&(this.db.onversionchange=n=>e(n))}async runTransaction(e,n,r,s){const i=n==="readonly";let o=0;for(;;){++o;try{this.db=await this.O(e);const a=xv.open(this.db,e,i?"readonly":"readwrite",r),l=s(a).next(c=>(a.g(),c)).catch(c=>(a.abort(c),R.reject(c))).toPromise();return l.catch(()=>{}),await a.m,l}catch(a){const l=a,c=l.name!=="FirebaseError"&&o<3;if(V("SimpleDb","Transaction failed with error:",l.message,"Retrying:",c),this.close(),!c)return Promise.reject(l)}}}close(){this.db&&this.db.close(),this.db=void 0}}class kO{constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return js(this.k.delete())}}class Oa extends B{constructor(e,n){super(N.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function Ql(t){return t.name==="IndexedDbTransactionError"}class IO{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(V("SimpleDb","PUT",this.store.name,e,n),r=this.store.put(n,e)):(V("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),js(r)}add(e){return V("SimpleDb","ADD",this.store.name,e,e),js(this.store.add(e))}get(e){return js(this.store.get(e)).next(n=>(n===void 0&&(n=null),V("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return V("SimpleDb","DELETE",this.store.name,e),js(this.store.delete(e))}count(){return V("SimpleDb","COUNT",this.store.name),js(this.store.count())}W(e,n){const r=this.options(e,n),s=r.index?this.store.index(r.index):this.store;if(typeof s.getAll=="function"){const i=s.getAll(r.range);return new R((o,a)=>{i.onerror=l=>{a(l.target.error)},i.onsuccess=l=>{o(l.target.result)}})}{const i=this.cursor(r),o=[];return this.G(i,(a,l)=>{o.push(l)}).next(()=>o)}}j(e,n){const r=this.store.getAll(e,n===null?void 0:n);return new R((s,i)=>{r.onerror=o=>{i(o.target.error)},r.onsuccess=o=>{s(o.target.result)}})}H(e,n){V("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,n);r.J=!1;const s=this.cursor(r);return this.G(s,(i,o,a)=>a.delete())}Y(e,n){let r;n?r=e:(r={},n=e);const s=this.cursor(r);return this.G(s,n)}Z(e){const n=this.cursor({});return new R((r,s)=>{n.onerror=i=>{const o=bv(i.target.error);s(o)},n.onsuccess=i=>{const o=i.target.result;o?e(o.primaryKey,o.value).next(a=>{a?o.continue():r()}):r()}})}G(e,n){const r=[];return new R((s,i)=>{e.onerror=o=>{i(o.target.error)},e.onsuccess=o=>{const a=o.target.result;if(!a)return void s();const l=new kO(a),c=n(a.primaryKey,a.value,l);if(c instanceof R){const u=c.catch(h=>(l.done(),R.reject(h)));r.push(u)}l.isDone?s():l.$===null?a.continue():a.continue(l.$)}}).next(()=>R.waitFor(r))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.J?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function js(t){return new R((e,n)=>{t.onsuccess=r=>{const s=r.target.result;e(s)},t.onerror=r=>{const s=bv(r.target.error);n(s)}})}let D_=!1;function bv(t){const e=Bs.S(Ze());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new B("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return D_||(D_=!0,setTimeout(()=>{throw r},0)),r}}return t}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tv{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.se(r),this.oe=r=>n.writeSequenceNumber(r))}se(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.oe&&this.oe(e),e}}Tv._e=-1;function bh(t){return t==null}function ad(t){return t===0&&1/t==-1/0}function NO(t){return typeof t=="number"&&Number.isInteger(t)&&!ad(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k_(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function _i(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function OT(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Le{constructor(e,n){this.comparator=e,this.root=n||ft.EMPTY}insert(e,n){return new Le(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,ft.BLACK,null,null))}remove(e){return new Le(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ft.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Mc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Mc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Mc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Mc(this.root,e,this.comparator,!0)}}class Mc{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ft{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??ft.RED,this.left=s??ft.EMPTY,this.right=i??ft.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new ft(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return ft.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return ft.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ft.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ft.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Z();const e=this.left.check();if(e!==this.right.check())throw Z();return e+(this.isRed()?0:1)}}ft.EMPTY=null,ft.RED=!0,ft.BLACK=!1;ft.EMPTY=new class{constructor(){this.size=0}get key(){throw Z()}get value(){throw Z()}get color(){throw Z()}get left(){throw Z()}get right(){throw Z()}copy(e,n,r,s,i){return this}insert(e,n,r){return new ft(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt{constructor(e){this.comparator=e,this.data=new Le(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new I_(this.data.getIterator())}getIteratorFrom(e){return new I_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof yt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new yt(this.comparator);return n.data=e,n}}class I_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(e){this.fields=e,e.sort(mt.comparator)}static empty(){return new en([])}unionWith(e){let n=new yt(mt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new en(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return yo(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new MT("Invalid base64 string: "+i):i}}(e);return new Nt(n)}static fromUint8Array(e){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new Nt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return pe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Nt.EMPTY_BYTE_STRING=new Nt("");const PO=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ps(t){if(Se(!!t),typeof t=="string"){let e=0;const n=PO.exec(t);if(Se(!!n),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Qe(t.seconds),nanos:Qe(t.nanos)}}function Qe(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function li(t){return typeof t=="string"?Nt.fromBase64String(t):Nt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cv(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Sv(t){const e=t.mapValue.fields.__previous_value__;return Cv(e)?Sv(e):e}function _l(t){const e=ps(t.mapValue.fields.__local_write_time__.timestampValue);return new nt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RO{constructor(e,n,r,s,i,o,a,l,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}}class wl{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new wl("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof wl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jc={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function ci(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Cv(t)?4:AO(t)?9007199254740991:10:Z()}function nr(t,e){if(t===e)return!0;const n=ci(t);if(n!==ci(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return _l(t).isEqual(_l(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=ps(s.timestampValue),a=ps(i.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return li(s.bytesValue).isEqual(li(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return Qe(s.geoPointValue.latitude)===Qe(i.geoPointValue.latitude)&&Qe(s.geoPointValue.longitude)===Qe(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return Qe(s.integerValue)===Qe(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=Qe(s.doubleValue),a=Qe(i.doubleValue);return o===a?ad(o)===ad(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return yo(t.arrayValue.values||[],e.arrayValue.values||[],nr);case 10:return function(s,i){const o=s.mapValue.fields||{},a=i.mapValue.fields||{};if(k_(o)!==k_(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!nr(o[l],a[l])))return!1;return!0}(t,e);default:return Z()}}function El(t,e){return(t.values||[]).find(n=>nr(n,e))!==void 0}function _o(t,e){if(t===e)return 0;const n=ci(t),r=ci(e);if(n!==r)return pe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return pe(t.booleanValue,e.booleanValue);case 2:return function(i,o){const a=Qe(i.integerValue||i.doubleValue),l=Qe(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return N_(t.timestampValue,e.timestampValue);case 4:return N_(_l(t),_l(e));case 5:return pe(t.stringValue,e.stringValue);case 6:return function(i,o){const a=li(i),l=li(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const a=i.split("/"),l=o.split("/");for(let c=0;c<a.length&&c<l.length;c++){const u=pe(a[c],l[c]);if(u!==0)return u}return pe(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const a=pe(Qe(i.latitude),Qe(o.latitude));return a!==0?a:pe(Qe(i.longitude),Qe(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,o){const a=i.values||[],l=o.values||[];for(let c=0;c<a.length&&c<l.length;++c){const u=_o(a[c],l[c]);if(u)return u}return pe(a.length,l.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,o){if(i===jc.mapValue&&o===jc.mapValue)return 0;if(i===jc.mapValue)return 1;if(o===jc.mapValue)return-1;const a=i.fields||{},l=Object.keys(a),c=o.fields||{},u=Object.keys(c);l.sort(),u.sort();for(let h=0;h<l.length&&h<u.length;++h){const f=pe(l[h],u[h]);if(f!==0)return f;const p=_o(a[l[h]],c[u[h]]);if(p!==0)return p}return pe(l.length,u.length)}(t.mapValue,e.mapValue);default:throw Z()}}function N_(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return pe(t,e);const n=ps(t),r=ps(e),s=pe(n.seconds,r.seconds);return s!==0?s:pe(n.nanos,r.nanos)}function wo(t){return wm(t)}function wm(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=ps(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return li(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return G.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=wm(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${wm(n.fields[o])}`;return s+"}"}(t.mapValue):Z()}function P_(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Em(t){return!!t&&"integerValue"in t}function Dv(t){return!!t&&"arrayValue"in t}function R_(t){return!!t&&"nullValue"in t}function A_(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function uu(t){return!!t&&"mapValue"in t}function Ma(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return _i(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Ma(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ma(t.arrayValue.values[n]);return e}return Object.assign({},t)}function AO(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e){this.value=e}static empty(){return new Wt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!uu(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ma(n)}setAll(e){let n=mt.emptyPath(),r={},s=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,s),r={},s=[],n=a.popLast()}o?r[a.lastSegment()]=Ma(o):s.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());uu(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return nr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];uu(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){_i(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new Wt(Ma(this.value))}}function jT(t){const e=[];return _i(t.fields,(n,r)=>{const s=new mt([n]);if(uu(r)){const i=jT(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new en(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ct{constructor(e,n,r,s,i,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Ct(e,0,te.min(),te.min(),te.min(),Wt.empty(),0)}static newFoundDocument(e,n,r,s){return new Ct(e,1,n,te.min(),r,s,0)}static newNoDocument(e,n){return new Ct(e,2,n,te.min(),te.min(),Wt.empty(),0)}static newUnknownDocument(e,n){return new Ct(e,3,n,te.min(),te.min(),Wt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(te.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Wt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Wt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=te.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ct&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ct(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ld{constructor(e,n){this.position=e,this.inclusive=n}}function O_(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=G.comparator(G.fromName(o.referenceValue),n.key):r=_o(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function M_(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!nr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cd{constructor(e,n="asc"){this.field=e,this.dir=n}}function OO(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LT{}class Ge extends LT{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new jO(e,n,r):n==="array-contains"?new VO(e,r):n==="in"?new $O(e,r):n==="not-in"?new UO(e,r):n==="array-contains-any"?new BO(e,r):new Ge(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new LO(e,r):new FO(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(_o(n,this.value)):n!==null&&ci(this.value)===ci(n)&&this.matchesComparison(_o(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Z()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Dn extends LT{constructor(e,n){super(),this.filters=e,this.op=n,this.ue=null}static create(e,n){return new Dn(e,n)}matches(e){return FT(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ue!==null||(this.ue=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function FT(t){return t.op==="and"}function VT(t){return MO(t)&&FT(t)}function MO(t){for(const e of t.filters)if(e instanceof Dn)return!1;return!0}function xm(t){if(t instanceof Ge)return t.field.canonicalString()+t.op.toString()+wo(t.value);if(VT(t))return t.filters.map(e=>xm(e)).join(",");{const e=t.filters.map(n=>xm(n)).join(",");return`${t.op}(${e})`}}function $T(t,e){return t instanceof Ge?function(r,s){return s instanceof Ge&&r.op===s.op&&r.field.isEqual(s.field)&&nr(r.value,s.value)}(t,e):t instanceof Dn?function(r,s){return s instanceof Dn&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,a)=>i&&$T(o,s.filters[a]),!0):!1}(t,e):void Z()}function UT(t){return t instanceof Ge?function(n){return`${n.field.canonicalString()} ${n.op} ${wo(n.value)}`}(t):t instanceof Dn?function(n){return n.op.toString()+" {"+n.getFilters().map(UT).join(" ,")+"}"}(t):"Filter"}class jO extends Ge{constructor(e,n,r){super(e,n,r),this.key=G.fromName(r.referenceValue)}matches(e){const n=G.comparator(e.key,this.key);return this.matchesComparison(n)}}class LO extends Ge{constructor(e,n){super(e,"in",n),this.keys=BT("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class FO extends Ge{constructor(e,n){super(e,"not-in",n),this.keys=BT("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function BT(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>G.fromName(r.referenceValue))}class VO extends Ge{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Dv(n)&&El(n.arrayValue,this.value)}}class $O extends Ge{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&El(this.value.arrayValue,n)}}class UO extends Ge{constructor(e,n){super(e,"not-in",n)}matches(e){if(El(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!El(this.value.arrayValue,n)}}class BO extends Ge{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Dv(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>El(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WO{constructor(e,n=null,r=[],s=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=a,this.ce=null}}function j_(t,e=null,n=[],r=[],s=null,i=null,o=null){return new WO(t,e,n,r,s,i,o)}function kv(t){const e=ne(t);if(e.ce===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>xm(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),bh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>wo(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>wo(r)).join(",")),e.ce=n}return e.ce}function Iv(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!OO(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!$T(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!M_(t.startAt,e.startAt)&&M_(t.endAt,e.endAt)}function bm(t){return G.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kl{constructor(e,n=null,r=[],s=[],i=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=l,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}}function HO(t,e,n,r,s,i,o,a){return new Kl(t,e,n,r,s,i,o,a)}function Th(t){return new Kl(t)}function L_(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function WT(t){return t.collectionGroup!==null}function ja(t){const e=ne(t);if(e.le===null){e.le=[];const n=new Set;for(const i of e.explicitOrderBy)e.le.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new yt(mt.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.le.push(new cd(i,r))}),n.has(mt.keyField().canonicalString())||e.le.push(new cd(mt.keyField(),r))}return e.le}function Xn(t){const e=ne(t);return e.he||(e.he=zO(e,ja(t))),e.he}function zO(t,e){if(t.limitType==="F")return j_(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new cd(s.field,i)});const n=t.endAt?new ld(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new ld(t.startAt.position,t.startAt.inclusive):null;return j_(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Tm(t,e){const n=t.filters.concat([e]);return new Kl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Cm(t,e,n){return new Kl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Ch(t,e){return Iv(Xn(t),Xn(e))&&t.limitType===e.limitType}function HT(t){return`${kv(Xn(t))}|lt:${t.limitType}`}function Ii(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>UT(s)).join(", ")}]`),bh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>wo(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>wo(s)).join(",")),`Target(${r})`}(Xn(t))}; limitType=${t.limitType})`}function Sh(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):G.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of ja(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,a,l){const c=O_(o,a,l);return o.inclusive?c<=0:c<0}(r.startAt,ja(r),s)||r.endAt&&!function(o,a,l){const c=O_(o,a,l);return o.inclusive?c>=0:c>0}(r.endAt,ja(r),s))}(t,e)}function YO(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function zT(t){return(e,n)=>{let r=!1;for(const s of ja(t)){const i=qO(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function qO(t,e,n){const r=t.field.isKeyField()?G.comparator(e.key,n.key):function(i,o,a){const l=o.data.field(i),c=a.data.field(i);return l!==null&&c!==null?_o(l,c):Z()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Z()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $o{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){_i(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return OT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QO=new Le(G.comparator);function Cr(){return QO}const YT=new Le(G.comparator);function va(...t){let e=YT;for(const n of t)e=e.insert(n.key,n);return e}function qT(t){let e=YT;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Ws(){return La()}function QT(){return La()}function La(){return new $o(t=>t.toString(),(t,e)=>t.isEqual(e))}const KO=new Le(G.comparator),GO=new yt(G.comparator);function ie(...t){let e=GO;for(const n of t)e=e.add(n);return e}const XO=new yt(pe);function JO(){return XO}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KT(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ad(e)?"-0":e}}function GT(t){return{integerValue:""+t}}function ZO(t,e){return NO(e)?GT(e):KT(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dh{constructor(){this._=void 0}}function eM(t,e,n){return t instanceof ud?function(s,i){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&Cv(i)&&(i=Sv(i)),i&&(o.fields.__previous_value__=i),{mapValue:o}}(n,e):t instanceof xl?JT(t,e):t instanceof bl?ZT(t,e):function(s,i){const o=XT(s,i),a=F_(o)+F_(s.Ie);return Em(o)&&Em(s.Ie)?GT(a):KT(s.serializer,a)}(t,e)}function tM(t,e,n){return t instanceof xl?JT(t,e):t instanceof bl?ZT(t,e):n}function XT(t,e){return t instanceof dd?function(r){return Em(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class ud extends Dh{}class xl extends Dh{constructor(e){super(),this.elements=e}}function JT(t,e){const n=eC(e);for(const r of t.elements)n.some(s=>nr(s,r))||n.push(r);return{arrayValue:{values:n}}}class bl extends Dh{constructor(e){super(),this.elements=e}}function ZT(t,e){let n=eC(e);for(const r of t.elements)n=n.filter(s=>!nr(s,r));return{arrayValue:{values:n}}}class dd extends Dh{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function F_(t){return Qe(t.integerValue||t.doubleValue)}function eC(t){return Dv(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function nM(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof xl&&s instanceof xl||r instanceof bl&&s instanceof bl?yo(r.elements,s.elements,nr):r instanceof dd&&s instanceof dd?nr(r.Ie,s.Ie):r instanceof ud&&s instanceof ud}(t.transform,e.transform)}class rM{constructor(e,n){this.version=e,this.transformResults=n}}class Ft{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Ft}static exists(e){return new Ft(void 0,e)}static updateTime(e){return new Ft(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function du(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class kh{}function tC(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Ih(t.key,Ft.none()):new Gl(t.key,t.data,Ft.none());{const n=t.data,r=Wt.empty();let s=new yt(mt.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new Ss(t.key,r,new en(s.toArray()),Ft.none())}}function sM(t,e,n){t instanceof Gl?function(s,i,o){const a=s.value.clone(),l=$_(s.fieldTransforms,i,o.transformResults);a.setAll(l),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Ss?function(s,i,o){if(!du(s.precondition,i))return void i.convertToUnknownDocument(o.version);const a=$_(s.fieldTransforms,i,o.transformResults),l=i.data;l.setAll(nC(s)),l.setAll(a),i.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Fa(t,e,n,r){return t instanceof Gl?function(i,o,a,l){if(!du(i.precondition,o))return a;const c=i.value.clone(),u=U_(i.fieldTransforms,l,o);return c.setAll(u),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof Ss?function(i,o,a,l){if(!du(i.precondition,o))return a;const c=U_(i.fieldTransforms,l,o),u=o.data;return u.setAll(nC(i)),u.setAll(c),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(h=>h.field))}(t,e,n,r):function(i,o,a){return du(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function iM(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=XT(r.transform,s||null);i!=null&&(n===null&&(n=Wt.empty()),n.set(r.field,i))}return n||null}function V_(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&yo(r,s,(i,o)=>nM(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Gl extends kh{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Ss extends kh{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function nC(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function $_(t,e,n){const r=new Map;Se(t.length===n.length);for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,a=e.data.field(i.field);r.set(i.field,tM(o,a,n[s]))}return r}function U_(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,eM(i,o,e))}return r}class Ih extends kh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class oM extends kh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aM{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&sM(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Fa(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Fa(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=QT();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=n.has(s.key)?null:a;const l=tC(o,a);l!==null&&r.set(s.key,l),o.isValidDocument()||o.convertToNoDocument(te.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ie())}isEqual(e){return this.batchId===e.batchId&&yo(this.mutations,e.mutations,(n,r)=>V_(n,r))&&yo(this.baseMutations,e.baseMutations,(n,r)=>V_(n,r))}}class Nv{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){Se(e.mutations.length===r.length);let s=function(){return KO}();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new Nv(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lM{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cM{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qe,le;function uM(t){switch(t){default:return Z();case N.CANCELLED:case N.UNKNOWN:case N.DEADLINE_EXCEEDED:case N.RESOURCE_EXHAUSTED:case N.INTERNAL:case N.UNAVAILABLE:case N.UNAUTHENTICATED:return!1;case N.INVALID_ARGUMENT:case N.NOT_FOUND:case N.ALREADY_EXISTS:case N.PERMISSION_DENIED:case N.FAILED_PRECONDITION:case N.ABORTED:case N.OUT_OF_RANGE:case N.UNIMPLEMENTED:case N.DATA_LOSS:return!0}}function rC(t){if(t===void 0)return tr("GRPC error has no .code"),N.UNKNOWN;switch(t){case qe.OK:return N.OK;case qe.CANCELLED:return N.CANCELLED;case qe.UNKNOWN:return N.UNKNOWN;case qe.DEADLINE_EXCEEDED:return N.DEADLINE_EXCEEDED;case qe.RESOURCE_EXHAUSTED:return N.RESOURCE_EXHAUSTED;case qe.INTERNAL:return N.INTERNAL;case qe.UNAVAILABLE:return N.UNAVAILABLE;case qe.UNAUTHENTICATED:return N.UNAUTHENTICATED;case qe.INVALID_ARGUMENT:return N.INVALID_ARGUMENT;case qe.NOT_FOUND:return N.NOT_FOUND;case qe.ALREADY_EXISTS:return N.ALREADY_EXISTS;case qe.PERMISSION_DENIED:return N.PERMISSION_DENIED;case qe.FAILED_PRECONDITION:return N.FAILED_PRECONDITION;case qe.ABORTED:return N.ABORTED;case qe.OUT_OF_RANGE:return N.OUT_OF_RANGE;case qe.UNIMPLEMENTED:return N.UNIMPLEMENTED;case qe.DATA_LOSS:return N.DATA_LOSS;default:return Z()}}(le=qe||(qe={}))[le.OK=0]="OK",le[le.CANCELLED=1]="CANCELLED",le[le.UNKNOWN=2]="UNKNOWN",le[le.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",le[le.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",le[le.NOT_FOUND=5]="NOT_FOUND",le[le.ALREADY_EXISTS=6]="ALREADY_EXISTS",le[le.PERMISSION_DENIED=7]="PERMISSION_DENIED",le[le.UNAUTHENTICATED=16]="UNAUTHENTICATED",le[le.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",le[le.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",le[le.ABORTED=10]="ABORTED",le[le.OUT_OF_RANGE=11]="OUT_OF_RANGE",le[le.UNIMPLEMENTED=12]="UNIMPLEMENTED",le[le.INTERNAL=13]="INTERNAL",le[le.UNAVAILABLE=14]="UNAVAILABLE",le[le.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dM(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hM=new ro([4294967295,4294967295],0);function B_(t){const e=dM().encode(t),n=new fO;return n.update(e),new Uint8Array(n.digest())}function W_(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new ro([n,r],0),new ro([s,i],0)]}class Pv{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new ya(`Invalid padding: ${n}`);if(r<0)throw new ya(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new ya(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new ya(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ee=ro.fromNumber(this.Te)}de(e,n,r){let s=e.add(n.multiply(ro.fromNumber(r)));return s.compare(hM)===1&&(s=new ro([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Ee).toNumber()}Ae(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const n=B_(e),[r,s]=W_(n);for(let i=0;i<this.hashCount;i++){const o=this.de(r,s,i);if(!this.Ae(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new Pv(i,s,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Te===0)return;const n=B_(e),[r,s]=W_(n);for(let i=0;i<this.hashCount;i++){const o=this.de(r,s,i);this.Re(o)}}Re(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class ya extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nh{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,Xl.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Nh(te.min(),s,new Le(pe),Cr(),ie())}}class Xl{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Xl(r,n,ie(),ie(),ie())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hu{constructor(e,n,r,s){this.Ve=e,this.removedTargetIds=n,this.key=r,this.me=s}}class sC{constructor(e,n){this.targetId=e,this.fe=n}}class iC{constructor(e,n,r=Nt.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class H_{constructor(){this.ge=0,this.pe=Y_(),this.ye=Nt.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return this.ge!==0}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=ie(),n=ie(),r=ie();return this.pe.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:Z()}}),new Xl(this.ye,this.we,e,n,r)}Fe(){this.Se=!1,this.pe=Y_()}Me(e,n){this.Se=!0,this.pe=this.pe.insert(e,n)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,Se(this.ge>=0)}Le(){this.Se=!0,this.we=!0}}class fM{constructor(e){this.Be=e,this.ke=new Map,this.qe=Cr(),this.Qe=z_(),this.Ke=new Le(pe)}$e(e){for(const n of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(n,e.me):this.We(n,e.key,e.me);for(const n of e.removedTargetIds)this.We(n,e.key,e.me)}Ge(e){this.forEachTarget(e,n=>{const r=this.ze(n);switch(e.state){case 0:this.je(n)&&r.Ce(e.resumeToken);break;case 1:r.Ne(),r.be||r.Fe(),r.Ce(e.resumeToken);break;case 2:r.Ne(),r.be||this.removeTarget(n);break;case 3:this.je(n)&&(r.Le(),r.Ce(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),r.Ce(e.resumeToken));break;default:Z()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ke.forEach((r,s)=>{this.je(s)&&n(s)})}Je(e){const n=e.targetId,r=e.fe.count,s=this.Ye(n);if(s){const i=s.target;if(bm(i))if(r===0){const o=new G(i.path);this.We(n,o,Ct.newNoDocument(o,te.min()))}else Se(r===1);else{const o=this.Ze(n);if(o!==r){const a=this.Xe(e),l=a?this.et(a,e,o):1;if(l!==0){this.He(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,c)}}}}}Xe(e){const n=e.fe.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,a;try{o=li(r).toUint8Array()}catch(l){if(l instanceof MT)return vo("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new Pv(o,s,i)}catch(l){return vo(l instanceof ya?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Te===0?null:a}et(e,n,r){return n.fe.count===r-this.rt(e,n.targetId)?0:2}rt(e,n){const r=this.Be.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const o=this.Be.nt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(a)||(this.We(n,i,null),s++)}),s}it(e){const n=new Map;this.ke.forEach((i,o)=>{const a=this.Ye(o);if(a){if(i.current&&bm(a.target)){const l=new G(a.target.path);this.qe.get(l)!==null||this.st(o,l)||this.We(o,l,Ct.newNoDocument(l,e))}i.De&&(n.set(o,i.ve()),i.Fe())}});let r=ie();this.Qe.forEach((i,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.Ye(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(i))}),this.qe.forEach((i,o)=>o.setReadTime(e));const s=new Nh(e,n,this.Ke,this.qe,r);return this.qe=Cr(),this.Qe=z_(),this.Ke=new Le(pe),s}Ue(e,n){if(!this.je(e))return;const r=this.st(e,n.key)?2:0;this.ze(e).Me(n.key,r),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(e))}We(e,n,r){if(!this.je(e))return;const s=this.ze(e);this.st(e,n)?s.Me(n,1):s.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(e)),r&&(this.qe=this.qe.insert(n,r))}removeTarget(e){this.ke.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Be.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let n=this.ke.get(e);return n||(n=new H_,this.ke.set(e,n)),n}ot(e){let n=this.Qe.get(e);return n||(n=new yt(pe),this.Qe=this.Qe.insert(e,n)),n}je(e){const n=this.Ye(e)!==null;return n||V("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.ke.get(e);return n&&n.be?null:this.Be._t(e)}He(e){this.ke.set(e,new H_),this.Be.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}st(e,n){return this.Be.getRemoteKeysForTarget(e).has(n)}}function z_(){return new Le(G.comparator)}function Y_(){return new Le(G.comparator)}const pM=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),mM=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),gM=(()=>({and:"AND",or:"OR"}))();class vM{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Sm(t,e){return t.useProto3Json||bh(e)?e:{value:e}}function hd(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function oC(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function yM(t,e){return hd(t,e.toTimestamp())}function Jn(t){return Se(!!t),te.fromTimestamp(function(n){const r=ps(n);return new nt(r.seconds,r.nanos)}(t))}function Rv(t,e){return Dm(t,e).canonicalString()}function Dm(t,e){const n=function(s){return new Ie(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function aC(t){const e=Ie.fromString(t);return Se(hC(e)),e}function km(t,e){return Rv(t.databaseId,e.path)}function Ff(t,e){const n=aC(e);if(n.get(1)!==t.databaseId.projectId)throw new B(N.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new B(N.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new G(cC(n))}function lC(t,e){return Rv(t.databaseId,e)}function _M(t){const e=aC(t);return e.length===4?Ie.emptyPath():cC(e)}function Im(t){return new Ie(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function cC(t){return Se(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function q_(t,e,n){return{name:km(t,e),fields:n.value.mapValue.fields}}function wM(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:Z()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(c,u){return c.useProto3Json?(Se(u===void 0||typeof u=="string"),Nt.fromBase64String(u||"")):(Se(u===void 0||u instanceof Buffer||u instanceof Uint8Array),Nt.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const u=c.code===void 0?N.UNKNOWN:rC(c.code);return new B(u,c.message||"")}(o);n=new iC(r,s,i,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=Ff(t,r.document.name),i=Jn(r.document.updateTime),o=r.document.createTime?Jn(r.document.createTime):te.min(),a=new Wt({mapValue:{fields:r.document.fields}}),l=Ct.newFoundDocument(s,i,o,a),c=r.targetIds||[],u=r.removedTargetIds||[];n=new hu(c,u,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=Ff(t,r.document),i=r.readTime?Jn(r.readTime):te.min(),o=Ct.newNoDocument(s,i),a=r.removedTargetIds||[];n=new hu([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=Ff(t,r.document),i=r.removedTargetIds||[];n=new hu([],i,s,null)}else{if(!("filter"in e))return Z();{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new cM(s,i),a=r.targetId;n=new sC(a,o)}}return n}function EM(t,e){let n;if(e instanceof Gl)n={update:q_(t,e.key,e.value)};else if(e instanceof Ih)n={delete:km(t,e.key)};else if(e instanceof Ss)n={update:q_(t,e.key,e.data),updateMask:NM(e.fieldMask)};else{if(!(e instanceof oM))return Z();n={verify:km(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const a=o.transform;if(a instanceof ud)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof xl)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof bl)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof dd)return{fieldPath:o.field.canonicalString(),increment:a.Ie};throw Z()}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:yM(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:Z()}(t,e.precondition)),n}function xM(t,e){return t&&t.length>0?(Se(e!==void 0),t.map(n=>function(s,i){let o=s.updateTime?Jn(s.updateTime):Jn(i);return o.isEqual(te.min())&&(o=Jn(i)),new rM(o,s.transformResults||[])}(n,e))):[]}function bM(t,e){return{documents:[lC(t,e.path)]}}function TM(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=lC(t,s);const i=function(c){if(c.length!==0)return dC(Dn.create(c,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(c){if(c.length!==0)return c.map(u=>function(f){return{field:Ni(f.field),direction:DM(f.dir)}}(u))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=Sm(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{ut:n,parent:s}}function CM(t){let e=_M(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){Se(r===1);const u=n.from[0];u.allDescendants?s=u.collectionId:e=e.child(u.collectionId)}let i=[];n.where&&(i=function(h){const f=uC(h);return f instanceof Dn&&VT(f)?f.getFilters():[f]}(n.where));let o=[];n.orderBy&&(o=function(h){return h.map(f=>function(y){return new cd(Pi(y.field),function(w){switch(w){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(y.direction))}(f))}(n.orderBy));let a=null;n.limit&&(a=function(h){let f;return f=typeof h=="object"?h.value:h,bh(f)?null:f}(n.limit));let l=null;n.startAt&&(l=function(h){const f=!!h.before,p=h.values||[];return new ld(p,f)}(n.startAt));let c=null;return n.endAt&&(c=function(h){const f=!h.before,p=h.values||[];return new ld(p,f)}(n.endAt)),HO(e,s,o,i,a,"F",l,c)}function SM(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Z()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function uC(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Pi(n.unaryFilter.field);return Ge.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Pi(n.unaryFilter.field);return Ge.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Pi(n.unaryFilter.field);return Ge.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Pi(n.unaryFilter.field);return Ge.create(o,"!=",{nullValue:"NULL_VALUE"});default:return Z()}}(t):t.fieldFilter!==void 0?function(n){return Ge.create(Pi(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Z()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Dn.create(n.compositeFilter.filters.map(r=>uC(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Z()}}(n.compositeFilter.op))}(t):Z()}function DM(t){return pM[t]}function kM(t){return mM[t]}function IM(t){return gM[t]}function Ni(t){return{fieldPath:t.canonicalString()}}function Pi(t){return mt.fromServerFormat(t.fieldPath)}function dC(t){return t instanceof Ge?function(n){if(n.op==="=="){if(A_(n.value))return{unaryFilter:{field:Ni(n.field),op:"IS_NAN"}};if(R_(n.value))return{unaryFilter:{field:Ni(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(A_(n.value))return{unaryFilter:{field:Ni(n.field),op:"IS_NOT_NAN"}};if(R_(n.value))return{unaryFilter:{field:Ni(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ni(n.field),op:kM(n.op),value:n.value}}}(t):t instanceof Dn?function(n){const r=n.getFilters().map(s=>dC(s));return r.length===1?r[0]:{compositeFilter:{op:IM(n.op),filters:r}}}(t):Z()}function NM(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function hC(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qr{constructor(e,n,r,s,i=te.min(),o=te.min(),a=Nt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new qr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new qr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new qr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new qr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PM{constructor(e){this.ct=e}}function RM(t){const e=CM({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Cm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AM{constructor(){this._n=new OM}addToCollectionParentIndex(e,n){return this._n.add(n),R.resolve()}getCollectionParents(e,n){return R.resolve(this._n.getEntries(n))}addFieldIndex(e,n){return R.resolve()}deleteFieldIndex(e,n){return R.resolve()}deleteAllFieldIndexes(e){return R.resolve()}createTargetIndexes(e,n){return R.resolve()}getDocumentsMatchingTarget(e,n){return R.resolve(null)}getIndexType(e,n){return R.resolve(0)}getFieldIndexes(e,n){return R.resolve([])}getNextCollectionGroupToUpdate(e){return R.resolve(null)}getMinOffset(e,n){return R.resolve(fs.min())}getMinOffsetFromCollectionGroup(e,n){return R.resolve(fs.min())}updateCollectionGroup(e,n,r){return R.resolve()}updateIndexEntries(e,n){return R.resolve()}}class OM{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new yt(Ie.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new yt(Ie.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eo{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new Eo(0)}static Ln(){return new Eo(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MM{constructor(){this.changes=new $o(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Ct.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?R.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jM{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LM{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&Fa(r.mutation,s,en.empty(),nt.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ie()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ie()){const s=Ws();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=va();return i.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Ws();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ie()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,s){let i=Cr();const o=La(),a=function(){return La()}();return n.forEach((l,c)=>{const u=r.get(c.key);s.has(c.key)&&(u===void 0||u.mutation instanceof Ss)?i=i.insert(c.key,c):u!==void 0?(o.set(c.key,u.mutation.getFieldMask()),Fa(u.mutation,c,u.mutation.getFieldMask(),nt.now())):o.set(c.key,en.empty())}),this.recalculateAndSaveOverlays(e,i).next(l=>(l.forEach((c,u)=>o.set(c,u)),n.forEach((c,u)=>{var h;return a.set(c,new jM(u,(h=o.get(c))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,n){const r=La();let s=new Le((o,a)=>o-a),i=ie();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let u=r.get(l)||en.empty();u=a.applyToLocalView(c,u),r.set(l,u);const h=(s.get(a.batchId)||ie()).add(l);s=s.insert(a.batchId,h)})}).next(()=>{const o=[],a=s.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,u=l.value,h=QT();u.forEach(f=>{if(!i.has(f)){const p=tC(n.get(f),r.get(f));p!==null&&h.set(f,p),i=i.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,h))}return R.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(o){return G.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):WT(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):R.resolve(Ws());let a=-1,l=i;return o.next(c=>R.forEach(c,(u,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),i.get(u)?R.resolve():this.remoteDocumentCache.getEntry(e,u).next(f=>{l=l.insert(u,f)}))).next(()=>this.populateOverlays(e,c,i)).next(()=>this.computeViews(e,l,c,ie())).next(u=>({batchId:a,changes:qT(u)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new G(n)).next(r=>{let s=va();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=va();return this.indexManager.getCollectionParents(e,i).next(a=>R.forEach(a,l=>{const c=function(h,f){return new Kl(f,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,l.child(i));return this.getDocumentsMatchingCollectionQuery(e,c,r,s).next(u=>{u.forEach((h,f)=>{o=o.insert(h,f)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(o=>{i.forEach((l,c)=>{const u=c.getKey();o.get(u)===null&&(o=o.insert(u,Ct.newInvalidDocument(u)))});let a=va();return o.forEach((l,c)=>{const u=i.get(l);u!==void 0&&Fa(u.mutation,c,en.empty(),nt.now()),Sh(n,c)&&(a=a.insert(l,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FM{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,n){return R.resolve(this.cr.get(n))}saveBundleMetadata(e,n){return this.cr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:Jn(s.createTime)}}(n)),R.resolve()}getNamedQuery(e,n){return R.resolve(this.lr.get(n))}saveNamedQuery(e,n){return this.lr.set(n.name,function(s){return{name:s.name,query:RM(s.bundledQuery),readTime:Jn(s.readTime)}}(n)),R.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VM{constructor(){this.overlays=new Le(G.comparator),this.hr=new Map}getOverlay(e,n){return R.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Ws();return R.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.ht(e,n,i)}),R.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.hr.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.hr.delete(r)),R.resolve()}getOverlaysForCollection(e,n,r){const s=Ws(),i=n.length+1,o=new G(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===i&&l.largestBatchId>r&&s.set(l.getKey(),l)}return R.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new Le((c,u)=>c-u);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let u=i.get(c.largestBatchId);u===null&&(u=Ws(),i=i.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const a=Ws(),l=i.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,u)=>a.set(c,u)),!(a.size()>=s)););return R.resolve(a)}ht(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.hr.get(s.largestBatchId).delete(r.key);this.hr.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new lM(n,r));let i=this.hr.get(n);i===void 0&&(i=ie(),this.hr.set(n,i)),this.hr.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Av{constructor(){this.Pr=new yt(st.Ir),this.Tr=new yt(st.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,n){const r=new st(e,n);this.Pr=this.Pr.add(r),this.Tr=this.Tr.add(r)}dr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Ar(new st(e,n))}Rr(e,n){e.forEach(r=>this.removeReference(r,n))}Vr(e){const n=new G(new Ie([])),r=new st(n,e),s=new st(n,e+1),i=[];return this.Tr.forEachInRange([r,s],o=>{this.Ar(o),i.push(o.key)}),i}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const n=new G(new Ie([])),r=new st(n,e),s=new st(n,e+1);let i=ie();return this.Tr.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new st(e,0),r=this.Pr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class st{constructor(e,n){this.key=e,this.pr=n}static Ir(e,n){return G.comparator(e.key,n.key)||pe(e.pr,n.pr)}static Er(e,n){return pe(e.pr,n.pr)||G.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $M{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new yt(st.Ir)}checkEmpty(e){return R.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new aM(i,n,r,s);this.mutationQueue.push(o);for(const a of s)this.wr=this.wr.add(new st(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return R.resolve(o)}lookupMutationBatch(e,n){return R.resolve(this.Sr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.br(r),i=s<0?0:s;return R.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return R.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(e){return R.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new st(n,0),s=new st(n,Number.POSITIVE_INFINITY),i=[];return this.wr.forEachInRange([r,s],o=>{const a=this.Sr(o.pr);i.push(a)}),R.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new yt(pe);return n.forEach(s=>{const i=new st(s,0),o=new st(s,Number.POSITIVE_INFINITY);this.wr.forEachInRange([i,o],a=>{r=r.add(a.pr)})}),R.resolve(this.Dr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;G.isDocumentKey(i)||(i=i.child(""));const o=new st(new G(i),0);let a=new yt(pe);return this.wr.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===s&&(a=a.add(l.pr)),!0)},o),R.resolve(this.Dr(a))}Dr(e){const n=[];return e.forEach(r=>{const s=this.Sr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){Se(this.Cr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.wr;return R.forEach(n.mutations,s=>{const i=new st(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.wr=r})}Mn(e){}containsKey(e,n){const r=new st(n,0),s=this.wr.firstAfterOrEqual(r);return R.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,R.resolve()}Cr(e,n){return this.br(e)}br(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Sr(e){const n=this.br(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UM{constructor(e){this.vr=e,this.docs=function(){return new Le(G.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.vr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return R.resolve(r?r.document.mutableCopy():Ct.newInvalidDocument(n))}getEntries(e,n){let r=Cr();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():Ct.newInvalidDocument(s))}),R.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=Cr();const o=n.path,a=new G(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:u}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||CO(TO(u),r)<=0||(s.has(u.key)||Sh(n,u))&&(i=i.insert(u.key,u.mutableCopy()))}return R.resolve(i)}getAllFromCollectionGroup(e,n,r,s){Z()}Fr(e,n){return R.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new BM(this)}getSize(e){return R.resolve(this.size)}}class BM extends MM{constructor(e){super(),this.ar=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.ar.addEntry(e,s)):this.ar.removeEntry(r)}),R.waitFor(n)}getFromCache(e,n){return this.ar.getEntry(e,n)}getAllFromCache(e,n){return this.ar.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WM{constructor(e){this.persistence=e,this.Mr=new $o(n=>kv(n),Iv),this.lastRemoteSnapshotVersion=te.min(),this.highestTargetId=0,this.Or=0,this.Nr=new Av,this.targetCount=0,this.Lr=Eo.Nn()}forEachTarget(e,n){return this.Mr.forEach((r,s)=>n(s)),R.resolve()}getLastRemoteSnapshotVersion(e){return R.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return R.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Lr.next(),R.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Or&&(this.Or=n),R.resolve()}qn(e){this.Mr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Lr=new Eo(n),this.highestTargetId=n),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,n){return this.qn(n),this.targetCount+=1,R.resolve()}updateTargetData(e,n){return this.qn(n),R.resolve()}removeTargetData(e,n){return this.Mr.delete(n.target),this.Nr.Vr(n.targetId),this.targetCount-=1,R.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.Mr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Mr.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)}),R.waitFor(i).next(()=>s)}getTargetCount(e){return R.resolve(this.targetCount)}getTargetData(e,n){const r=this.Mr.get(n)||null;return R.resolve(r)}addMatchingKeys(e,n,r){return this.Nr.dr(n,r),R.resolve()}removeMatchingKeys(e,n,r){this.Nr.Rr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),R.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this.Nr.Vr(n),R.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Nr.gr(n);return R.resolve(r)}containsKey(e,n){return R.resolve(this.Nr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HM{constructor(e,n){this.Br={},this.overlays={},this.kr=new Tv(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new WM(this),this.indexManager=new AM,this.remoteDocumentCache=function(s){return new UM(s)}(r=>this.referenceDelegate.Kr(r)),this.serializer=new PM(n),this.$r=new FM(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new VM,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Br[e.toKey()];return r||(r=new $M(n,this.referenceDelegate),this.Br[e.toKey()]=r),r}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,n,r){V("MemoryPersistence","Starting transaction:",e);const s=new zM(this.kr.next());return this.referenceDelegate.Ur(),r(s).next(i=>this.referenceDelegate.Wr(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Gr(e,n){return R.or(Object.values(this.Br).map(r=>()=>r.containsKey(e,n)))}}class zM extends DO{constructor(e){super(),this.currentSequenceNumber=e}}class Ov{constructor(e){this.persistence=e,this.zr=new Av,this.jr=null}static Hr(e){return new Ov(e)}get Jr(){if(this.jr)return this.jr;throw Z()}addReference(e,n,r){return this.zr.addReference(r,n),this.Jr.delete(r.toString()),R.resolve()}removeReference(e,n,r){return this.zr.removeReference(r,n),this.Jr.add(r.toString()),R.resolve()}markPotentiallyOrphaned(e,n){return this.Jr.add(n.toString()),R.resolve()}removeTarget(e,n){this.zr.Vr(n.targetId).forEach(s=>this.Jr.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.Jr.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}Ur(){this.jr=new Set}Wr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return R.forEach(this.Jr,r=>{const s=G.fromPath(r);return this.Yr(e,s).next(i=>{i||n.removeEntry(s,te.min())})}).next(()=>(this.jr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Yr(e,n).next(r=>{r?this.Jr.delete(n.toString()):this.Jr.add(n.toString())})}Kr(e){return 0}Yr(e,n){return R.or([()=>R.resolve(this.zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mv{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.qi=r,this.Qi=s}static Ki(e,n){let r=ie(),s=ie();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new Mv(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YM{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qM{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function(){return AN()?8:Bs.v(Ze())>0?6:4}()}initialize(e,n){this.zi=e,this.indexManager=n,this.$i=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.ji(e,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.Hi(e,n,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new YM;return this.Ji(e,n,o).next(a=>{if(i.result=a,this.Ui)return this.Yi(e,n,o,a.size)})}).next(()=>i.result)}Yi(e,n,r,s){return r.documentReadCount<this.Wi?(ea()<=ae.DEBUG&&V("QueryEngine","SDK will not create cache indexes for query:",Ii(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),R.resolve()):(ea()<=ae.DEBUG&&V("QueryEngine","Query:",Ii(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.Gi*s?(ea()<=ae.DEBUG&&V("QueryEngine","The SDK decides to create cache indexes for query:",Ii(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Xn(n))):R.resolve())}ji(e,n){if(L_(n))return R.resolve(null);let r=Xn(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=Cm(n,null,"F"),r=Xn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=ie(...i);return this.zi.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.Zi(n,a);return this.Xi(n,c,o,l.readTime)?this.ji(e,Cm(n,null,"F")):this.es(e,c,n,l)}))})))}Hi(e,n,r,s){return L_(n)||s.isEqual(te.min())?R.resolve(null):this.zi.getDocuments(e,r).next(i=>{const o=this.Zi(n,i);return this.Xi(n,o,r,s)?R.resolve(null):(ea()<=ae.DEBUG&&V("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Ii(n)),this.es(e,o,n,bO(s,-1)).next(a=>a))})}Zi(e,n){let r=new yt(zT(e));return n.forEach((s,i)=>{Sh(e,i)&&(r=r.add(i))}),r}Xi(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Ji(e,n,r){return ea()<=ae.DEBUG&&V("QueryEngine","Using full collection scan to execute query:",Ii(n)),this.zi.getDocumentsMatchingQuery(e,n,fs.min(),r)}es(e,n,r,s){return this.zi.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QM{constructor(e,n,r,s){this.persistence=e,this.ts=n,this.serializer=s,this.ns=new Le(pe),this.rs=new $o(i=>kv(i),Iv),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(r)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new LM(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ns))}}function KM(t,e,n,r){return new QM(t,e,n,r)}async function fC(t,e){const n=ne(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n._s(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],a=[];let l=ie();for(const c of s){o.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}for(const c of i){a.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}return n.localDocuments.getDocuments(r,l).next(c=>({us:c,removedBatchIds:o,addedBatchIds:a}))})})}function GM(t,e){const n=ne(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.os.newChangeBuffer({trackRemovals:!0});return function(a,l,c,u){const h=c.batch,f=h.keys();let p=R.resolve();return f.forEach(y=>{p=p.next(()=>u.getEntry(l,y)).next(g=>{const w=c.docVersions.get(y);Se(w!==null),g.version.compareTo(w)<0&&(h.applyToRemoteDocument(g,c),g.isValidDocument()&&(g.setReadTime(c.commitVersion),u.addEntry(g)))})}),p.next(()=>a.mutationQueue.removeMutationBatch(l,h))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=ie();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function pC(t){const e=ne(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Qr.getLastRemoteSnapshotVersion(n))}function XM(t,e){const n=ne(t),r=e.snapshotVersion;let s=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.os.newChangeBuffer({trackRemovals:!0});s=n.ns;const a=[];e.targetChanges.forEach((u,h)=>{const f=s.get(h);if(!f)return;a.push(n.Qr.removeMatchingKeys(i,u.removedDocuments,h).next(()=>n.Qr.addMatchingKeys(i,u.addedDocuments,h)));let p=f.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(h)!==null?p=p.withResumeToken(Nt.EMPTY_BYTE_STRING,te.min()).withLastLimboFreeSnapshotVersion(te.min()):u.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(u.resumeToken,r)),s=s.insert(h,p),function(g,w,m){return g.resumeToken.approximateByteSize()===0||w.snapshotVersion.toMicroseconds()-g.snapshotVersion.toMicroseconds()>=3e8?!0:m.addedDocuments.size+m.modifiedDocuments.size+m.removedDocuments.size>0}(f,p,u)&&a.push(n.Qr.updateTargetData(i,p))});let l=Cr(),c=ie();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,u))}),a.push(JM(i,o,e.documentUpdates).next(u=>{l=u.cs,c=u.ls})),!r.isEqual(te.min())){const u=n.Qr.getLastRemoteSnapshotVersion(i).next(h=>n.Qr.setTargetsMetadata(i,i.currentSequenceNumber,r));a.push(u)}return R.waitFor(a).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,l,c)).next(()=>l)}).then(i=>(n.ns=s,i))}function JM(t,e,n){let r=ie(),s=ie();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=Cr();return n.forEach((a,l)=>{const c=i.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(s=s.add(a)),l.isNoDocument()&&l.version.isEqual(te.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):V("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{cs:o,ls:s}})}function ZM(t,e){const n=ne(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function ej(t,e){const n=ne(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Qr.getTargetData(r,e).next(i=>i?(s=i,R.resolve(s)):n.Qr.allocateTargetId(r).next(o=>(s=new qr(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Qr.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.ns.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.ns=n.ns.insert(r.targetId,r),n.rs.set(e,r.targetId)),r})}async function Nm(t,e,n){const r=ne(t),s=r.ns.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!Ql(o))throw o;V("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.ns=r.ns.remove(e),r.rs.delete(s.target)}function Q_(t,e,n){const r=ne(t);let s=te.min(),i=ie();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,c,u){const h=ne(l),f=h.rs.get(u);return f!==void 0?R.resolve(h.ns.get(f)):h.Qr.getTargetData(c,u)}(r,o,Xn(e)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(o,a.targetId).next(l=>{i=l})}).next(()=>r.ts.getDocumentsMatchingQuery(o,e,n?s:te.min(),n?i:ie())).next(a=>(tj(r,YO(e),a),{documents:a,hs:i})))}function tj(t,e,n){let r=t.ss.get(e)||te.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.ss.set(e,r)}class K_{constructor(){this.activeTargetIds=JO()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class nj{constructor(){this.no=new K_,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,n,r){this.ro[e]=n}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new K_,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rj{io(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G_{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){V("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){V("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Lc=null;function Vf(){return Lc===null?Lc=function(){return 268435456+Math.round(2147483648*Math.random())}():Lc++,"0x"+Lc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sj={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ij{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}onMessage(e){this.Ao=e}close(){this.ho()}send(e){this.lo(e)}Ro(){this.Io()}Vo(e){this.Eo(e)}mo(e){this.Ao(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xt="WebChannelConnection";class oj extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.fo=r+"://"+n.host,this.po=`projects/${s}/databases/${i}`,this.yo=this.databaseId.database==="(default)"?`project_id=${s}`:`project_id=${s}&database_id=${i}`}get wo(){return!1}So(n,r,s,i,o){const a=Vf(),l=this.bo(n,r.toUriEncodedString());V("RestConnection",`Sending RPC '${n}' ${a}:`,l,s);const c={"google-cloud-resource-prefix":this.po,"x-goog-request-params":this.yo};return this.Do(c,i,o),this.Co(n,l,c,s).then(u=>(V("RestConnection",`Received RPC '${n}' ${a}: `,u),u),u=>{throw vo("RestConnection",`RPC '${n}' ${a} failed with error: `,u,"url: ",l,"request:",s),u})}vo(n,r,s,i,o,a){return this.So(n,r,s,i,o)}Do(n,r,s){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Vo}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((i,o)=>n[o]=i),s&&s.headers.forEach((i,o)=>n[o]=i)}bo(n,r){const s=sj[n];return`${this.fo}/v1/${r}:${s}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Co(e,n,r,s){const i=Vf();return new Promise((o,a)=>{const l=new hO;l.setWithCredentials(!0),l.listenOnce(uO.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Lf.NO_ERROR:const u=l.getResponseJson();V(xt,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(u)),o(u);break;case Lf.TIMEOUT:V(xt,`RPC '${e}' ${i} timed out`),a(new B(N.DEADLINE_EXCEEDED,"Request time out"));break;case Lf.HTTP_ERROR:const h=l.getStatus();if(V(xt,`RPC '${e}' ${i} failed with status:`,h,"response text:",l.getResponseText()),h>0){let f=l.getResponseJson();Array.isArray(f)&&(f=f[0]);const p=f==null?void 0:f.error;if(p&&p.status&&p.message){const y=function(w){const m=w.toLowerCase().replace(/_/g,"-");return Object.values(N).indexOf(m)>=0?m:N.UNKNOWN}(p.status);a(new B(y,p.message))}else a(new B(N.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new B(N.UNAVAILABLE,"Connection failed."));break;default:Z()}}finally{V(xt,`RPC '${e}' ${i} completed.`)}});const c=JSON.stringify(s);V(xt,`RPC '${e}' ${i} sending request:`,s),l.send(n,"POST",c,r,15)})}Fo(e,n,r){const s=Vf(),i=[this.fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=lO(),a=cO(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Do(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const u=i.join("");V(xt,`Creating RPC '${e}' stream ${s}: ${u}`,l);const h=o.createWebChannel(u,l);let f=!1,p=!1;const y=new ij({lo:w=>{p?V(xt,`Not sending because RPC '${e}' stream ${s} is closed:`,w):(f||(V(xt,`Opening RPC '${e}' stream ${s} transport.`),h.open(),f=!0),V(xt,`RPC '${e}' stream ${s} sending:`,w),h.send(w))},ho:()=>h.close()}),g=(w,m,_)=>{w.listen(m,v=>{try{_(v)}catch(x){setTimeout(()=>{throw x},0)}})};return g(h,Oc.EventType.OPEN,()=>{p||V(xt,`RPC '${e}' stream ${s} transport opened.`)}),g(h,Oc.EventType.CLOSE,()=>{p||(p=!0,V(xt,`RPC '${e}' stream ${s} transport closed`),y.Vo())}),g(h,Oc.EventType.ERROR,w=>{p||(p=!0,vo(xt,`RPC '${e}' stream ${s} transport errored:`,w),y.Vo(new B(N.UNAVAILABLE,"The operation could not be completed")))}),g(h,Oc.EventType.MESSAGE,w=>{var m;if(!p){const _=w.data[0];Se(!!_);const v=_,x=v.error||((m=v[0])===null||m===void 0?void 0:m.error);if(x){V(xt,`RPC '${e}' stream ${s} received error:`,x);const T=x.status;let C=function(D){const I=qe[D];if(I!==void 0)return rC(I)}(T),b=x.message;C===void 0&&(C=N.INTERNAL,b="Unknown error status: "+T+" with message "+x.message),p=!0,y.Vo(new B(C,b)),h.close()}else V(xt,`RPC '${e}' stream ${s} received:`,_),y.mo(_)}}),g(a,dO.STAT_EVENT,w=>{w.stat===C_.PROXY?V(xt,`RPC '${e}' stream ${s} detected buffering proxy`):w.stat===C_.NOPROXY&&V(xt,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{y.Ro()},0),y}}function $f(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ph(t){return new vM(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mC{constructor(e,n,r=1e3,s=1.5,i=6e4){this.oi=e,this.timerId=n,this.Mo=r,this.xo=s,this.Oo=i,this.No=0,this.Lo=null,this.Bo=Date.now(),this.reset()}reset(){this.No=0}ko(){this.No=this.Oo}qo(e){this.cancel();const n=Math.floor(this.No+this.Qo()),r=Math.max(0,Date.now()-this.Bo),s=Math.max(0,n-r);s>0&&V("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.No} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Lo=this.oi.enqueueAfterDelay(this.timerId,s,()=>(this.Bo=Date.now(),e())),this.No*=this.xo,this.No<this.Mo&&(this.No=this.Mo),this.No>this.Oo&&(this.No=this.Oo)}Ko(){this.Lo!==null&&(this.Lo.skipDelay(),this.Lo=null)}cancel(){this.Lo!==null&&(this.Lo.cancel(),this.Lo=null)}Qo(){return(Math.random()-.5)*this.No}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gC{constructor(e,n,r,s,i,o,a,l){this.oi=e,this.$o=r,this.Uo=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Wo=0,this.Go=null,this.zo=null,this.stream=null,this.jo=new mC(e,n)}Ho(){return this.state===1||this.state===5||this.Jo()}Jo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Yo()}async stop(){this.Ho()&&await this.close(0)}Zo(){this.state=0,this.jo.reset()}Xo(){this.Jo()&&this.Go===null&&(this.Go=this.oi.enqueueAfterDelay(this.$o,6e4,()=>this.e_()))}t_(e){this.n_(),this.stream.send(e)}async e_(){if(this.Jo())return this.close(0)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}r_(){this.zo&&(this.zo.cancel(),this.zo=null)}async close(e,n){this.n_(),this.r_(),this.jo.cancel(),this.Wo++,e!==4?this.jo.reset():n&&n.code===N.RESOURCE_EXHAUSTED?(tr(n.toString()),tr("Using maximum backoff delay to prevent overloading the backend."),this.jo.ko()):n&&n.code===N.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.i_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.To(n)}i_(){}auth(){this.state=1;const e=this.s_(this.Wo),n=this.Wo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.Wo===n&&this.o_(r,s)},r=>{e(()=>{const s=new B(N.UNKNOWN,"Fetching auth token failed: "+r.message);return this.__(s)})})}o_(e,n){const r=this.s_(this.Wo);this.stream=this.a_(e,n),this.stream.Po(()=>{r(()=>(this.state=2,this.zo=this.oi.enqueueAfterDelay(this.Uo,1e4,()=>(this.Jo()&&(this.state=3),Promise.resolve())),this.listener.Po()))}),this.stream.To(s=>{r(()=>this.__(s))}),this.stream.onMessage(s=>{r(()=>this.onMessage(s))})}Yo(){this.state=5,this.jo.qo(async()=>{this.state=0,this.start()})}__(e){return V("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}s_(e){return n=>{this.oi.enqueueAndForget(()=>this.Wo===e?n():(V("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class aj extends gC{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}a_(e,n){return this.connection.Fo("Listen",e,n)}onMessage(e){this.jo.reset();const n=wM(this.serializer,e),r=function(i){if(!("targetChange"in i))return te.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?te.min():o.readTime?Jn(o.readTime):te.min()}(e);return this.listener.u_(n,r)}c_(e){const n={};n.database=Im(this.serializer),n.addTarget=function(i,o){let a;const l=o.target;if(a=bm(l)?{documents:bM(i,l)}:{query:TM(i,l).ut},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=oC(i,o.resumeToken);const c=Sm(i,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(te.min())>0){a.readTime=hd(i,o.snapshotVersion.toTimestamp());const c=Sm(i,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=SM(this.serializer,e);r&&(n.labels=r),this.t_(n)}l_(e){const n={};n.database=Im(this.serializer),n.removeTarget=e,this.t_(n)}}class lj extends gC{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i,this.h_=!1}get P_(){return this.h_}start(){this.h_=!1,this.lastStreamToken=void 0,super.start()}i_(){this.h_&&this.I_([])}a_(e,n){return this.connection.Fo("Write",e,n)}onMessage(e){if(Se(!!e.streamToken),this.lastStreamToken=e.streamToken,this.h_){this.jo.reset();const n=xM(e.writeResults,e.commitTime),r=Jn(e.commitTime);return this.listener.T_(r,n)}return Se(!e.writeResults||e.writeResults.length===0),this.h_=!0,this.listener.E_()}d_(){const e={};e.database=Im(this.serializer),this.t_(e)}I_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>EM(this.serializer,r))};this.t_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cj extends class{}{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.A_=!1}R_(){if(this.A_)throw new B(N.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,n,r,s){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.So(e,Dm(n,r),s,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===N.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new B(N.UNKNOWN,i.toString())})}vo(e,n,r,s,i){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.vo(e,Dm(n,r),s,o,a,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===N.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new B(N.UNKNOWN,o.toString())})}terminate(){this.A_=!0,this.connection.terminate()}}class uj{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.m_=0,this.f_=null,this.g_=!0}p_(){this.m_===0&&(this.y_("Unknown"),this.f_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.f_=null,this.w_("Backend didn't respond within 10 seconds."),this.y_("Offline"),Promise.resolve())))}S_(e){this.state==="Online"?this.y_("Unknown"):(this.m_++,this.m_>=1&&(this.b_(),this.w_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.y_("Offline")))}set(e){this.b_(),this.m_=0,e==="Online"&&(this.g_=!1),this.y_(e)}y_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}w_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.g_?(tr(n),this.g_=!1):V("OnlineStateTracker",n)}b_(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dj{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.D_=[],this.C_=new Map,this.v_=new Set,this.F_=[],this.M_=i,this.M_.io(o=>{r.enqueueAndForget(async()=>{wi(this)&&(V("RemoteStore","Restarting streams for network reachability change."),await async function(l){const c=ne(l);c.v_.add(4),await Jl(c),c.x_.set("Unknown"),c.v_.delete(4),await Rh(c)}(this))})}),this.x_=new uj(r,s)}}async function Rh(t){if(wi(t))for(const e of t.F_)await e(!0)}async function Jl(t){for(const e of t.F_)await e(!1)}function vC(t,e){const n=ne(t);n.C_.has(e.targetId)||(n.C_.set(e.targetId,e),Vv(n)?Fv(n):Uo(n).Jo()&&Lv(n,e))}function jv(t,e){const n=ne(t),r=Uo(n);n.C_.delete(e),r.Jo()&&yC(n,e),n.C_.size===0&&(r.Jo()?r.Xo():wi(n)&&n.x_.set("Unknown"))}function Lv(t,e){if(t.O_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(te.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Uo(t).c_(e)}function yC(t,e){t.O_.Oe(e),Uo(t).l_(e)}function Fv(t){t.O_=new fM({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>t.C_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),Uo(t).start(),t.x_.p_()}function Vv(t){return wi(t)&&!Uo(t).Ho()&&t.C_.size>0}function wi(t){return ne(t).v_.size===0}function _C(t){t.O_=void 0}async function hj(t){t.C_.forEach((e,n)=>{Lv(t,e)})}async function fj(t,e){_C(t),Vv(t)?(t.x_.S_(e),Fv(t)):t.x_.set("Unknown")}async function pj(t,e,n){if(t.x_.set("Online"),e instanceof iC&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const a of i.targetIds)s.C_.has(a)&&(await s.remoteSyncer.rejectListen(a,o),s.C_.delete(a),s.O_.removeTarget(a))}(t,e)}catch(r){V("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await fd(t,r)}else if(e instanceof hu?t.O_.$e(e):e instanceof sC?t.O_.Je(e):t.O_.Ge(e),!n.isEqual(te.min()))try{const r=await pC(t.localStore);n.compareTo(r)>=0&&await function(i,o){const a=i.O_.it(o);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const u=i.C_.get(c);u&&i.C_.set(c,u.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,c)=>{const u=i.C_.get(l);if(!u)return;i.C_.set(l,u.withResumeToken(Nt.EMPTY_BYTE_STRING,u.snapshotVersion)),yC(i,l);const h=new qr(u.target,l,c,u.sequenceNumber);Lv(i,h)}),i.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){V("RemoteStore","Failed to raise snapshot:",r),await fd(t,r)}}async function fd(t,e,n){if(!Ql(e))throw e;t.v_.add(1),await Jl(t),t.x_.set("Offline"),n||(n=()=>pC(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{V("RemoteStore","Retrying IndexedDB access"),await n(),t.v_.delete(1),await Rh(t)})}function wC(t,e){return e().catch(n=>fd(t,n,e))}async function Ah(t){const e=ne(t),n=ms(e);let r=e.D_.length>0?e.D_[e.D_.length-1].batchId:-1;for(;mj(e);)try{const s=await ZM(e.localStore,r);if(s===null){e.D_.length===0&&n.Xo();break}r=s.batchId,gj(e,s)}catch(s){await fd(e,s)}EC(e)&&xC(e)}function mj(t){return wi(t)&&t.D_.length<10}function gj(t,e){t.D_.push(e);const n=ms(t);n.Jo()&&n.P_&&n.I_(e.mutations)}function EC(t){return wi(t)&&!ms(t).Ho()&&t.D_.length>0}function xC(t){ms(t).start()}async function vj(t){ms(t).d_()}async function yj(t){const e=ms(t);for(const n of t.D_)e.I_(n.mutations)}async function _j(t,e,n){const r=t.D_.shift(),s=Nv.from(r,e,n);await wC(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await Ah(t)}async function wj(t,e){e&&ms(t).P_&&await async function(r,s){if(function(o){return uM(o)&&o!==N.ABORTED}(s.code)){const i=r.D_.shift();ms(r).Zo(),await wC(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await Ah(r)}}(t,e),EC(t)&&xC(t)}async function X_(t,e){const n=ne(t);n.asyncQueue.verifyOperationInProgress(),V("RemoteStore","RemoteStore received new credentials");const r=wi(n);n.v_.add(3),await Jl(n),r&&n.x_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.v_.delete(3),await Rh(n)}async function Ej(t,e){const n=ne(t);e?(n.v_.delete(2),await Rh(n)):e||(n.v_.add(2),await Jl(n),n.x_.set("Unknown"))}function Uo(t){return t.N_||(t.N_=function(n,r,s){const i=ne(n);return i.R_(),new aj(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Po:hj.bind(null,t),To:fj.bind(null,t),u_:pj.bind(null,t)}),t.F_.push(async e=>{e?(t.N_.Zo(),Vv(t)?Fv(t):t.x_.set("Unknown")):(await t.N_.stop(),_C(t))})),t.N_}function ms(t){return t.L_||(t.L_=function(n,r,s){const i=ne(n);return i.R_(),new lj(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Po:vj.bind(null,t),To:wj.bind(null,t),E_:yj.bind(null,t),T_:_j.bind(null,t)}),t.F_.push(async e=>{e?(t.L_.Zo(),await Ah(t)):(await t.L_.stop(),t.D_.length>0&&(V("RemoteStore",`Stopping write stream with ${t.D_.length} pending writes`),t.D_=[]))})),t.L_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $v{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new Gn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,a=new $v(e,n,o,s,i);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new B(N.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Uv(t,e){if(tr("AsyncQueue",`${e}: ${t}`),Ql(t))return new B(N.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class so{constructor(e){this.comparator=e?(n,r)=>e(n,r)||G.comparator(n.key,r.key):(n,r)=>G.comparator(n.key,r.key),this.keyedMap=va(),this.sortedSet=new Le(this.comparator)}static emptySet(e){return new so(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof so)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new so;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J_{constructor(){this.B_=new Le(G.comparator)}track(e){const n=e.doc.key,r=this.B_.get(n);r?e.type!==0&&r.type===3?this.B_=this.B_.insert(n,e):e.type===3&&r.type!==1?this.B_=this.B_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.B_=this.B_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.B_=this.B_.remove(n):e.type===1&&r.type===2?this.B_=this.B_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):Z():this.B_=this.B_.insert(n,e)}k_(){const e=[];return this.B_.inorderTraversal((n,r)=>{e.push(r)}),e}}class xo{constructor(e,n,r,s,i,o,a,l,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new xo(e,n,so.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ch(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xj{constructor(){this.q_=void 0,this.Q_=[]}K_(){return this.Q_.some(e=>e.U_())}}class bj{constructor(){this.queries=new $o(e=>HT(e),Ch),this.onlineState="Unknown",this.W_=new Set}}async function Bv(t,e){const n=ne(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.K_()&&e.U_()&&(r=2):(i=new xj,r=e.U_()?0:1);try{switch(r){case 0:i.q_=await n.onListen(s,!0);break;case 1:i.q_=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const a=Uv(o,`Initialization of query '${Ii(e.query)}' failed`);return void e.onError(a)}n.queries.set(s,i),i.Q_.push(e),e.G_(n.onlineState),i.q_&&e.z_(i.q_)&&Hv(n)}async function Wv(t,e){const n=ne(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const o=i.Q_.indexOf(e);o>=0&&(i.Q_.splice(o,1),i.Q_.length===0?s=e.U_()?0:1:!i.K_()&&e.U_()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function Tj(t,e){const n=ne(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const a of o.Q_)a.z_(s)&&(r=!0);o.q_=s}}r&&Hv(n)}function Cj(t,e,n){const r=ne(t),s=r.queries.get(e);if(s)for(const i of s.Q_)i.onError(n);r.queries.delete(e)}function Hv(t){t.W_.forEach(e=>{e.next()})}var Pm,Z_;(Z_=Pm||(Pm={})).j_="default",Z_.Cache="cache";class zv{constructor(e,n,r){this.query=e,this.H_=n,this.J_=!1,this.Y_=null,this.onlineState="Unknown",this.options=r||{}}z_(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new xo(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.J_?this.Z_(e)&&(this.H_.next(e),n=!0):this.X_(e,this.onlineState)&&(this.ea(e),n=!0),this.Y_=e,n}onError(e){this.H_.error(e)}G_(e){this.onlineState=e;let n=!1;return this.Y_&&!this.J_&&this.X_(this.Y_,e)&&(this.ea(this.Y_),n=!0),n}X_(e,n){if(!e.fromCache||!this.U_())return!0;const r=n!=="Offline";return(!this.options.ta||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Z_(e){if(e.docChanges.length>0)return!0;const n=this.Y_&&this.Y_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ea(e){e=xo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.J_=!0,this.H_.next(e)}U_(){return this.options.source!==Pm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bC{constructor(e){this.key=e}}class TC{constructor(e){this.key=e}}class Sj{constructor(e,n){this.query=e,this.ua=n,this.ca=null,this.hasCachedResults=!1,this.current=!1,this.la=ie(),this.mutatedKeys=ie(),this.ha=zT(e),this.Pa=new so(this.ha)}get Ia(){return this.ua}Ta(e,n){const r=n?n.Ea:new J_,s=n?n.Pa:this.Pa;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,a=!1;const l=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,c=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((u,h)=>{const f=s.get(u),p=Sh(this.query,h)?h:null,y=!!f&&this.mutatedKeys.has(f.key),g=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let w=!1;f&&p?f.data.isEqual(p.data)?y!==g&&(r.track({type:3,doc:p}),w=!0):this.da(f,p)||(r.track({type:2,doc:p}),w=!0,(l&&this.ha(p,l)>0||c&&this.ha(p,c)<0)&&(a=!0)):!f&&p?(r.track({type:0,doc:p}),w=!0):f&&!p&&(r.track({type:1,doc:f}),w=!0,(l||c)&&(a=!0)),w&&(p?(o=o.add(p),i=g?i.add(u):i.delete(u)):(o=o.delete(u),i=i.delete(u)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const u=this.query.limitType==="F"?o.last():o.first();o=o.delete(u.key),i=i.delete(u.key),r.track({type:1,doc:u})}return{Pa:o,Ea:r,Xi:a,mutatedKeys:i}}da(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.Pa;this.Pa=e.Pa,this.mutatedKeys=e.mutatedKeys;const o=e.Ea.k_();o.sort((u,h)=>function(p,y){const g=w=>{switch(w){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Z()}};return g(p)-g(y)}(u.type,h.type)||this.ha(u.doc,h.doc)),this.Aa(r),s=s!=null&&s;const a=n&&!s?this.Ra():[],l=this.la.size===0&&this.current&&!s?1:0,c=l!==this.ca;return this.ca=l,o.length!==0||c?{snapshot:new xo(this.query,e.Pa,i,o,e.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),Va:a}:{Va:a}}G_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Pa:this.Pa,Ea:new J_,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{Va:[]}}ma(e){return!this.ua.has(e)&&!!this.Pa.has(e)&&!this.Pa.get(e).hasLocalMutations}Aa(e){e&&(e.addedDocuments.forEach(n=>this.ua=this.ua.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.ua=this.ua.delete(n)),this.current=e.current)}Ra(){if(!this.current)return[];const e=this.la;this.la=ie(),this.Pa.forEach(r=>{this.ma(r.key)&&(this.la=this.la.add(r.key))});const n=[];return e.forEach(r=>{this.la.has(r)||n.push(new TC(r))}),this.la.forEach(r=>{e.has(r)||n.push(new bC(r))}),n}fa(e){this.ua=e.hs,this.la=ie();const n=this.Ta(e.documents);return this.applyChanges(n,!0)}ga(){return xo.fromInitialDocuments(this.query,this.Pa,this.mutatedKeys,this.ca===0,this.hasCachedResults)}}class Dj{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class kj{constructor(e){this.key=e,this.pa=!1}}class Ij{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.ya={},this.wa=new $o(a=>HT(a),Ch),this.Sa=new Map,this.ba=new Set,this.Da=new Le(G.comparator),this.Ca=new Map,this.va=new Av,this.Fa={},this.Ma=new Map,this.xa=Eo.Ln(),this.onlineState="Unknown",this.Oa=void 0}get isPrimaryClient(){return this.Oa===!0}}async function Nj(t,e,n=!0){const r=NC(t);let s;const i=r.wa.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.ga()):s=await CC(r,e,n,!0),s}async function Pj(t,e){const n=NC(t);await CC(n,e,!0,!1)}async function CC(t,e,n,r){const s=await ej(t.localStore,Xn(e)),i=s.targetId,o=n?t.sharedClientState.addLocalQueryTarget(i):"not-current";let a;return r&&(a=await Rj(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&n&&vC(t.remoteStore,s),a}async function Rj(t,e,n,r,s){t.Na=(h,f,p)=>async function(g,w,m,_){let v=w.view.Ta(m);v.Xi&&(v=await Q_(g.localStore,w.query,!1).then(({documents:b})=>w.view.Ta(b,v)));const x=_&&_.targetChanges.get(w.targetId),T=_&&_.targetMismatches.get(w.targetId)!=null,C=w.view.applyChanges(v,g.isPrimaryClient,x,T);return tw(g,w.targetId,C.Va),C.snapshot}(t,h,f,p);const i=await Q_(t.localStore,e,!0),o=new Sj(e,i.hs),a=o.Ta(i.documents),l=Xl.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),c=o.applyChanges(a,t.isPrimaryClient,l);tw(t,n,c.Va);const u=new Dj(e,n,o);return t.wa.set(e,u),t.Sa.has(n)?t.Sa.get(n).push(e):t.Sa.set(n,[e]),c.snapshot}async function Aj(t,e,n){const r=ne(t),s=r.wa.get(e),i=r.Sa.get(s.targetId);if(i.length>1)return r.Sa.set(s.targetId,i.filter(o=>!Ch(o,e))),void r.wa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await Nm(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&jv(r.remoteStore,s.targetId),Rm(r,s.targetId)}).catch(ql)):(Rm(r,s.targetId),await Nm(r.localStore,s.targetId,!0))}async function Oj(t,e){const n=ne(t),r=n.wa.get(e),s=n.Sa.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),jv(n.remoteStore,r.targetId))}async function Mj(t,e,n){const r=Bj(t);try{const s=await function(o,a){const l=ne(o),c=nt.now(),u=a.reduce((p,y)=>p.add(y.key),ie());let h,f;return l.persistence.runTransaction("Locally write mutations","readwrite",p=>{let y=Cr(),g=ie();return l.os.getEntries(p,u).next(w=>{y=w,y.forEach((m,_)=>{_.isValidDocument()||(g=g.add(m))})}).next(()=>l.localDocuments.getOverlayedDocuments(p,y)).next(w=>{h=w;const m=[];for(const _ of a){const v=iM(_,h.get(_.key).overlayedDocument);v!=null&&m.push(new Ss(_.key,v,jT(v.value.mapValue),Ft.exists(!0)))}return l.mutationQueue.addMutationBatch(p,c,m,a)}).next(w=>{f=w;const m=w.applyToLocalDocumentSet(h,g);return l.documentOverlayCache.saveOverlays(p,w.batchId,m)})}).then(()=>({batchId:f.batchId,changes:qT(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,a,l){let c=o.Fa[o.currentUser.toKey()];c||(c=new Le(pe)),c=c.insert(a,l),o.Fa[o.currentUser.toKey()]=c}(r,s.batchId,n),await Zl(r,s.changes),await Ah(r.remoteStore)}catch(s){const i=Uv(s,"Failed to persist write");n.reject(i)}}async function SC(t,e){const n=ne(t);try{const r=await XM(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n.Ca.get(i);o&&(Se(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?o.pa=!0:s.modifiedDocuments.size>0?Se(o.pa):s.removedDocuments.size>0&&(Se(o.pa),o.pa=!1))}),await Zl(n,r,e)}catch(r){await ql(r)}}function ew(t,e,n){const r=ne(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.wa.forEach((i,o)=>{const a=o.view.G_(e);a.snapshot&&s.push(a.snapshot)}),function(o,a){const l=ne(o);l.onlineState=a;let c=!1;l.queries.forEach((u,h)=>{for(const f of h.Q_)f.G_(a)&&(c=!0)}),c&&Hv(l)}(r.eventManager,e),s.length&&r.ya.u_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function jj(t,e,n){const r=ne(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Ca.get(e),i=s&&s.key;if(i){let o=new Le(G.comparator);o=o.insert(i,Ct.newNoDocument(i,te.min()));const a=ie().add(i),l=new Nh(te.min(),new Map,new Le(pe),o,a);await SC(r,l),r.Da=r.Da.remove(i),r.Ca.delete(e),Yv(r)}else await Nm(r.localStore,e,!1).then(()=>Rm(r,e,n)).catch(ql)}async function Lj(t,e){const n=ne(t),r=e.batch.batchId;try{const s=await GM(n.localStore,e);kC(n,r,null),DC(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Zl(n,s)}catch(s){await ql(s)}}async function Fj(t,e,n){const r=ne(t);try{const s=await function(o,a){const l=ne(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let u;return l.mutationQueue.lookupMutationBatch(c,a).next(h=>(Se(h!==null),u=h.keys(),l.mutationQueue.removeMutationBatch(c,h))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,u,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,u)).next(()=>l.localDocuments.getDocuments(c,u))})}(r.localStore,e);kC(r,e,n),DC(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Zl(r,s)}catch(s){await ql(s)}}function DC(t,e){(t.Ma.get(e)||[]).forEach(n=>{n.resolve()}),t.Ma.delete(e)}function kC(t,e,n){const r=ne(t);let s=r.Fa[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Fa[r.currentUser.toKey()]=s}}function Rm(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Sa.get(e))t.wa.delete(r),n&&t.ya.La(r,n);t.Sa.delete(e),t.isPrimaryClient&&t.va.Vr(e).forEach(r=>{t.va.containsKey(r)||IC(t,r)})}function IC(t,e){t.ba.delete(e.path.canonicalString());const n=t.Da.get(e);n!==null&&(jv(t.remoteStore,n),t.Da=t.Da.remove(e),t.Ca.delete(n),Yv(t))}function tw(t,e,n){for(const r of n)r instanceof bC?(t.va.addReference(r.key,e),Vj(t,r)):r instanceof TC?(V("SyncEngine","Document no longer in limbo: "+r.key),t.va.removeReference(r.key,e),t.va.containsKey(r.key)||IC(t,r.key)):Z()}function Vj(t,e){const n=e.key,r=n.path.canonicalString();t.Da.get(n)||t.ba.has(r)||(V("SyncEngine","New document in limbo: "+n),t.ba.add(r),Yv(t))}function Yv(t){for(;t.ba.size>0&&t.Da.size<t.maxConcurrentLimboResolutions;){const e=t.ba.values().next().value;t.ba.delete(e);const n=new G(Ie.fromString(e)),r=t.xa.next();t.Ca.set(r,new kj(n)),t.Da=t.Da.insert(n,r),vC(t.remoteStore,new qr(Xn(Th(n.path)),r,"TargetPurposeLimboResolution",Tv._e))}}async function Zl(t,e,n){const r=ne(t),s=[],i=[],o=[];r.wa.isEmpty()||(r.wa.forEach((a,l)=>{o.push(r.Na(l,e,n).then(c=>{if((c||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,c!=null&&c.fromCache?"not-current":"current"),c){s.push(c);const u=Mv.Ki(l.targetId,c);i.push(u)}}))}),await Promise.all(o),r.ya.u_(s),await async function(l,c){const u=ne(l);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>R.forEach(c,f=>R.forEach(f.qi,p=>u.persistence.referenceDelegate.addReference(h,f.targetId,p)).next(()=>R.forEach(f.Qi,p=>u.persistence.referenceDelegate.removeReference(h,f.targetId,p)))))}catch(h){if(!Ql(h))throw h;V("LocalStore","Failed to update sequence numbers: "+h)}for(const h of c){const f=h.targetId;if(!h.fromCache){const p=u.ns.get(f),y=p.snapshotVersion,g=p.withLastLimboFreeSnapshotVersion(y);u.ns=u.ns.insert(f,g)}}}(r.localStore,i))}async function $j(t,e){const n=ne(t);if(!n.currentUser.isEqual(e)){V("SyncEngine","User change. New user:",e.toKey());const r=await fC(n.localStore,e);n.currentUser=e,function(i,o){i.Ma.forEach(a=>{a.forEach(l=>{l.reject(new B(N.CANCELLED,o))})}),i.Ma.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Zl(n,r.us)}}function Uj(t,e){const n=ne(t),r=n.Ca.get(e);if(r&&r.pa)return ie().add(r.key);{let s=ie();const i=n.Sa.get(e);if(!i)return s;for(const o of i){const a=n.wa.get(o);s=s.unionWith(a.view.Ia)}return s}}function NC(t){const e=ne(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=SC.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Uj.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=jj.bind(null,e),e.ya.u_=Tj.bind(null,e.eventManager),e.ya.La=Cj.bind(null,e.eventManager),e}function Bj(t){const e=ne(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Lj.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Fj.bind(null,e),e}class nw{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Ph(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return KM(this.persistence,new qM,e.initialUser,this.serializer)}createPersistence(e){return new HM(Ov.Hr,this.serializer)}createSharedClientState(e){return new nj}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class Wj{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>ew(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=$j.bind(null,this.syncEngine),await Ej(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new bj}()}createDatastore(e){const n=Ph(e.databaseInfo.databaseId),r=function(i){return new oj(i)}(e.databaseInfo);return function(i,o,a,l){return new cj(i,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,o,a){return new dj(r,s,i,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>ew(this.syncEngine,n,0),function(){return G_.D()?new G_:new rj}())}createSyncEngine(e,n){return function(s,i,o,a,l,c,u){const h=new Ij(s,i,o,a,l,c);return u&&(h.Oa=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e;await async function(r){const s=ne(r);V("RemoteStore","RemoteStore shutting down."),s.v_.add(5),await Jl(s),s.M_.shutdown(),s.x_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qv{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.qa(this.observer.next,e)}error(e){this.observer.error?this.qa(this.observer.error,e):tr("Uncaught Error in snapshot listener:",e.toString())}Qa(){this.muted=!0}qa(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hj{constructor(e,n,r,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=bt.UNAUTHENTICATED,this.clientId=AT.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async i=>{V("FirestoreClient","Received user=",i.uid),await this.authCredentialListener(i),this.user=i}),this.appCheckCredentials.start(r,i=>(V("FirestoreClient","Received new app check token=",i),this.appCheckCredentialListener(i,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new B(N.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Gn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Uv(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Uf(t,e){t.asyncQueue.verifyOperationInProgress(),V("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await fC(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function rw(t,e){t.asyncQueue.verifyOperationInProgress();const n=await Yj(t);V("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>X_(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>X_(e.remoteStore,s)),t._onlineComponents=e}function zj(t){return t.name==="FirebaseError"?t.code===N.FAILED_PRECONDITION||t.code===N.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function Yj(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){V("FirestoreClient","Using user provided OfflineComponentProvider");try{await Uf(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!zj(n))throw n;vo("Error using user provided cache. Falling back to memory cache: "+n),await Uf(t,new nw)}}else V("FirestoreClient","Using default OfflineComponentProvider"),await Uf(t,new nw);return t._offlineComponents}async function PC(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(V("FirestoreClient","Using user provided OnlineComponentProvider"),await rw(t,t._uninitializedComponentsProvider._online)):(V("FirestoreClient","Using default OnlineComponentProvider"),await rw(t,new Wj))),t._onlineComponents}function qj(t){return PC(t).then(e=>e.syncEngine)}async function pd(t){const e=await PC(t),n=e.eventManager;return n.onListen=Nj.bind(null,e.syncEngine),n.onUnlisten=Aj.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=Pj.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=Oj.bind(null,e.syncEngine),n}function Qj(t,e,n={}){const r=new Gn;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,l,c){const u=new qv({next:f=>{o.enqueueAndForget(()=>Wv(i,h));const p=f.docs.has(a);!p&&f.fromCache?c.reject(new B(N.UNAVAILABLE,"Failed to get document because the client is offline.")):p&&f.fromCache&&l&&l.source==="server"?c.reject(new B(N.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(f)},error:f=>c.reject(f)}),h=new zv(Th(a.path),u,{includeMetadataChanges:!0,ta:!0});return Bv(i,h)}(await pd(t),t.asyncQueue,e,n,r)),r.promise}function Kj(t,e,n={}){const r=new Gn;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,l,c){const u=new qv({next:f=>{o.enqueueAndForget(()=>Wv(i,h)),f.fromCache&&l.source==="server"?c.reject(new B(N.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(f)},error:f=>c.reject(f)}),h=new zv(a,u,{includeMetadataChanges:!0,ta:!0});return Bv(i,h)}(await pd(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RC(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sw=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AC(t,e,n){if(!n)throw new B(N.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Gj(t,e,n,r){if(e===!0&&r===!0)throw new B(N.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function iw(t){if(!G.isDocumentKey(t))throw new B(N.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function ow(t){if(G.isDocumentKey(t))throw new B(N.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Oh(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Z()}function Vt(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new B(N.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Oh(t);throw new B(N.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aw{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new B(N.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new B(N.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Gj("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=RC((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new B(N.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new B(N.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new B(N.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Mh{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new aw({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new B(N.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new B(N.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new aw(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new pO;switch(r.type){case"firstParty":return new yO(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new B(N.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=sw.get(n);r&&(V("ComponentProvider","Removing Datastore"),sw.delete(n),r.terminate())}(this),Promise.resolve()}}function Xj(t,e,n,r={}){var s;const i=(t=Vt(t,Mh))._getSettings(),o=`${e}:${n}`;if(i.host!=="firestore.googleapis.com"&&i.host!==o&&vo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},i),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=bt.MOCK_USER;else{a=DN(r.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new B(N.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new bt(c)}t._authCredentials=new mO(new RT(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ei{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Ei(this.firestore,e,this._query)}}class kt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ls(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new kt(this.firestore,e,this._key)}}class ls extends Ei{constructor(e,n,r){super(e,n,Th(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new kt(this.firestore,null,new G(e))}withConverter(e){return new ls(this.firestore,e,this._path)}}function fe(t,e,...n){if(t=Ye(t),AC("collection","path",e),t instanceof Mh){const r=Ie.fromString(e,...n);return ow(r),new ls(t,null,r)}{if(!(t instanceof kt||t instanceof ls))throw new B(N.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ie.fromString(e,...n));return ow(r),new ls(t.firestore,null,r)}}function ue(t,e,...n){if(t=Ye(t),arguments.length===1&&(e=AT.newId()),AC("doc","path",e),t instanceof Mh){const r=Ie.fromString(e,...n);return iw(r),new kt(t,null,new G(r))}{if(!(t instanceof kt||t instanceof ls))throw new B(N.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ie.fromString(e,...n));return iw(r),new kt(t.firestore,t instanceof ls?t.converter:null,new G(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jj{constructor(){this.nu=Promise.resolve(),this.ru=[],this.iu=!1,this.su=[],this.ou=null,this._u=!1,this.au=!1,this.uu=[],this.jo=new mC(this,"async_queue_retry"),this.cu=()=>{const n=$f();n&&V("AsyncQueue","Visibility state changed to "+n.visibilityState),this.jo.Ko()};const e=$f();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.cu)}get isShuttingDown(){return this.iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.lu(),this.hu(e)}enterRestrictedMode(e){if(!this.iu){this.iu=!0,this.au=e||!1;const n=$f();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.cu)}}enqueue(e){if(this.lu(),this.iu)return new Promise(()=>{});const n=new Gn;return this.hu(()=>this.iu&&this.au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.ru.push(e),this.Pu()))}async Pu(){if(this.ru.length!==0){try{await this.ru[0](),this.ru.shift(),this.jo.reset()}catch(e){if(!Ql(e))throw e;V("AsyncQueue","Operation failed with retryable error: "+e)}this.ru.length>0&&this.jo.qo(()=>this.Pu())}}hu(e){const n=this.nu.then(()=>(this._u=!0,e().catch(r=>{this.ou=r,this._u=!1;const s=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw tr("INTERNAL UNHANDLED ERROR: ",s),r}).then(r=>(this._u=!1,r))));return this.nu=n,n}enqueueAfterDelay(e,n,r){this.lu(),this.uu.indexOf(e)>-1&&(n=0);const s=$v.createAndSchedule(this,e,n,r,i=>this.Iu(i));return this.su.push(s),s}lu(){this.ou&&Z()}verifyOperationInProgress(){}async Tu(){let e;do e=this.nu,await e;while(e!==this.nu)}Eu(e){for(const n of this.su)if(n.timerId===e)return!0;return!1}du(e){return this.Tu().then(()=>{this.su.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.su)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tu()})}Au(e){this.uu.push(e)}Iu(e){const n=this.su.indexOf(e);this.su.splice(n,1)}}function lw(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const s=n;for(const i of r)if(i in s&&typeof s[i]=="function")return!0;return!1}(t,["next","error","complete"])}class rr extends Mh{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=function(){return new Jj}(),this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||OC(this),this._firestoreClient.terminate()}}function Zj(t,e){const n=typeof t=="object"?t:Yx(),r=typeof t=="string"?t:e||"(default)",s=Bg(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=CN("firestore");i&&Xj(s,...i)}return s}function ec(t){return t._firestoreClient||OC(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function OC(t){var e,n,r;const s=t._freezeSettings(),i=function(a,l,c,u){return new RO(a,l,c,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,RC(u.experimentalLongPollingOptions),u.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._firestoreClient=new Hj(t._authCredentials,t._appCheckCredentials,t._queue,i),!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:s.localCache.kind,_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new bo(Nt.fromBase64String(e))}catch(n){throw new B(N.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new bo(Nt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tc{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new B(N.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new mt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qv{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kv{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new B(N.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new B(N.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return pe(this._lat,e._lat)||pe(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eL=/^__.*__$/;class tL{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Ss(e,this.data,this.fieldMask,n,this.fieldTransforms):new Gl(e,this.data,n,this.fieldTransforms)}}class MC{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Ss(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function jC(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Z()}}class Gv{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.Ru(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Vu(){return this.settings.Vu}mu(e){return new Gv(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}fu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.mu({path:r,gu:!1});return s.pu(e),s}yu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.mu({path:r,gu:!1});return s.Ru(),s}wu(e){return this.mu({path:void 0,gu:!0})}Su(e){return md(e,this.settings.methodName,this.settings.bu||!1,this.path,this.settings.Du)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ru(){if(this.path)for(let e=0;e<this.path.length;e++)this.pu(this.path.get(e))}pu(e){if(e.length===0)throw this.Su("Document fields must not be empty");if(jC(this.Vu)&&eL.test(e))throw this.Su('Document fields cannot begin and end with "__"')}}class nL{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Ph(e)}Cu(e,n,r,s=!1){return new Gv({Vu:e,methodName:n,Du:r,path:mt.emptyPath(),gu:!1,bu:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function nc(t){const e=t._freezeSettings(),n=Ph(t._databaseId);return new nL(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Xv(t,e,n,r,s,i={}){const o=t.Cu(i.merge||i.mergeFields?2:0,e,n,s);Jv("Data must be an object, but it was:",o,r);const a=VC(r,o);let l,c;if(i.merge)l=new en(o.fieldMask),c=o.fieldTransforms;else if(i.mergeFields){const u=[];for(const h of i.mergeFields){const f=Am(e,h,n);if(!o.contains(f))throw new B(N.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);UC(u,f)||u.push(f)}l=new en(u),c=o.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,c=o.fieldTransforms;return new tL(new Wt(a),l,c)}class jh extends Qv{_toFieldTransform(e){if(e.Vu!==2)throw e.Vu===1?e.Su(`${this._methodName}() can only appear at the top level of your update data`):e.Su(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof jh}}function LC(t,e,n,r){const s=t.Cu(1,e,n);Jv("Data must be an object, but it was:",s,r);const i=[],o=Wt.empty();_i(r,(l,c)=>{const u=Zv(e,l,n);c=Ye(c);const h=s.yu(u);if(c instanceof jh)i.push(u);else{const f=rc(c,h);f!=null&&(i.push(u),o.set(u,f))}});const a=new en(i);return new MC(o,a,s.fieldTransforms)}function FC(t,e,n,r,s,i){const o=t.Cu(1,e,n),a=[Am(e,r,n)],l=[s];if(i.length%2!=0)throw new B(N.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<i.length;f+=2)a.push(Am(e,i[f])),l.push(i[f+1]);const c=[],u=Wt.empty();for(let f=a.length-1;f>=0;--f)if(!UC(c,a[f])){const p=a[f];let y=l[f];y=Ye(y);const g=o.yu(p);if(y instanceof jh)c.push(p);else{const w=rc(y,g);w!=null&&(c.push(p),u.set(p,w))}}const h=new en(c);return new MC(u,h,o.fieldTransforms)}function rL(t,e,n,r=!1){return rc(n,t.Cu(r?4:3,e))}function rc(t,e){if($C(t=Ye(t)))return Jv("Unsupported field value:",e,t),VC(t,e);if(t instanceof Qv)return function(r,s){if(!jC(s.Vu))throw s.Su(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Su(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.gu&&e.Vu!==4)throw e.Su("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const a of r){let l=rc(a,s.wu(o));l==null&&(l={nullValue:"NULL_VALUE"}),i.push(l),o++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=Ye(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return ZO(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=nt.fromDate(r);return{timestampValue:hd(s.serializer,i)}}if(r instanceof nt){const i=new nt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:hd(s.serializer,i)}}if(r instanceof Kv)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof bo)return{bytesValue:oC(s.serializer,r._byteString)};if(r instanceof kt){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.Su(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:Rv(r.firestore._databaseId||s.databaseId,r._key.path)}}throw s.Su(`Unsupported field value: ${Oh(r)}`)}(t,e)}function VC(t,e){const n={};return OT(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):_i(t,(r,s)=>{const i=rc(s,e.fu(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function $C(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof nt||t instanceof Kv||t instanceof bo||t instanceof kt||t instanceof Qv)}function Jv(t,e,n){if(!$C(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const r=Oh(n);throw r==="an object"?e.Su(t+" a custom object"):e.Su(t+" "+r)}}function Am(t,e,n){if((e=Ye(e))instanceof tc)return e._internalPath;if(typeof e=="string")return Zv(t,e);throw md("Field path arguments must be of type string or ",t,!1,void 0,n)}const sL=new RegExp("[~\\*/\\[\\]]");function Zv(t,e,n){if(e.search(sL)>=0)throw md(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new tc(...e.split("."))._internalPath}catch{throw md(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function md(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(i||o)&&(l+=" (found",i&&(l+=` in field ${r}`),o&&(l+=` in document ${s}`),l+=")"),new B(N.INVALID_ARGUMENT,a+t+l)}function UC(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BC{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new kt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new iL(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(ey("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class iL extends BC{data(){return super.data()}}function ey(t,e){return typeof e=="string"?Zv(t,e):e instanceof tc?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WC(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new B(N.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class ty{}class oL extends ty{}function Xe(t,e,...n){let r=[];e instanceof ty&&r.push(e),r=r.concat(n),function(i){const o=i.filter(l=>l instanceof ny).length,a=i.filter(l=>l instanceof Lh).length;if(o>1||o>0&&a>0)throw new B(N.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class Lh extends oL{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Lh(e,n,r)}_apply(e){const n=this._parse(e);return HC(e._query,n),new Ei(e.firestore,e.converter,Tm(e._query,n))}_parse(e){const n=nc(e.firestore);return function(i,o,a,l,c,u,h){let f;if(c.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new B(N.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if(u==="in"||u==="not-in"){uw(h,u);const p=[];for(const y of h)p.push(cw(l,i,y));f={arrayValue:{values:p}}}else f=cw(l,i,h)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||uw(h,u),f=rL(a,o,h,u==="in"||u==="not-in");return Ge.create(c,u,f)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function _e(t,e,n){const r=e,s=ey("where",t);return Lh._create(s,r,n)}class ny extends ty{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new ny(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Dn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,i){let o=s;const a=i.getFlattenedFilters();for(const l of a)HC(o,l),o=Tm(o,l)}(e._query,n),new Ei(e.firestore,e.converter,Tm(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function cw(t,e,n){if(typeof(n=Ye(n))=="string"){if(n==="")throw new B(N.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!WT(e)&&n.indexOf("/")!==-1)throw new B(N.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Ie.fromString(n));if(!G.isDocumentKey(r))throw new B(N.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return P_(t,new G(r))}if(n instanceof kt)return P_(t,n._key);throw new B(N.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Oh(n)}.`)}function uw(t,e){if(!Array.isArray(t)||t.length===0)throw new B(N.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function HC(t,e){const n=function(s,i){for(const o of s)for(const a of o.getFlattenedFilters())if(i.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new B(N.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new B(N.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class aL{convertValue(e,n="none"){switch(ci(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Qe(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(li(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw Z()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return _i(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertGeoPoint(e){return new Kv(Qe(e.latitude),Qe(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Sv(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(_l(e));default:return null}}convertTimestamp(e){const n=ps(e);return new nt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Ie.fromString(e);Se(hC(r));const s=new wl(r.get(1),r.get(3)),i=new G(r.popFirst(5));return s.isEqual(n)||tr(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ry(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _a{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class zC extends BC{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new fu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(ey("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class fu extends zC{data(e={}){return super.data(e)}}class YC{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new _a(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new fu(this._firestore,this._userDataWriter,r.key,r,new _a(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new B(N.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(a=>{const l=new fu(s._firestore,s._userDataWriter,a.doc.key,a.doc,new _a(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(a=>i||a.type!==3).map(a=>{const l=new fu(s._firestore,s._userDataWriter,a.doc.key,a.doc,new _a(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);let c=-1,u=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),u=o.indexOf(a.doc.key)),{type:lL(a.type),doc:l,oldIndex:c,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function lL(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Z()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xi(t){t=Vt(t,kt);const e=Vt(t.firestore,rr);return Qj(ec(e),t._key).then(n=>QC(e,t,n))}class sy extends aL{constructor(e){super(),this.firestore=e}convertBytes(e){return new bo(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new kt(this.firestore,null,n)}}function me(t){t=Vt(t,Ei);const e=Vt(t.firestore,rr),n=ec(e),r=new sy(e);return WC(t._query),Kj(n,t._query).then(s=>new YC(e,r,t,s))}function gd(t,e,n){t=Vt(t,kt);const r=Vt(t.firestore,rr),s=ry(t.converter,e,n);return ic(r,[Xv(nc(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,Ft.none())])}function Ve(t,e,n,...r){t=Vt(t,kt);const s=Vt(t.firestore,rr),i=nc(s);let o;return o=typeof(e=Ye(e))=="string"||e instanceof tc?FC(i,"updateDoc",t._key,e,n,r):LC(i,"updateDoc",t._key,e),ic(s,[o.toMutation(t._key,Ft.exists(!0))])}function qC(t){return ic(Vt(t.firestore,rr),[new Ih(t._key,Ft.none())])}function sc(t,e){const n=Vt(t.firestore,rr),r=ue(t),s=ry(t.converter,e);return ic(n,[Xv(nc(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,Ft.exists(!1))]).then(()=>r)}function cL(t,...e){var n,r,s;t=Ye(t);let i={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||lw(e[o])||(i=e[o],o++);const a={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(lw(e[o])){const h=e[o];e[o]=(n=h.next)===null||n===void 0?void 0:n.bind(h),e[o+1]=(r=h.error)===null||r===void 0?void 0:r.bind(h),e[o+2]=(s=h.complete)===null||s===void 0?void 0:s.bind(h)}let l,c,u;if(t instanceof kt)c=Vt(t.firestore,rr),u=Th(t._key.path),l={next:h=>{e[o]&&e[o](QC(c,t,h))},error:e[o+1],complete:e[o+2]};else{const h=Vt(t,Ei);c=Vt(h.firestore,rr),u=h._query;const f=new sy(c);l={next:p=>{e[o]&&e[o](new YC(c,f,h,p))},error:e[o+1],complete:e[o+2]},WC(t._query)}return function(f,p,y,g){const w=new qv(g),m=new zv(p,w,y);return f.asyncQueue.enqueueAndForget(async()=>Bv(await pd(f),m)),()=>{w.Qa(),f.asyncQueue.enqueueAndForget(async()=>Wv(await pd(f),m))}}(ec(c),u,a,l)}function ic(t,e){return function(r,s){const i=new Gn;return r.asyncQueue.enqueueAndForget(async()=>Mj(await qj(r),s,i)),i.promise}(ec(t),e)}function QC(t,e,n){const r=n.docs.get(e._key),s=new sy(t);return new zC(t,s,e._key,r,new _a(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uL{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=nc(e)}set(e,n,r){this._verifyNotCommitted();const s=Bf(e,this._firestore),i=ry(s.converter,n,r),o=Xv(this._dataReader,"WriteBatch.set",s._key,i,s.converter!==null,r);return this._mutations.push(o.toMutation(s._key,Ft.none())),this}update(e,n,r,...s){this._verifyNotCommitted();const i=Bf(e,this._firestore);let o;return o=typeof(n=Ye(n))=="string"||n instanceof tc?FC(this._dataReader,"WriteBatch.update",i._key,n,r,s):LC(this._dataReader,"WriteBatch.update",i._key,n),this._mutations.push(o.toMutation(i._key,Ft.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=Bf(e,this._firestore);return this._mutations=this._mutations.concat(new Ih(n._key,Ft.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new B(N.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Bf(t,e){if((t=Ye(t)).firestore!==e)throw new B(N.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KC(t){return ec(t=Vt(t,rr)),new uL(t,e=>ic(t,e))}(function(e,n=!0){(function(s){Vo=s})(Mo),mo(new ri("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),a=new rr(new gO(r.getProvider("auth-internal")),new wO(r.getProvider("app-check-internal")),function(c,u){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new B(N.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new wl(c.options.projectId,u)}(o,s),o);return i=Object.assign({useFetchStreams:n},i),a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),as(S_,"4.6.0",e),as(S_,"4.6.0","esm2017")})();var dL="firebase",hL="10.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */as(dL,hL,"app");const fL={apiKey:"AIzaSyBm9FP5WcXqgjJ3hiekSp8siZao2CsRTQQ",authDomain:"rfid-nfc-proyect.firebaseapp.com",databaseURL:"https://rfid-nfc-proyect-default-rtdb.firebaseio.com",projectId:"rfid-nfc-proyect",storageBucket:"rfid-nfc-proyect.appspot.com",messagingSenderId:"698072314986",appId:"1:698072314986:web:89c283646181aaef700613",measurementId:"G-345B2NVRX6"},vn=zx(fL),Y=Zj(vn),GC=E.createContext();function pL({children:t,user:e}){const[n,r]=E.useState({uid:(e==null?void 0:e.uid)||"",email:(e==null?void 0:e.email)||"",rol:(e==null?void 0:e.rol)||""});E.useEffect(()=>{e&&r({uid:e.uid,email:e.email,rol:e.rol})},[e]);const i={...n,updateContextData:o=>{r({...n,...o})}};return d.jsx(GC.Provider,{value:i,children:t})}function kn(){const t=E.useContext(GC);if(!t)throw new Error("useDataContextProvider must be used within DataContextProvider");return t}const Fh="/assets/logoUSFX-c1ebd7f7.png",mL=Rn(vn);function gL(){const t=kn();console.log(t.rol),t.rol;const e=()=>{sh(mL).then(()=>{console.log("Cerraste la sesión correctamente")}).catch(n=>{console.error("Error al cerrar la sesión:",n)})};return d.jsx("div",{children:d.jsx("nav",{className:"bg-red-700 text-white p-4",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("img",{src:Fh,alt:"Logo",className:"w-12 h-12 rounded-full"}),d.jsxs("div",{className:"flex space-x-4",children:[d.jsx(ot,{to:"/adminView",className:"hover:underline",children:"Inicio"}),d.jsx(ot,{to:"/listaUsuarios",className:"hover:underline",children:"Usuarios"}),d.jsx(ot,{to:"/listaAccesos",className:"hover:underline",children:"Accesos"}),d.jsx(ot,{to:"/auth",onClick:e,className:"hover:underline",children:"Log Out"})]})]})})})}const Fc=Rn(vn);function dw(){const[t,e]=E.useState(""),[n,r]=E.useState(""),[s,i]=E.useState(null),[o,a]=E.useState(null);kn();const{updateContextData:l}=kn(),c=Gt();E.useEffect(()=>{const y=yb(Fc,g=>{g?(a(g),f(g)):a(null)});return()=>y()},[]);const u=async y=>{y.preventDefault(),i(null);try{const w=(await qR(Fc,t,n)).user;if(!(await h(w.uid)).activo){alert("Error: Tu cuenta ha sido eliminada o está inactiva. Por favor contacta al administrador."),i("Tu cuenta ha sido eliminada o está inactiva. Por favor contacta al administrador."),await Fc.signOut();return}f(w),console.log("Inicio de sesión exitoso")}catch(g){i("Correo electrónico o contraseña incorrectos. Por favor intenta de nuevo."),console.error(g)}};async function h(y){const g=ue(Y,`usuarios/${y}`),m=(await xi(g)).data();return{uid:y,email:m.email,rol:m.rol,activo:m.activo}}function f(y){h(y.uid).then(g=>{if(!g.activo){i("Tu cuenta ha sido eliminada o está inactiva. Por favor contacta al administrador."),Fc.signOut();return}a(g),l({uid:g.uid,email:g.email,rol:g.rol}),p(g.rol)})}const p=y=>{y==="Admin"?c("/admin"):y==="Administrativo"?c("/administrativo"):y==="Docente"&&c("/docente")};return d.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:d.jsxs("div",{className:"bg-white p-8 rounded shadow-md w-96",children:[d.jsx("div",{className:"flex items-center justify-center mb-8",children:d.jsx("img",{src:Fh,alt:"Logo",className:"w-24 h-24 rounded-full"})}),d.jsx("h2",{className:"text-2xl font-bold mb-4 text-center",children:"Iniciar sesión"}),d.jsxs("form",{onSubmit:u,children:[s&&d.jsx("div",{className:"mb-4 text-red-500",children:s}),d.jsxs("div",{className:"mb-4",children:[d.jsx("label",{htmlFor:"email",className:"block text-gray-700 font-bold",children:"Email:"}),d.jsx("input",{type:"email",onChange:y=>e(y.target.value),id:"email",className:"block w-full rounded-md border border-gray-300 py-1.5 px-3 text-gray-900 placeholder-gray-400 focus:outline-none focus:border-blue-500 focus:ring focus:ring-blue-500 focus:ring-opacity-50",placeholder:"Email"})]}),d.jsxs("div",{className:"mb-6",children:[d.jsx("label",{htmlFor:"password",className:"block text-gray-700 font-bold",children:"Contraseña:"}),d.jsx("input",{type:"password",id:"password",onChange:y=>r(y.target.value),className:"block w-full rounded-md border border-gray-300 py-1.5 px-3 text-gray-900 placeholder-gray-400 focus:outline-none focus:border-blue-500 focus:ring focus:ring-blue-500 focus:ring-opacity-50",placeholder:"Contraseña"})]}),d.jsx("div",{children:d.jsx("button",{type:"submit",className:"block w-full bg-blue-500 text-white py-2 px-4 rounded hover:bg-blue-600 focus:outline-none focus:bg-blue-600",children:"Ingresar"})}),d.jsx("div",{className:"mt-4 text-center",children:d.jsx(ot,{to:"/reset-password",className:"text-blue-500 hover:underline",children:"¿Olvidaste tu contraseña?"})})]})]})})}const vL=Rn(vn),Bo=({children:t})=>{kn(),kn();const e=()=>{sh(vL).then(()=>{console.log("Cerraste la sesión correctamente")}).catch(n=>{console.error("Error al cerrar la sesión:",n)})};return d.jsxs("div",{className:"flex h-screen",children:[d.jsxs("nav",{className:"bg-red-700 w-64 flex-shrink-0 flex flex-col justify-between",children:[d.jsxs("div",{className:"p-4",children:[d.jsx("img",{src:Fh,alt:"Logo",className:"w-15 h-15 rounded-full mb-4"}),d.jsxs("div",{className:"space-y-4",children:[d.jsx(ta,{to:"/docente",children:"Inicio"}),d.jsx(ta,{to:"/docente/listaAccesos",children:"Accesos"}),d.jsx(ta,{to:"/docente/listaRegistros",children:"Registros"}),d.jsx(ta,{to:"/docente/bloqueo",children:"Bloqueo de credenciales"}),d.jsx(ta,{to:"/docente/solicitarAcceso",children:"Solicitar Accesos"})]})]}),d.jsx("div",{className:"mt-auto",children:d.jsx(ot,{to:"/",onClick:e,className:"block py-2 px-4 rounded text-white hover:bg-red-600 hover:text-white",children:"Log Out"})})]}),d.jsx("main",{className:"flex-1 p-8 overflow-y-auto",children:t})]})},ta=({to:t,children:e})=>d.jsx(ot,{to:t,className:"block py-2 px-4 rounded text-white hover:bg-red-600 hover:text-white",children:e});function hw(){const t=kn(),[e,n]=E.useState(null);E.useEffect(()=>{t.uid&&r()},[t.uid]);const r=async()=>{try{const i=ue(Y,"usuarios",t.uid),o=await xi(i);o.exists()?n({id:o.id,...o.data()}):console.log("No existe el usuario con el UID especificado")}catch(i){console.error("Error al obtener los datos del usuario:",i)}},s=i=>i==="Aceptado"?"text-green-500 font-semibold":i==="Denegado"?"text-red-500 font-semibold":"text-gray-500 font-semibold";return d.jsx(Bo,{children:d.jsx("div",{className:"container mx-auto p-4 flex justify-center",children:d.jsxs("div",{className:"bg-white shadow-lg rounded-lg p-8 w-full max-w-lg",children:[d.jsx("h2",{className:"text-3xl font-bold mb-6 text-center text-blue-600",children:"Perfil de Usuario"}),e?d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"flex flex-col items-center mb-6",children:[d.jsx("img",{src:`https://ui-avatars.com/api/?name=${e.nombre}+${e.apellido}&background=0071c5&color=fff&size=128`,alt:"Avatar",className:"rounded-full mb-4 shadow-md"}),d.jsx("h3",{className:"text-xl font-semibold text-gray-800",children:`${e.nombre} ${e.apellido}`}),d.jsxs("p",{className:"text-gray-600",children:[d.jsx("strong",{children:"Email:"})," ",e.email]}),d.jsxs("p",{className:"text-gray-600",children:[d.jsx("strong",{children:"Rol:"})," ",e.rol]})]}),d.jsxs("div",{className:"space-y-4",children:[e.codigoTarjeta&&d.jsxs("p",{className:"text-gray-700",children:[d.jsx("span",{className:"font-semibold",children:"Código Tarjeta RFID:"})," ",e.codigoTarjeta," (",d.jsx("span",{className:`${s(e.accesoRfid)}`,children:e.accesoRfid==="Aceptado"?"Activo":"Bloqueado"}),")"]}),e.dispositivoCodigo&&d.jsxs("p",{className:"text-gray-700",children:[d.jsx("span",{className:"font-semibold",children:"Código Dispositivo NFC:"})," ",e.dispositivoCodigo," (",d.jsx("span",{className:`${s(e.accesoNFC)}`,children:e.accesoNFC==="Aceptado"?"Activo":"Bloqueado"}),")"]})]})]}):d.jsx("p",{className:"text-center text-gray-600",children:"Cargando usuario..."})]})})})}function vd(t){"@babel/helpers - typeof";return vd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vd(t)}function ui(t){if(t===null||t===!0||t===!1)return NaN;var e=Number(t);return isNaN(e)?e:e<0?Math.ceil(e):Math.floor(e)}function Pt(t,e){if(e.length<t)throw new TypeError(t+" argument"+(t>1?"s":"")+" required, but only "+e.length+" present")}function An(t){Pt(1,arguments);var e=Object.prototype.toString.call(t);return t instanceof Date||vd(t)==="object"&&e==="[object Date]"?new Date(t.getTime()):typeof t=="number"||e==="[object Number]"?new Date(t):((typeof t=="string"||e==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function yL(t,e){Pt(2,arguments);var n=An(t).getTime(),r=ui(e);return new Date(n+r)}var _L={};function Vh(){return _L}function wL(t){var e=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return e.setUTCFullYear(t.getFullYear()),t.getTime()-e.getTime()}function EL(t){return Pt(1,arguments),t instanceof Date||vd(t)==="object"&&Object.prototype.toString.call(t)==="[object Date]"}function xL(t){if(Pt(1,arguments),!EL(t)&&typeof t!="number")return!1;var e=An(t);return!isNaN(Number(e))}function bL(t,e){Pt(2,arguments);var n=ui(e);return yL(t,-n)}var TL=864e5;function CL(t){Pt(1,arguments);var e=An(t),n=e.getTime();e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0);var r=e.getTime(),s=n-r;return Math.floor(s/TL)+1}function yd(t){Pt(1,arguments);var e=1,n=An(t),r=n.getUTCDay(),s=(r<e?7:0)+r-e;return n.setUTCDate(n.getUTCDate()-s),n.setUTCHours(0,0,0,0),n}function XC(t){Pt(1,arguments);var e=An(t),n=e.getUTCFullYear(),r=new Date(0);r.setUTCFullYear(n+1,0,4),r.setUTCHours(0,0,0,0);var s=yd(r),i=new Date(0);i.setUTCFullYear(n,0,4),i.setUTCHours(0,0,0,0);var o=yd(i);return e.getTime()>=s.getTime()?n+1:e.getTime()>=o.getTime()?n:n-1}function SL(t){Pt(1,arguments);var e=XC(t),n=new Date(0);n.setUTCFullYear(e,0,4),n.setUTCHours(0,0,0,0);var r=yd(n);return r}var DL=6048e5;function kL(t){Pt(1,arguments);var e=An(t),n=yd(e).getTime()-SL(e).getTime();return Math.round(n/DL)+1}function _d(t,e){var n,r,s,i,o,a,l,c;Pt(1,arguments);var u=Vh(),h=ui((n=(r=(s=(i=e==null?void 0:e.weekStartsOn)!==null&&i!==void 0?i:e==null||(o=e.locale)===null||o===void 0||(a=o.options)===null||a===void 0?void 0:a.weekStartsOn)!==null&&s!==void 0?s:u.weekStartsOn)!==null&&r!==void 0?r:(l=u.locale)===null||l===void 0||(c=l.options)===null||c===void 0?void 0:c.weekStartsOn)!==null&&n!==void 0?n:0);if(!(h>=0&&h<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var f=An(t),p=f.getUTCDay(),y=(p<h?7:0)+p-h;return f.setUTCDate(f.getUTCDate()-y),f.setUTCHours(0,0,0,0),f}function JC(t,e){var n,r,s,i,o,a,l,c;Pt(1,arguments);var u=An(t),h=u.getUTCFullYear(),f=Vh(),p=ui((n=(r=(s=(i=e==null?void 0:e.firstWeekContainsDate)!==null&&i!==void 0?i:e==null||(o=e.locale)===null||o===void 0||(a=o.options)===null||a===void 0?void 0:a.firstWeekContainsDate)!==null&&s!==void 0?s:f.firstWeekContainsDate)!==null&&r!==void 0?r:(l=f.locale)===null||l===void 0||(c=l.options)===null||c===void 0?void 0:c.firstWeekContainsDate)!==null&&n!==void 0?n:1);if(!(p>=1&&p<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var y=new Date(0);y.setUTCFullYear(h+1,0,p),y.setUTCHours(0,0,0,0);var g=_d(y,e),w=new Date(0);w.setUTCFullYear(h,0,p),w.setUTCHours(0,0,0,0);var m=_d(w,e);return u.getTime()>=g.getTime()?h+1:u.getTime()>=m.getTime()?h:h-1}function IL(t,e){var n,r,s,i,o,a,l,c;Pt(1,arguments);var u=Vh(),h=ui((n=(r=(s=(i=e==null?void 0:e.firstWeekContainsDate)!==null&&i!==void 0?i:e==null||(o=e.locale)===null||o===void 0||(a=o.options)===null||a===void 0?void 0:a.firstWeekContainsDate)!==null&&s!==void 0?s:u.firstWeekContainsDate)!==null&&r!==void 0?r:(l=u.locale)===null||l===void 0||(c=l.options)===null||c===void 0?void 0:c.firstWeekContainsDate)!==null&&n!==void 0?n:1),f=JC(t,e),p=new Date(0);p.setUTCFullYear(f,0,h),p.setUTCHours(0,0,0,0);var y=_d(p,e);return y}var NL=6048e5;function PL(t,e){Pt(1,arguments);var n=An(t),r=_d(n,e).getTime()-IL(n,e).getTime();return Math.round(r/NL)+1}function ve(t,e){for(var n=t<0?"-":"",r=Math.abs(t).toString();r.length<e;)r="0"+r;return n+r}var RL={y:function(e,n){var r=e.getUTCFullYear(),s=r>0?r:1-r;return ve(n==="yy"?s%100:s,n.length)},M:function(e,n){var r=e.getUTCMonth();return n==="M"?String(r+1):ve(r+1,2)},d:function(e,n){return ve(e.getUTCDate(),n.length)},a:function(e,n){var r=e.getUTCHours()/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h:function(e,n){return ve(e.getUTCHours()%12||12,n.length)},H:function(e,n){return ve(e.getUTCHours(),n.length)},m:function(e,n){return ve(e.getUTCMinutes(),n.length)},s:function(e,n){return ve(e.getUTCSeconds(),n.length)},S:function(e,n){var r=n.length,s=e.getUTCMilliseconds(),i=Math.floor(s*Math.pow(10,r-3));return ve(i,n.length)}};const Or=RL;var Di={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},AL={G:function(e,n,r){var s=e.getUTCFullYear()>0?1:0;switch(n){case"G":case"GG":case"GGG":return r.era(s,{width:"abbreviated"});case"GGGGG":return r.era(s,{width:"narrow"});case"GGGG":default:return r.era(s,{width:"wide"})}},y:function(e,n,r){if(n==="yo"){var s=e.getUTCFullYear(),i=s>0?s:1-s;return r.ordinalNumber(i,{unit:"year"})}return Or.y(e,n)},Y:function(e,n,r,s){var i=JC(e,s),o=i>0?i:1-i;if(n==="YY"){var a=o%100;return ve(a,2)}return n==="Yo"?r.ordinalNumber(o,{unit:"year"}):ve(o,n.length)},R:function(e,n){var r=XC(e);return ve(r,n.length)},u:function(e,n){var r=e.getUTCFullYear();return ve(r,n.length)},Q:function(e,n,r){var s=Math.ceil((e.getUTCMonth()+1)/3);switch(n){case"Q":return String(s);case"QQ":return ve(s,2);case"Qo":return r.ordinalNumber(s,{unit:"quarter"});case"QQQ":return r.quarter(s,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(s,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(s,{width:"wide",context:"formatting"})}},q:function(e,n,r){var s=Math.ceil((e.getUTCMonth()+1)/3);switch(n){case"q":return String(s);case"qq":return ve(s,2);case"qo":return r.ordinalNumber(s,{unit:"quarter"});case"qqq":return r.quarter(s,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(s,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(s,{width:"wide",context:"standalone"})}},M:function(e,n,r){var s=e.getUTCMonth();switch(n){case"M":case"MM":return Or.M(e,n);case"Mo":return r.ordinalNumber(s+1,{unit:"month"});case"MMM":return r.month(s,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(s,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(s,{width:"wide",context:"formatting"})}},L:function(e,n,r){var s=e.getUTCMonth();switch(n){case"L":return String(s+1);case"LL":return ve(s+1,2);case"Lo":return r.ordinalNumber(s+1,{unit:"month"});case"LLL":return r.month(s,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(s,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(s,{width:"wide",context:"standalone"})}},w:function(e,n,r,s){var i=PL(e,s);return n==="wo"?r.ordinalNumber(i,{unit:"week"}):ve(i,n.length)},I:function(e,n,r){var s=kL(e);return n==="Io"?r.ordinalNumber(s,{unit:"week"}):ve(s,n.length)},d:function(e,n,r){return n==="do"?r.ordinalNumber(e.getUTCDate(),{unit:"date"}):Or.d(e,n)},D:function(e,n,r){var s=CL(e);return n==="Do"?r.ordinalNumber(s,{unit:"dayOfYear"}):ve(s,n.length)},E:function(e,n,r){var s=e.getUTCDay();switch(n){case"E":case"EE":case"EEE":return r.day(s,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(s,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(s,{width:"short",context:"formatting"});case"EEEE":default:return r.day(s,{width:"wide",context:"formatting"})}},e:function(e,n,r,s){var i=e.getUTCDay(),o=(i-s.weekStartsOn+8)%7||7;switch(n){case"e":return String(o);case"ee":return ve(o,2);case"eo":return r.ordinalNumber(o,{unit:"day"});case"eee":return r.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(i,{width:"short",context:"formatting"});case"eeee":default:return r.day(i,{width:"wide",context:"formatting"})}},c:function(e,n,r,s){var i=e.getUTCDay(),o=(i-s.weekStartsOn+8)%7||7;switch(n){case"c":return String(o);case"cc":return ve(o,n.length);case"co":return r.ordinalNumber(o,{unit:"day"});case"ccc":return r.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(i,{width:"narrow",context:"standalone"});case"cccccc":return r.day(i,{width:"short",context:"standalone"});case"cccc":default:return r.day(i,{width:"wide",context:"standalone"})}},i:function(e,n,r){var s=e.getUTCDay(),i=s===0?7:s;switch(n){case"i":return String(i);case"ii":return ve(i,n.length);case"io":return r.ordinalNumber(i,{unit:"day"});case"iii":return r.day(s,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(s,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(s,{width:"short",context:"formatting"});case"iiii":default:return r.day(s,{width:"wide",context:"formatting"})}},a:function(e,n,r){var s=e.getUTCHours(),i=s/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(e,n,r){var s=e.getUTCHours(),i;switch(s===12?i=Di.noon:s===0?i=Di.midnight:i=s/12>=1?"pm":"am",n){case"b":case"bb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(e,n,r){var s=e.getUTCHours(),i;switch(s>=17?i=Di.evening:s>=12?i=Di.afternoon:s>=4?i=Di.morning:i=Di.night,n){case"B":case"BB":case"BBB":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(e,n,r){if(n==="ho"){var s=e.getUTCHours()%12;return s===0&&(s=12),r.ordinalNumber(s,{unit:"hour"})}return Or.h(e,n)},H:function(e,n,r){return n==="Ho"?r.ordinalNumber(e.getUTCHours(),{unit:"hour"}):Or.H(e,n)},K:function(e,n,r){var s=e.getUTCHours()%12;return n==="Ko"?r.ordinalNumber(s,{unit:"hour"}):ve(s,n.length)},k:function(e,n,r){var s=e.getUTCHours();return s===0&&(s=24),n==="ko"?r.ordinalNumber(s,{unit:"hour"}):ve(s,n.length)},m:function(e,n,r){return n==="mo"?r.ordinalNumber(e.getUTCMinutes(),{unit:"minute"}):Or.m(e,n)},s:function(e,n,r){return n==="so"?r.ordinalNumber(e.getUTCSeconds(),{unit:"second"}):Or.s(e,n)},S:function(e,n){return Or.S(e,n)},X:function(e,n,r,s){var i=s._originalDate||e,o=i.getTimezoneOffset();if(o===0)return"Z";switch(n){case"X":return pw(o);case"XXXX":case"XX":return As(o);case"XXXXX":case"XXX":default:return As(o,":")}},x:function(e,n,r,s){var i=s._originalDate||e,o=i.getTimezoneOffset();switch(n){case"x":return pw(o);case"xxxx":case"xx":return As(o);case"xxxxx":case"xxx":default:return As(o,":")}},O:function(e,n,r,s){var i=s._originalDate||e,o=i.getTimezoneOffset();switch(n){case"O":case"OO":case"OOO":return"GMT"+fw(o,":");case"OOOO":default:return"GMT"+As(o,":")}},z:function(e,n,r,s){var i=s._originalDate||e,o=i.getTimezoneOffset();switch(n){case"z":case"zz":case"zzz":return"GMT"+fw(o,":");case"zzzz":default:return"GMT"+As(o,":")}},t:function(e,n,r,s){var i=s._originalDate||e,o=Math.floor(i.getTime()/1e3);return ve(o,n.length)},T:function(e,n,r,s){var i=s._originalDate||e,o=i.getTime();return ve(o,n.length)}};function fw(t,e){var n=t>0?"-":"+",r=Math.abs(t),s=Math.floor(r/60),i=r%60;if(i===0)return n+String(s);var o=e||"";return n+String(s)+o+ve(i,2)}function pw(t,e){if(t%60===0){var n=t>0?"-":"+";return n+ve(Math.abs(t)/60,2)}return As(t,e)}function As(t,e){var n=e||"",r=t>0?"-":"+",s=Math.abs(t),i=ve(Math.floor(s/60),2),o=ve(s%60,2);return r+i+n+o}const OL=AL;var mw=function(e,n){switch(e){case"P":return n.date({width:"short"});case"PP":return n.date({width:"medium"});case"PPP":return n.date({width:"long"});case"PPPP":default:return n.date({width:"full"})}},ZC=function(e,n){switch(e){case"p":return n.time({width:"short"});case"pp":return n.time({width:"medium"});case"ppp":return n.time({width:"long"});case"pppp":default:return n.time({width:"full"})}},ML=function(e,n){var r=e.match(/(P+)(p+)?/)||[],s=r[1],i=r[2];if(!i)return mw(e,n);var o;switch(s){case"P":o=n.dateTime({width:"short"});break;case"PP":o=n.dateTime({width:"medium"});break;case"PPP":o=n.dateTime({width:"long"});break;case"PPPP":default:o=n.dateTime({width:"full"});break}return o.replace("{{date}}",mw(s,n)).replace("{{time}}",ZC(i,n))},jL={p:ZC,P:ML};const LL=jL;var FL=["D","DD"],VL=["YY","YYYY"];function $L(t){return FL.indexOf(t)!==-1}function UL(t){return VL.indexOf(t)!==-1}function gw(t,e,n){if(t==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(e,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(e,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(e,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(e,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var BL={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},WL=function(e,n,r){var s,i=BL[e];return typeof i=="string"?s=i:n===1?s=i.one:s=i.other.replace("{{count}}",n.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+s:s+" ago":s};const HL=WL;function Wf(t){return function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.width?String(e.width):t.defaultWidth,r=t.formats[n]||t.formats[t.defaultWidth];return r}}var zL={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},YL={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},qL={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},QL={date:Wf({formats:zL,defaultWidth:"full"}),time:Wf({formats:YL,defaultWidth:"full"}),dateTime:Wf({formats:qL,defaultWidth:"full"})};const KL=QL;var GL={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},XL=function(e,n,r,s){return GL[e]};const JL=XL;function na(t){return function(e,n){var r=n!=null&&n.context?String(n.context):"standalone",s;if(r==="formatting"&&t.formattingValues){var i=t.defaultFormattingWidth||t.defaultWidth,o=n!=null&&n.width?String(n.width):i;s=t.formattingValues[o]||t.formattingValues[i]}else{var a=t.defaultWidth,l=n!=null&&n.width?String(n.width):t.defaultWidth;s=t.values[l]||t.values[a]}var c=t.argumentCallback?t.argumentCallback(e):e;return s[c]}}var ZL={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},e4={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},t4={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},n4={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},r4={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},s4={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},i4=function(e,n){var r=Number(e),s=r%100;if(s>20||s<10)switch(s%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},o4={ordinalNumber:i4,era:na({values:ZL,defaultWidth:"wide"}),quarter:na({values:e4,defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:na({values:t4,defaultWidth:"wide"}),day:na({values:n4,defaultWidth:"wide"}),dayPeriod:na({values:r4,defaultWidth:"wide",formattingValues:s4,defaultFormattingWidth:"wide"})};const a4=o4;function ra(t){return function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=n.width,s=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],i=e.match(s);if(!i)return null;var o=i[0],a=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(a)?c4(a,function(h){return h.test(o)}):l4(a,function(h){return h.test(o)}),c;c=t.valueCallback?t.valueCallback(l):l,c=n.valueCallback?n.valueCallback(c):c;var u=e.slice(o.length);return{value:c,rest:u}}}function l4(t,e){for(var n in t)if(t.hasOwnProperty(n)&&e(t[n]))return n}function c4(t,e){for(var n=0;n<t.length;n++)if(e(t[n]))return n}function u4(t){return function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=e.match(t.matchPattern);if(!r)return null;var s=r[0],i=e.match(t.parsePattern);if(!i)return null;var o=t.valueCallback?t.valueCallback(i[0]):i[0];o=n.valueCallback?n.valueCallback(o):o;var a=e.slice(s.length);return{value:o,rest:a}}}var d4=/^(\d+)(th|st|nd|rd)?/i,h4=/\d+/i,f4={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},p4={any:[/^b/i,/^(a|c)/i]},m4={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},g4={any:[/1/i,/2/i,/3/i,/4/i]},v4={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},y4={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},_4={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},w4={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},E4={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},x4={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},b4={ordinalNumber:u4({matchPattern:d4,parsePattern:h4,valueCallback:function(e){return parseInt(e,10)}}),era:ra({matchPatterns:f4,defaultMatchWidth:"wide",parsePatterns:p4,defaultParseWidth:"any"}),quarter:ra({matchPatterns:m4,defaultMatchWidth:"wide",parsePatterns:g4,defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:ra({matchPatterns:v4,defaultMatchWidth:"wide",parsePatterns:y4,defaultParseWidth:"any"}),day:ra({matchPatterns:_4,defaultMatchWidth:"wide",parsePatterns:w4,defaultParseWidth:"any"}),dayPeriod:ra({matchPatterns:E4,defaultMatchWidth:"any",parsePatterns:x4,defaultParseWidth:"any"})};const T4=b4;var C4={code:"en-US",formatDistance:HL,formatLong:KL,formatRelative:JL,localize:a4,match:T4,options:{weekStartsOn:0,firstWeekContainsDate:1}};const S4=C4;var D4=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,k4=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,I4=/^'([^]*?)'?$/,N4=/''/g,P4=/[a-zA-Z]/;function iy(t,e,n){var r,s,i,o,a,l,c,u,h,f,p,y,g,w,m,_,v,x;Pt(2,arguments);var T=String(e),C=Vh(),b=(r=(s=n==null?void 0:n.locale)!==null&&s!==void 0?s:C.locale)!==null&&r!==void 0?r:S4,S=ui((i=(o=(a=(l=n==null?void 0:n.firstWeekContainsDate)!==null&&l!==void 0?l:n==null||(c=n.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&a!==void 0?a:C.firstWeekContainsDate)!==null&&o!==void 0?o:(h=C.locale)===null||h===void 0||(f=h.options)===null||f===void 0?void 0:f.firstWeekContainsDate)!==null&&i!==void 0?i:1);if(!(S>=1&&S<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var D=ui((p=(y=(g=(w=n==null?void 0:n.weekStartsOn)!==null&&w!==void 0?w:n==null||(m=n.locale)===null||m===void 0||(_=m.options)===null||_===void 0?void 0:_.weekStartsOn)!==null&&g!==void 0?g:C.weekStartsOn)!==null&&y!==void 0?y:(v=C.locale)===null||v===void 0||(x=v.options)===null||x===void 0?void 0:x.weekStartsOn)!==null&&p!==void 0?p:0);if(!(D>=0&&D<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!b.localize)throw new RangeError("locale must contain localize property");if(!b.formatLong)throw new RangeError("locale must contain formatLong property");var I=An(t);if(!xL(I))throw new RangeError("Invalid time value");var P=wL(I),M=bL(I,P),W={firstWeekContainsDate:S,weekStartsOn:D,locale:b,_originalDate:I},j=T.match(k4).map(function(F){var O=F[0];if(O==="p"||O==="P"){var K=LL[O];return K(F,b.formatLong)}return F}).join("").match(D4).map(function(F){if(F==="''")return"'";var O=F[0];if(O==="'")return R4(F);var K=OL[O];if(K)return!(n!=null&&n.useAdditionalWeekYearTokens)&&UL(F)&&gw(F,e,String(t)),!(n!=null&&n.useAdditionalDayOfYearTokens)&&$L(F)&&gw(F,e,String(t)),K(M,F,b.localize,W);if(O.match(P4))throw new RangeError("Format string contains an unescaped latin alphabet character `"+O+"`");return F}).join("");return j}function R4(t){var e=t.match(I4);return e?e[1].replace(N4,"'"):t}function eS(t){Pt(1,arguments);var e=An(t),n=e.getDay();return n}var tS={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},vw=k.createContext&&k.createContext(tS),A4=["attr","size","title"];function O4(t,e){if(t==null)return{};var n=M4(t,e),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function M4(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function wd(){return wd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},wd.apply(this,arguments)}function yw(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Ed(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yw(Object(n),!0).forEach(function(r){j4(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yw(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function j4(t,e,n){return e=L4(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function L4(t){var e=F4(t,"string");return typeof e=="symbol"?e:String(e)}function F4(t,e){if(typeof t!="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function nS(t){return t&&t.map((e,n)=>k.createElement(e.tag,Ed({key:n},e.attr),nS(e.child)))}function bi(t){return e=>k.createElement(V4,wd({attr:Ed({},t.attr)},e),nS(t.child))}function V4(t){var e=n=>{var{attr:r,size:s,title:i}=t,o=O4(t,A4),a=s||n.size||"1em",l;return n.className&&(l=n.className),t.className&&(l=(l?l+" ":"")+t.className),k.createElement("svg",wd({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,o,{className:l,style:Ed(Ed({color:t.color||n.color},n.style),t.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),i&&k.createElement("title",null,i),t.children)};return vw!==void 0?k.createElement(vw.Consumer,null,n=>e(n)):e(tS)}function $4(t){return bi({tag:"svg",attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M272 0H48C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h224c26.5 0 48-21.5 48-48V48c0-26.5-21.5-48-48-48zM160 480c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm112-108c0 6.6-5.4 12-12 12H60c-6.6 0-12-5.4-12-12V60c0-6.6 5.4-12 12-12h200c6.6 0 12 5.4 12 12v312z"},child:[]}]})(t)}function rS(t){return bi({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M370.72 133.28C339.458 104.008 298.888 87.962 255.848 88c-77.458.068-144.328 53.178-162.791 126.85-1.344 5.363-6.122 9.15-11.651 9.15H24.103c-7.498 0-13.194-6.807-11.807-14.176C33.933 94.924 134.813 8 256 8c66.448 0 126.791 26.136 171.315 68.685L463.03 40.97C478.149 25.851 504 36.559 504 57.941V192c0 13.255-10.745 24-24 24H345.941c-21.382 0-32.09-25.851-16.971-40.971l41.75-41.749zM32 296h134.059c21.382 0 32.09 25.851 16.971 40.971l-41.75 41.75c31.262 29.273 71.835 45.319 114.876 45.28 77.418-.07 144.315-53.144 162.787-126.849 1.344-5.363 6.122-9.15 11.651-9.15h57.304c7.498 0 13.194 6.807 11.807 14.176C478.067 417.076 377.187 504 256 504c-66.448 0-126.791-26.136-171.315-68.685L48.97 471.03C33.851 486.149 8 475.441 8 454.059V320c0-13.255 10.745-24 24-24z"},child:[]}]})(t)}function U4(t){return bi({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M527.9 32H48.1C21.5 32 0 53.5 0 80v352c0 26.5 21.5 48 48.1 48h479.8c26.6 0 48.1-21.5 48.1-48V80c0-26.5-21.5-48-48.1-48zM54.1 80h467.8c3.3 0 6 2.7 6 6v42H48.1V86c0-3.3 2.7-6 6-6zm467.8 352H54.1c-3.3 0-6-2.7-6-6V256h479.8v170c0 3.3-2.7 6-6 6zM192 332v40c0 6.6-5.4 12-12 12h-72c-6.6 0-12-5.4-12-12v-40c0-6.6 5.4-12 12-12h72c6.6 0 12 5.4 12 12zm192 0v40c0 6.6-5.4 12-12 12H236c-6.6 0-12-5.4-12-12v-40c0-6.6 5.4-12 12-12h136c6.6 0 12 5.4 12 12z"},child:[]}]})(t)}Rn(vn);function B4(){const[t,e]=E.useState([]),[n,r]=E.useState(!1),[s,i]=E.useState(iy(new Date,"yyyy-MM-dd")),[o,a]=E.useState("");E.useEffect(()=>{l()},[s,o]);const l=async()=>{r(!0);const p=fe(Y,"usuarios"),g=(await me(p)).docs.map(T=>({id:T.id,...T.data()})),w=fe(Y,s);let x=(await me(w)).docs.map(T=>({id_Registro:T.id,...T.data()})).map(T=>{const C=g.find(b=>b.id===T.id_user);return C?{...T,...C}:T});o&&(x=x.filter(T=>`${T.nombre} ${T.apellido}`.toLowerCase().includes(o.toLowerCase()))),x.sort((T,C)=>new Date(C.hora)-new Date(T.hora)),e(x),r(!1)},c=()=>{l()},u=t.filter(p=>!p.id_user),h=t.filter(p=>p.id_user),f=p=>btoa(p);return d.jsxs("div",{className:"container mx-auto p-6",children:[d.jsx("h2",{className:"text-3xl font-bold mb-6 text-center",children:"Vista de Administrador"}),d.jsxs("div",{className:"flex justify-between items-center mb-6",children:[d.jsxs("div",{className:"flex items-center space-x-4",children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"datePicker",className:"mr-2 font-semibold",children:"Seleccionar fecha:"}),d.jsx("input",{type:"date",id:"datePicker",value:s,onChange:p=>i(p.target.value),className:"border border-gray-300 rounded px-3 py-2 shadow-sm"})]}),d.jsx("input",{type:"text",placeholder:"Buscar por nombre o apellido",value:o,onChange:p=>a(p.target.value),className:"py-2 px-4 border border-gray-300 rounded-lg shadow-sm"})]}),d.jsxs("button",{className:"flex items-center bg-blue-600 hover:bg-blue-800 text-white font-bold py-2 px-4 rounded shadow-md",onClick:c,children:[d.jsx(rS,{className:"mr-2"})," Actualizar datos"]})]}),n?d.jsx("p",{className:"text-center text-gray-600",children:"Cargando datos..."}):h.length===0&&u.length===0?d.jsx("p",{className:"text-center text-gray-500",children:"No hay registros para la fecha seleccionada."}):d.jsxs("div",{children:[h.length>0&&d.jsxs(d.Fragment,{children:[d.jsx("h2",{className:"text-2xl font-bold mb-4 text-center",children:"Registros"}),d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"min-w-full table-auto border-collapse border border-gray-300 bg-white shadow-sm",children:[d.jsx("thead",{className:"bg-gray-200",children:d.jsxs("tr",{children:[d.jsx("th",{className:"px-4 py-2 border border-gray-300",children:"Código Tarjeta"}),d.jsx("th",{className:"px-4 py-2 border border-gray-300",children:"Nombre"}),d.jsx("th",{className:"px-4 py-2 border border-gray-300",children:"Apellido"}),d.jsx("th",{className:"px-4 py-2 border border-gray-300",children:"Curso"}),d.jsx("th",{className:"px-4 py-2 border border-gray-300",children:"Estado"}),d.jsx("th",{className:"px-4 py-2 border border-gray-300",children:"Hora"}),d.jsx("th",{className:"px-4 py-2 border border-gray-300",children:"Acciones"})]})}),d.jsx("tbody",{children:h.map((p,y)=>d.jsxs("tr",{className:"hover:bg-gray-100",style:{backgroundColor:p.estado==="Admin"||p.estado==="UsuarioAutorizado"?"#e6ffed":"#ffe6e6"},children:[d.jsx("td",{className:"border px-4 py-2 text-center",children:`${p.codigo_tarjeta} (${p.tipoT})`}),d.jsx("td",{className:"border px-4 py-2 text-center",children:p.nombre}),d.jsx("td",{className:"border px-4 py-2 text-center",children:p.apellido}),d.jsx("td",{className:"border px-4 py-2 text-center",children:p.curso}),d.jsx("td",{className:"border px-4 py-2 text-center font-semibold",children:p.estado}),d.jsx("td",{className:"border px-4 py-2 text-center",children:new Date(p.hora).toLocaleTimeString()}),d.jsx("td",{className:"border px-4 py-2 text-center",children:d.jsx(ot,{to:`/usuario/${f(p.codigo_tarjeta)}/${p.tipoT}`,className:"text-blue-600 hover:underline",children:"Ver detalles de usuario"})})]},y))})]})})]}),u.length>0&&d.jsxs("div",{className:"mt-8",children:[d.jsx("h2",{className:"text-2xl font-bold mb-4 text-center",children:"Registros No Registrados"}),d.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-3 gap-6",children:u.map(p=>d.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[d.jsx("h3",{className:"text-lg font-bold mb-2",children:`${p.codigo_tarjeta} (${p.tipoT})`}),d.jsxs("p",{className:"mb-2",children:[d.jsx("span",{className:"font-semibold",children:"Curso:"})," ",p.curso]}),d.jsxs("p",{className:"mb-2",children:[d.jsx("span",{className:"font-semibold",children:"Hora Registro:"})," ",new Date(p.hora).toLocaleTimeString()]}),d.jsx("p",{children:d.jsx(ot,{to:`/admin/eleccionRegistro/${f(p.codigo_tarjeta)}/${f(p.tipoT)}/${f(p.id_Registro)}/${f(s)}`,className:"text-blue-600 hover:underline",children:"Asignar Codigo"})})]},p.codigo_tarjeta))})]})]})]})}const W4=Rn(vn),Rt=({children:t})=>{kn(),kn();const e=()=>{sh(W4).then(()=>{console.log("Cerraste la sesión correctamente")}).catch(n=>{console.error("Error al cerrar la sesión:",n)})};return d.jsxs("div",{className:"flex h-screen",children:[d.jsxs("nav",{className:"bg-red-700 w-64 flex-shrink-0 flex flex-col justify-between",children:[d.jsxs("div",{className:"p-4",children:[d.jsx("img",{src:Fh,alt:"Logo",className:"w-15 h-15 rounded-full mb-4"}),d.jsxs("div",{className:"space-y-4",children:[d.jsx(sa,{to:"/admin",children:"Inicio"}),d.jsx(sa,{to:"/admin/listaUsuarios",children:"Usuarios"}),d.jsx(sa,{to:"/admin/listaAccesos",children:"Accesos"}),d.jsx(sa,{to:"/admin/cursosList",children:"Cursos"}),d.jsx(sa,{to:"/admin/revisarsolicitud",children:"Solicitudes de Acceso"})]})]}),d.jsx("div",{className:"mt-auto",children:d.jsx(ot,{to:"/",onClick:e,className:"block py-2 px-4 rounded text-white hover:bg-red-600 hover:text-white",children:"Log Out"})})]}),d.jsx("main",{className:"flex-1 p-8 overflow-y-auto",children:t})]})},sa=({to:t,children:e})=>d.jsx(ot,{to:t,className:"block py-2 px-4 rounded text-white hover:bg-red-600 hover:text-white",children:e});function _w(){return d.jsx(Rt,{children:d.jsx("div",{children:d.jsx(B4,{})})})}function sS(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(n=sS(t[e]))&&(r&&(r+=" "),r+=n);else for(e in t)t[e]&&(r&&(r+=" "),r+=e);return r}function Qr(){for(var t,e,n=0,r="";n<arguments.length;)(t=arguments[n++])&&(e=sS(t))&&(r&&(r+=" "),r+=e);return r}const Va=t=>typeof t=="number"&&!isNaN(t),di=t=>typeof t=="string",zt=t=>typeof t=="function",pu=t=>di(t)||zt(t)?t:null,Hf=t=>E.isValidElement(t)||di(t)||zt(t)||Va(t);function H4(t,e,n){n===void 0&&(n=300);const{scrollHeight:r,style:s}=t;requestAnimationFrame(()=>{s.minHeight="initial",s.height=r+"px",s.transition=`all ${n}ms`,requestAnimationFrame(()=>{s.height="0",s.padding="0",s.margin="0",setTimeout(e,n)})})}function $h(t){let{enter:e,exit:n,appendPosition:r=!1,collapse:s=!0,collapseDuration:i=300}=t;return function(o){let{children:a,position:l,preventExitTransition:c,done:u,nodeRef:h,isIn:f}=o;const p=r?`${e}--${l}`:e,y=r?`${n}--${l}`:n,g=E.useRef(0);return E.useLayoutEffect(()=>{const w=h.current,m=p.split(" "),_=v=>{v.target===h.current&&(w.dispatchEvent(new Event("d")),w.removeEventListener("animationend",_),w.removeEventListener("animationcancel",_),g.current===0&&v.type!=="animationcancel"&&w.classList.remove(...m))};w.classList.add(...m),w.addEventListener("animationend",_),w.addEventListener("animationcancel",_)},[]),E.useEffect(()=>{const w=h.current,m=()=>{w.removeEventListener("animationend",m),s?H4(w,u,i):u()};f||(c?m():(g.current=1,w.className+=` ${y}`,w.addEventListener("animationend",m)))},[f]),k.createElement(k.Fragment,null,a)}}function ww(t,e){return t!=null?{content:t.content,containerId:t.props.containerId,id:t.props.toastId,theme:t.props.theme,type:t.props.type,data:t.props.data||{},isLoading:t.props.isLoading,icon:t.props.icon,status:e}:{}}const cn={list:new Map,emitQueue:new Map,on(t,e){return this.list.has(t)||this.list.set(t,[]),this.list.get(t).push(e),this},off(t,e){if(e){const n=this.list.get(t).filter(r=>r!==e);return this.list.set(t,n),this}return this.list.delete(t),this},cancelEmit(t){const e=this.emitQueue.get(t);return e&&(e.forEach(clearTimeout),this.emitQueue.delete(t)),this},emit(t){this.list.has(t)&&this.list.get(t).forEach(e=>{const n=setTimeout(()=>{e(...[].slice.call(arguments,1))},0);this.emitQueue.has(t)||this.emitQueue.set(t,[]),this.emitQueue.get(t).push(n)})}},Vc=t=>{let{theme:e,type:n,...r}=t;return k.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:e==="colored"?"currentColor":`var(--toastify-icon-color-${n})`,...r})},zf={info:function(t){return k.createElement(Vc,{...t},k.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))},warning:function(t){return k.createElement(Vc,{...t},k.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(t){return k.createElement(Vc,{...t},k.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))},error:function(t){return k.createElement(Vc,{...t},k.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))},spinner:function(){return k.createElement("div",{className:"Toastify__spinner"})}};function z4(t){const[,e]=E.useReducer(p=>p+1,0),[n,r]=E.useState([]),s=E.useRef(null),i=E.useRef(new Map).current,o=p=>n.indexOf(p)!==-1,a=E.useRef({toastKey:1,displayedToast:0,count:0,queue:[],props:t,containerId:null,isToastActive:o,getToast:p=>i.get(p)}).current;function l(p){let{containerId:y}=p;const{limit:g}=a.props;!g||y&&a.containerId!==y||(a.count-=a.queue.length,a.queue=[])}function c(p){r(y=>p==null?[]:y.filter(g=>g!==p))}function u(){const{toastContent:p,toastProps:y,staleId:g}=a.queue.shift();f(p,y,g)}function h(p,y){let{delay:g,staleId:w,...m}=y;if(!Hf(p)||function(M){return!s.current||a.props.enableMultiContainer&&M.containerId!==a.props.containerId||i.has(M.toastId)&&M.updateId==null}(m))return;const{toastId:_,updateId:v,data:x}=m,{props:T}=a,C=()=>c(_),b=v==null;b&&a.count++;const S={...T,style:T.toastStyle,key:a.toastKey++,...Object.fromEntries(Object.entries(m).filter(M=>{let[W,j]=M;return j!=null})),toastId:_,updateId:v,data:x,closeToast:C,isIn:!1,className:pu(m.className||T.toastClassName),bodyClassName:pu(m.bodyClassName||T.bodyClassName),progressClassName:pu(m.progressClassName||T.progressClassName),autoClose:!m.isLoading&&(D=m.autoClose,I=T.autoClose,D===!1||Va(D)&&D>0?D:I),deleteToast(){const M=ww(i.get(_),"removed");i.delete(_),cn.emit(4,M);const W=a.queue.length;if(a.count=_==null?a.count-a.displayedToast:a.count-1,a.count<0&&(a.count=0),W>0){const j=_==null?a.props.limit:1;if(W===1||j===1)a.displayedToast++,u();else{const F=j>W?W:j;a.displayedToast=F;for(let O=0;O<F;O++)u()}}else e()}};var D,I;S.iconOut=function(M){let{theme:W,type:j,isLoading:F,icon:O}=M,K=null;const A={theme:W,type:j};return O===!1||(zt(O)?K=O(A):E.isValidElement(O)?K=E.cloneElement(O,A):di(O)||Va(O)?K=O:F?K=zf.spinner():(H=>H in zf)(j)&&(K=zf[j](A))),K}(S),zt(m.onOpen)&&(S.onOpen=m.onOpen),zt(m.onClose)&&(S.onClose=m.onClose),S.closeButton=T.closeButton,m.closeButton===!1||Hf(m.closeButton)?S.closeButton=m.closeButton:m.closeButton===!0&&(S.closeButton=!Hf(T.closeButton)||T.closeButton);let P=p;E.isValidElement(p)&&!di(p.type)?P=E.cloneElement(p,{closeToast:C,toastProps:S,data:x}):zt(p)&&(P=p({closeToast:C,toastProps:S,data:x})),T.limit&&T.limit>0&&a.count>T.limit&&b?a.queue.push({toastContent:P,toastProps:S,staleId:w}):Va(g)?setTimeout(()=>{f(P,S,w)},g):f(P,S,w)}function f(p,y,g){const{toastId:w}=y;g&&i.delete(g);const m={content:p,props:y};i.set(w,m),r(_=>[..._,w].filter(v=>v!==g)),cn.emit(4,ww(m,m.props.updateId==null?"added":"updated"))}return E.useEffect(()=>(a.containerId=t.containerId,cn.cancelEmit(3).on(0,h).on(1,p=>s.current&&c(p)).on(5,l).emit(2,a),()=>{i.clear(),cn.emit(3,a)}),[]),E.useEffect(()=>{a.props=t,a.isToastActive=o,a.displayedToast=n.length}),{getToastToRender:function(p){const y=new Map,g=Array.from(i.values());return t.newestOnTop&&g.reverse(),g.forEach(w=>{const{position:m}=w.props;y.has(m)||y.set(m,[]),y.get(m).push(w)}),Array.from(y,w=>p(w[0],w[1]))},containerRef:s,isToastActive:o}}function Ew(t){return t.targetTouches&&t.targetTouches.length>=1?t.targetTouches[0].clientX:t.clientX}function xw(t){return t.targetTouches&&t.targetTouches.length>=1?t.targetTouches[0].clientY:t.clientY}function Y4(t){const[e,n]=E.useState(!1),[r,s]=E.useState(!1),i=E.useRef(null),o=E.useRef({start:0,x:0,y:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,boundingRect:null,didMove:!1}).current,a=E.useRef(t),{autoClose:l,pauseOnHover:c,closeToast:u,onClick:h,closeOnClick:f}=t;function p(x){if(t.draggable){x.nativeEvent.type==="touchstart"&&x.nativeEvent.preventDefault(),o.didMove=!1,document.addEventListener("mousemove",m),document.addEventListener("mouseup",_),document.addEventListener("touchmove",m),document.addEventListener("touchend",_);const T=i.current;o.canCloseOnClick=!0,o.canDrag=!0,o.boundingRect=T.getBoundingClientRect(),T.style.transition="",o.x=Ew(x.nativeEvent),o.y=xw(x.nativeEvent),t.draggableDirection==="x"?(o.start=o.x,o.removalDistance=T.offsetWidth*(t.draggablePercent/100)):(o.start=o.y,o.removalDistance=T.offsetHeight*(t.draggablePercent===80?1.5*t.draggablePercent:t.draggablePercent/100))}}function y(x){if(o.boundingRect){const{top:T,bottom:C,left:b,right:S}=o.boundingRect;x.nativeEvent.type!=="touchend"&&t.pauseOnHover&&o.x>=b&&o.x<=S&&o.y>=T&&o.y<=C?w():g()}}function g(){n(!0)}function w(){n(!1)}function m(x){const T=i.current;o.canDrag&&T&&(o.didMove=!0,e&&w(),o.x=Ew(x),o.y=xw(x),o.delta=t.draggableDirection==="x"?o.x-o.start:o.y-o.start,o.start!==o.x&&(o.canCloseOnClick=!1),T.style.transform=`translate${t.draggableDirection}(${o.delta}px)`,T.style.opacity=""+(1-Math.abs(o.delta/o.removalDistance)))}function _(){document.removeEventListener("mousemove",m),document.removeEventListener("mouseup",_),document.removeEventListener("touchmove",m),document.removeEventListener("touchend",_);const x=i.current;if(o.canDrag&&o.didMove&&x){if(o.canDrag=!1,Math.abs(o.delta)>o.removalDistance)return s(!0),void t.closeToast();x.style.transition="transform 0.2s, opacity 0.2s",x.style.transform=`translate${t.draggableDirection}(0)`,x.style.opacity="1"}}E.useEffect(()=>{a.current=t}),E.useEffect(()=>(i.current&&i.current.addEventListener("d",g,{once:!0}),zt(t.onOpen)&&t.onOpen(E.isValidElement(t.children)&&t.children.props),()=>{const x=a.current;zt(x.onClose)&&x.onClose(E.isValidElement(x.children)&&x.children.props)}),[]),E.useEffect(()=>(t.pauseOnFocusLoss&&(document.hasFocus()||w(),window.addEventListener("focus",g),window.addEventListener("blur",w)),()=>{t.pauseOnFocusLoss&&(window.removeEventListener("focus",g),window.removeEventListener("blur",w))}),[t.pauseOnFocusLoss]);const v={onMouseDown:p,onTouchStart:p,onMouseUp:y,onTouchEnd:y};return l&&c&&(v.onMouseEnter=w,v.onMouseLeave=g),f&&(v.onClick=x=>{h&&h(x),o.canCloseOnClick&&u()}),{playToast:g,pauseToast:w,isRunning:e,preventExitTransition:r,toastRef:i,eventHandlers:v}}function iS(t){let{closeToast:e,theme:n,ariaLabel:r="close"}=t;return k.createElement("button",{className:`Toastify__close-button Toastify__close-button--${n}`,type:"button",onClick:s=>{s.stopPropagation(),e(s)},"aria-label":r},k.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},k.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function q4(t){let{delay:e,isRunning:n,closeToast:r,type:s="default",hide:i,className:o,style:a,controlledProgress:l,progress:c,rtl:u,isIn:h,theme:f}=t;const p=i||l&&c===0,y={...a,animationDuration:`${e}ms`,animationPlayState:n?"running":"paused",opacity:p?0:1};l&&(y.transform=`scaleX(${c})`);const g=Qr("Toastify__progress-bar",l?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${f}`,`Toastify__progress-bar--${s}`,{"Toastify__progress-bar--rtl":u}),w=zt(o)?o({rtl:u,type:s,defaultClassName:g}):Qr(g,o);return k.createElement("div",{role:"progressbar","aria-hidden":p?"true":"false","aria-label":"notification timer",className:w,style:y,[l&&c>=1?"onTransitionEnd":"onAnimationEnd"]:l&&c<1?null:()=>{h&&r()}})}const Q4=t=>{const{isRunning:e,preventExitTransition:n,toastRef:r,eventHandlers:s}=Y4(t),{closeButton:i,children:o,autoClose:a,onClick:l,type:c,hideProgressBar:u,closeToast:h,transition:f,position:p,className:y,style:g,bodyClassName:w,bodyStyle:m,progressClassName:_,progressStyle:v,updateId:x,role:T,progress:C,rtl:b,toastId:S,deleteToast:D,isIn:I,isLoading:P,iconOut:M,closeOnClick:W,theme:j}=t,F=Qr("Toastify__toast",`Toastify__toast-theme--${j}`,`Toastify__toast--${c}`,{"Toastify__toast--rtl":b},{"Toastify__toast--close-on-click":W}),O=zt(y)?y({rtl:b,position:p,type:c,defaultClassName:F}):Qr(F,y),K=!!C||!a,A={closeToast:h,type:c,theme:j};let H=null;return i===!1||(H=zt(i)?i(A):E.isValidElement(i)?E.cloneElement(i,A):iS(A)),k.createElement(f,{isIn:I,done:D,position:p,preventExitTransition:n,nodeRef:r},k.createElement("div",{id:S,onClick:l,className:O,...s,style:g,ref:r},k.createElement("div",{...I&&{role:T},className:zt(w)?w({type:c}):Qr("Toastify__toast-body",w),style:m},M!=null&&k.createElement("div",{className:Qr("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!P})},M),k.createElement("div",null,o)),H,k.createElement(q4,{...x&&!K?{key:`pb-${x}`}:{},rtl:b,theme:j,delay:a,isRunning:e,isIn:I,closeToast:h,hide:u,type:c,style:v,className:_,controlledProgress:K,progress:C||0})))},Uh=function(t,e){return e===void 0&&(e=!1),{enter:`Toastify--animate Toastify__${t}-enter`,exit:`Toastify--animate Toastify__${t}-exit`,appendPosition:e}},K4=$h(Uh("bounce",!0));$h(Uh("slide",!0));$h(Uh("zoom"));$h(Uh("flip"));const In=E.forwardRef((t,e)=>{const{getToastToRender:n,containerRef:r,isToastActive:s}=z4(t),{className:i,style:o,rtl:a,containerId:l}=t;function c(u){const h=Qr("Toastify__toast-container",`Toastify__toast-container--${u}`,{"Toastify__toast-container--rtl":a});return zt(i)?i({position:u,rtl:a,defaultClassName:h}):Qr(h,pu(i))}return E.useEffect(()=>{e&&(e.current=r.current)},[]),k.createElement("div",{ref:r,className:"Toastify",id:l},n((u,h)=>{const f=h.length?{...o}:{...o,pointerEvents:"none"};return k.createElement("div",{className:c(u),style:f,key:`container-${u}`},h.map((p,y)=>{let{content:g,props:w}=p;return k.createElement(Q4,{...w,isIn:s(w.toastId),style:{...w.style,"--nth":y+1,"--len":h.length},key:`toast-${w.key}`},g)}))}))});In.displayName="ToastContainer",In.defaultProps={position:"top-right",transition:K4,autoClose:5e3,closeButton:iS,pauseOnHover:!0,pauseOnFocusLoss:!0,closeOnClick:!0,draggable:!0,draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light"};let Yf,Os=new Map,wa=[],G4=1;function oS(){return""+G4++}function X4(t){return t&&(di(t.toastId)||Va(t.toastId))?t.toastId:oS()}function $a(t,e){return Os.size>0?cn.emit(0,t,e):wa.push({content:t,options:e}),e.toastId}function xd(t,e){return{...e,type:e&&e.type||t,toastId:X4(e)}}function $c(t){return(e,n)=>$a(e,xd(t,n))}function J(t,e){return $a(t,xd("default",e))}J.loading=(t,e)=>$a(t,xd("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e})),J.promise=function(t,e,n){let r,{pending:s,error:i,success:o}=e;s&&(r=di(s)?J.loading(s,n):J.loading(s.render,{...n,...s}));const a={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},l=(u,h,f)=>{if(h==null)return void J.dismiss(r);const p={type:u,...a,...n,data:f},y=di(h)?{render:h}:h;return r?J.update(r,{...p,...y}):J(y.render,{...p,...y}),f},c=zt(t)?t():t;return c.then(u=>l("success",o,u)).catch(u=>l("error",i,u)),c},J.success=$c("success"),J.info=$c("info"),J.error=$c("error"),J.warning=$c("warning"),J.warn=J.warning,J.dark=(t,e)=>$a(t,xd("default",{theme:"dark",...e})),J.dismiss=t=>{Os.size>0?cn.emit(1,t):wa=wa.filter(e=>t!=null&&e.options.toastId!==t)},J.clearWaitingQueue=function(t){return t===void 0&&(t={}),cn.emit(5,t)},J.isActive=t=>{let e=!1;return Os.forEach(n=>{n.isToastActive&&n.isToastActive(t)&&(e=!0)}),e},J.update=function(t,e){e===void 0&&(e={}),setTimeout(()=>{const n=function(r,s){let{containerId:i}=s;const o=Os.get(i||Yf);return o&&o.getToast(r)}(t,e);if(n){const{props:r,content:s}=n,i={delay:100,...r,...e,toastId:e.toastId||t,updateId:oS()};i.toastId!==t&&(i.staleId=t);const o=i.render||s;delete i.render,$a(o,i)}},0)},J.done=t=>{J.update(t,{progress:1})},J.onChange=t=>(cn.on(4,t),()=>{cn.off(4,t)}),J.POSITION={TOP_LEFT:"top-left",TOP_RIGHT:"top-right",TOP_CENTER:"top-center",BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",BOTTOM_CENTER:"bottom-center"},J.TYPE={INFO:"info",SUCCESS:"success",WARNING:"warning",ERROR:"error",DEFAULT:"default"},cn.on(2,t=>{Yf=t.containerId||t,Os.set(Yf,t),wa.forEach(e=>{cn.emit(0,e.content,e.options)}),wa=[]}).on(3,t=>{Os.delete(t.containerId||t),Os.size===0&&cn.off(0).off(1).off(5)});const bw=Rn(vn),J4=()=>{const t=Gt(),[e,n]=E.useState(""),[r,s]=E.useState(""),[i,o]=E.useState(""),[a,l]=E.useState(""),[c,u]=E.useState(""),[h,f]=E.useState(""),[p,y]=E.useState(""),[g,w]=E.useState(""),[m,_]=E.useState(""),[v,x]=E.useState(!1),[T,C]=E.useState(!1);async function b(D,I){const P=Xe(fe(Y,"usuarios"),_e(D,"==",I));return!(await me(P)).empty}async function S(D){D.preventDefault();try{if(console.log(e,r,i,a,c,h,p,g,m),h&&await b("tarjetaRFID",h)){J.error("La tarjeta RFID ya está en uso.",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0});return}if(c&&await b("dispositivoCodigo",c)){J.error("El código del dispositivo ya está en uso.",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0});return}const I=await Gg(bw,e,r);console.log(I.user.uid);const P=ue(Y,`usuarios/${I.user.uid}`);await gd(P,{apellido:a,dispositivoCodigo:c,tarjetaRFID:h,email:e,nombre:i,rol:p,accesoRfid:g,accesoNFC:m,activo:!0}),await sh(bw),J.success("¡Registro exitoso!",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,onClose:()=>t("/")})}catch(I){I.code==="auth/email-already-in-use"?alert("Error: Este email ya está en uso. Por favor, use una dirección de email diferente."):alert("Error: "+I.message)}}return d.jsx(Rt,{children:d.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:[d.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-md w-full max-w-lg",children:[d.jsx("h2",{className:"text-3xl font-bold mb-6 text-center text-cyan-600",children:"Registrar Usuario"}),d.jsxs("form",{onSubmit:S,children:[d.jsxs("div",{className:"mb-4",children:[d.jsx("label",{htmlFor:"nombre",className:"block text-gray-700 font-semibold mb-2",children:"Nombre:"}),d.jsx("input",{id:"nombre",onChange:D=>o(D.target.value),className:"input-field",placeholder:"Nombre",required:!0})]}),d.jsxs("div",{className:"mb-4",children:[d.jsx("label",{htmlFor:"apellido",className:"block text-gray-700 font-semibold mb-2",children:"Apellido:"}),d.jsx("input",{id:"apellido",onChange:D=>l(D.target.value),className:"input-field",placeholder:"Apellido",required:!0})]}),d.jsxs("div",{className:"mb-4",children:[d.jsx("label",{htmlFor:"email",className:"block text-gray-700 font-semibold mb-2",children:"Email:"}),d.jsx("input",{type:"email",id:"email",onChange:D=>n(D.target.value),className:"input-field",placeholder:"Email",required:!0,autoComplete:"off"})]}),d.jsxs("div",{className:"mb-6",children:[d.jsx("label",{htmlFor:"password",className:"block text-gray-700 font-semibold mb-2",children:"Contraseña:"}),d.jsx("input",{type:"password",id:"password",onChange:D=>s(D.target.value),className:"input-field",placeholder:"Contraseña",required:!0,autoComplete:"off"})]}),d.jsxs("div",{className:"mb-4",children:[d.jsx("label",{htmlFor:"roles",className:"block text-gray-700 font-semibold mb-2",children:"Rol:"}),d.jsxs("select",{id:"roles",className:"select-field",defaultValue:"Elige Rol",onChange:D=>y(D.target.value),required:!0,children:[d.jsx("option",{disabled:!0,children:"Elige Rol"}),d.jsx("option",{value:"Admin",children:"Admin"}),d.jsx("option",{value:"Docente",children:"Docente"})]})]}),d.jsx("div",{className:"mb-4",children:d.jsxs("button",{type:"button",onClick:()=>x(!v),className:"button-secondary",children:[v?"Ocultar":"Agregar"," Acceso RFID"]})}),v&&d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"mb-4",children:[d.jsx("label",{htmlFor:"tarjetaRFID",className:"block text-gray-700 font-semibold mb-2",children:"Tarjeta RFID:"}),d.jsx("input",{id:"tarjetaRFID",onChange:D=>f(D.target.value),className:"input-field",placeholder:"Tarjeta RFID"})]}),d.jsxs("div",{className:"mb-4",children:[d.jsx("label",{htmlFor:"accesoRfid",className:"block text-gray-700 font-semibold mb-2",children:"Acceso RFID:"}),d.jsxs("select",{id:"accesoRfid",className:"select-field",defaultValue:"Elige Acceso",onChange:D=>w(D.target.value),children:[d.jsx("option",{disabled:!0,children:"Elige Acceso"}),d.jsx("option",{value:"Denegado",children:"Denegado"}),d.jsx("option",{value:"Aceptado",children:"Aceptado"})]})]})]}),d.jsx("div",{className:"mb-4",children:d.jsxs("button",{type:"button",onClick:()=>C(!T),className:"button-secondary",children:[T?"Ocultar":"Agregar"," Acceso NFC"]})}),T&&d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"mb-4",children:[d.jsx("label",{htmlFor:"dispositivoCodigo",className:"block text-gray-700 font-semibold mb-2",children:"Código Dispositivo:"}),d.jsx("input",{id:"dispositivoCodigo",onChange:D=>u(D.target.value),className:"input-field",placeholder:"Código Dispositivo"})]}),d.jsxs("div",{className:"mb-4",children:[d.jsx("label",{htmlFor:"accesoNFC",className:"block text-gray-700 font-semibold mb-2",children:"Acceso NFC:"}),d.jsxs("select",{id:"accesoNFC",className:"select-field",defaultValue:"Elige Acceso",onChange:D=>_(D.target.value),children:[d.jsx("option",{disabled:!0,children:"Elige Acceso"}),d.jsx("option",{value:"Denegado",children:"Denegado"}),d.jsx("option",{value:"Aceptado",children:"Aceptado"})]})]})]}),d.jsx("div",{className:"text-center",children:d.jsx("button",{type:"submit",className:"button-primary",children:"Registrar"})})]})]}),d.jsx(In,{})]})})},Z4=()=>{const[t,e]=E.useState([]),[n,r]=E.useState([]),[s,i]=E.useState(""),[o,a]=E.useState(0),[l,c]=E.useState(!1),u=5,h=Gt(),f=()=>{const b=cL(fe(Y,"usuarios"),S=>{const D=[],I=[];S.forEach(P=>{const M=P.data();M.activo!==!1?D.push({id:P.id,...M}):I.push({id:P.id,...M})}),D.sort((P,M)=>P.apellido.localeCompare(M.apellido)),e(D),r(I)});return()=>b()};E.useEffect(()=>{f()},[]);const p=()=>{f()},y=async(b,S,D)=>{try{const I=ue(Y,"usuarios",b);await Ve(I,{[S]:D}),console.log("Acceso actualizado correctamente");const P=ue(Y,"refrescar","Dbmut9yeBWbs1bJkWurJ");await Ve(P,{refrescar:!0})}catch(I){console.error("Error al actualizar el acceso:",I.message)}},g=async b=>{try{const S=ue(Y,"usuarios",b);await Ve(S,{activo:!1}),await w(b);const D=ue(Y,"refrescar","Dbmut9yeBWbs1bJkWurJ");await Ve(D,{refrescar:!0}),console.log("Usuario y accesos marcados como inactivos correctamente")}catch(S){console.error("Error al marcar el usuario como inactivo:",S.message)}},w=async b=>{try{const S=Xe(fe(Y,"acceso"),_e("id_user","==",b)),D=await me(S),I=KC(Y);D.forEach(P=>{I.delete(P.ref)}),await I.commit(),console.log("Accesos del usuario eliminados correctamente")}catch(S){console.error("Error al eliminar accesos del usuario:",S.message)}},m=b=>b==="Aceptado"?"bg-red-500 hover:bg-red-600":b==="Denegado"?"bg-green-500 hover:bg-green-600":"bg-gray-500 hover:bg-gray-600",_=b=>b==="Aceptado"?"text-green-700":b==="Denegado"?"text-red-700":"",v=b=>{i(b.target.value)},x=t.filter(b=>`${b.nombre} ${b.apellido}`.toLowerCase().includes(s.toLowerCase())),T=l?n:x,C=T.slice(o*u,(o+1)*u);return d.jsx(Rt,{children:d.jsxs("div",{className:"container mx-auto p-6",children:[d.jsx("h2",{className:"text-3xl font-semibold mb-6 text-center",children:l?"Usuarios Eliminados":"Lista de Usuarios"}),d.jsxs("div",{className:"flex justify-between items-center mb-6",children:[!l&&d.jsx("input",{type:"text",placeholder:"Buscar por nombre o apellido",value:s,onChange:v,className:"py-2 px-4 border border-gray-300 rounded-lg w-1/3 placeholder-gray-500"}),d.jsxs("div",{className:"flex space-x-2",children:[d.jsx(ot,{to:"/registroUser",className:"bg-blue-500 text-white py-2 px-4 rounded-md hover:bg-blue-600",children:"Registrar Usuario"}),d.jsx("button",{onClick:p,className:"bg-blue-500 text-white py-2 px-4 rounded-md hover:bg-blue-600",children:"Actualizar Usuarios"}),d.jsx("button",{onClick:()=>c(!l),className:"bg-yellow-500 text-white py-2 px-4 rounded-md hover:bg-yellow-600",children:l?"Usuarios Activos":"Usuarios Eliminados"})]})]}),d.jsx("div",{className:"overflow-x-auto",children:l&&n.length===0?d.jsx("div",{className:"text-center py-4 text-gray-500",children:"Sin usuarios eliminados"}):d.jsxs(d.Fragment,{children:[d.jsxs("table",{className:"min-w-full bg-white border border-gray-300",children:[d.jsx("thead",{className:"bg-gray-100",children:d.jsx("tr",{children:l?d.jsx(d.Fragment,{children:["Nombre","Email","Rol","Restaurar Usuario"].map(b=>d.jsx("th",{className:"py-3 px-4 border-b text-left text-gray-600",children:b},b))}):d.jsx(d.Fragment,{children:["Nombre","Email","Rol","Código Tarjeta RFID","Acción RFID","Código Dispositivo NFC","Acción NFC","Editar","Eliminar"].map(b=>d.jsx("th",{className:"py-3 px-4 border-b text-left text-gray-600",children:b},b))})})}),d.jsx("tbody",{children:l?d.jsx(d.Fragment,{children:C.map(b=>d.jsxs("tr",{className:"hover:bg-gray-50",children:[d.jsx("td",{className:"py-2 px-4 border-b",children:`${b.nombre} ${b.apellido}`}),d.jsx("td",{className:"py-2 px-4 border-b",children:b.email}),d.jsx("td",{className:"py-2 px-4 border-b",children:b.rol}),d.jsx("td",{className:"py-2 px-4 border-b text-center",children:d.jsx("button",{className:"bg-green-500 text-white py-1 px-3 rounded hover:bg-green-600",onClick:()=>y(b.id,"activo",!0),children:"Activar Usuario"})})]},b.id))}):d.jsx(d.Fragment,{children:C.map(b=>d.jsxs("tr",{className:"hover:bg-gray-50",children:[d.jsx("td",{className:"py-2 px-4 border-b",children:`${b.nombre} ${b.apellido}`}),d.jsx("td",{className:"py-2 px-4 border-b",children:b.email}),d.jsx("td",{className:"py-2 px-4 border-b",children:b.rol}),d.jsx("td",{className:"py-2 px-4 border-b",children:b.tarjetaRFID&&d.jsxs(d.Fragment,{children:[b.tarjetaRFID," (",d.jsx("span",{className:_(b.accesoRfid),children:b.accesoRfid==="Aceptado"?"Activo":"Bloqueado"}),")"]})}),d.jsx("td",{className:"py-2 px-4 border-b text-center",children:b.tarjetaRFID&&d.jsx("button",{className:`${m(b.accesoRfid)} text-white py-1 px-3 rounded`,onClick:()=>y(b.id,"accesoRfid",b.accesoRfid==="Aceptado"?"Denegado":"Aceptado"),children:b.accesoRfid==="Aceptado"?"Denegar Acceso RFID":"Permitir Acceso RFID"})}),d.jsx("td",{className:"py-2 px-4 border-b",children:b.dispositivoCodigo&&d.jsxs(d.Fragment,{children:[b.dispositivoCodigo," (",d.jsx("span",{className:_(b.accesoNFC),children:b.accesoNFC==="Aceptado"?"Activo":"Bloqueado"}),")"]})}),d.jsx("td",{className:"py-2 px-4 border-b text-center",children:b.dispositivoCodigo&&d.jsx("button",{className:`${m(b.accesoNFC)} text-white py-1 px-3 rounded`,onClick:()=>y(b.id,"accesoNFC",b.accesoNFC==="Aceptado"?"Denegado":"Aceptado"),children:b.accesoNFC==="Aceptado"?"Denegar Acceso NFC":"Permitir Acceso NFC"})}),d.jsx("td",{className:"py-2 px-4 border-b text-center",children:d.jsx("button",{className:"bg-yellow-500 text-white py-1 px-3 rounded hover:bg-yellow-600",onClick:()=>h(`/admin/editarUsuario/${b.id}`),children:"Editar"})}),d.jsx("td",{className:"py-2 px-4 border-b text-center",children:d.jsx("button",{className:"bg-red-600 text-white py-1 px-3 rounded hover:bg-red-700",onClick:()=>g(b.id),children:"Eliminar"})})]},b.id))})})]}),d.jsxs("div",{className:"flex justify-center items-center mt-6",children:[d.jsx("button",{className:"bg-blue-500 text-white py-2 px-4 rounded-md mr-2",onClick:()=>a(b=>Math.max(b-1,0)),disabled:o===0,children:"Anterior"}),d.jsxs("span",{className:"mx-4",children:["Página ",o+1]}),d.jsx("button",{className:"bg-blue-500 text-white py-2 px-4 rounded-md ml-2",onClick:()=>a(b=>Math.min(b+1,Math.ceil(T.length/u)-1)),disabled:o===Math.ceil(T.length/u)-1,children:"Siguiente"})]})]})})]})})};function eF(t){return bi({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M17 6H22V8H20V21C20 21.5523 19.5523 22 19 22H5C4.44772 22 4 21.5523 4 21V8H2V6H7V3C7 2.44772 7.44772 2 8 2H16C16.5523 2 17 2.44772 17 3V6ZM18 8H6V20H18V8ZM9 11H11V17H9V11ZM13 11H15V17H13V11ZM9 4V6H15V4H9Z"},child:[]}]})(t)}const Tw=["Lunes","Martes","Miércoles","Jueves","Viernes","Sábado","Domingo"];function tF(){const[t,e]=E.useState([]),[n,r]=E.useState([]),[s,i]=E.useState(!1),[o,a]=E.useState([]),[l,c]=E.useState(""),[u,h]=E.useState(""),[f,p]=E.useState(""),[y,g]=E.useState(0),[w,m]=E.useState(0),_=4;E.useEffect(()=>{x(),v()},[l,u,f]);const v=async()=>{try{const S=fe(Y,"curso"),I=(await me(S)).docs.map(P=>({id:P.id,...P.data()}));a(I)}catch(S){console.error("Error al obtener los cursos:",S)}},x=async()=>{i(!0);try{const S=fe(Y,"acceso"),I=(await me(S)).docs.map(A=>({idAcess:A.id,...A.data()})),P=fe(Y,"usuarios"),W=(await me(P)).docs.map(A=>({id:A.id,...A.data()}));let F=I.map(A=>{const H=W.find(re=>re.id===A.id_user);return H?{...A,...H}:A});l&&(F=F.filter(A=>A.curso===l)),u!==""&&(F=F.filter(A=>A.dia===parseInt(u))),f&&(F=F.filter(A=>`${A.nombre} ${A.apellido}`.toLowerCase().includes(f.toLowerCase())));const O=F.filter(A=>A.dia!==void 0),K=F.filter(A=>A.fecha!==void 0);e(O),r(K),i(!1)}catch(S){console.error("Error al obtener los datos:",S),i(!1)}},T=async S=>{try{const D=ue(Y,"acceso",S);await qC(D),console.log("Acceso eliminado correctamente");const I=ue(Y,"refrescar","Dbmut9yeBWbs1bJkWurJ");await Ve(I,{refrescar:!0}),x()}catch(D){console.error("Error al eliminar el acceso:",D)}},C=S=>`${S}:00`,b=(S,D,I,P)=>{const M=D*_,W=M+_,j=S.slice(M,W),F=Math.ceil(S.length/_);return d.jsxs(d.Fragment,{children:[d.jsxs("table",{className:"min-w-full table-auto border-collapse border border-gray-300",children:[d.jsx("thead",{className:"bg-gray-100",children:d.jsxs("tr",{children:[d.jsx("th",{className:"px-4 py-2 border border-gray-300 text-left",children:"Nombre"}),d.jsx("th",{className:"px-4 py-2 border border-gray-300 text-left",children:"Apellido"}),d.jsx("th",{className:"px-4 py-2 border border-gray-300 text-left",children:"Rol"}),d.jsx("th",{className:"px-4 py-2 border border-gray-300 text-left",children:"Curso"}),P==="normal"?d.jsx("th",{className:"px-4 py-2 border border-gray-300 text-left",children:"Día"}):d.jsx("th",{className:"px-4 py-2 border border-gray-300 text-left",children:"Fecha"}),d.jsx("th",{className:"px-4 py-2 border border-gray-300 text-left",children:"Hora de Entrada"}),d.jsx("th",{className:"px-4 py-2 border border-gray-300 text-left",children:"Hora de Salida"}),d.jsx("th",{className:"px-4 py-2 border border-gray-300 text-center",children:"Acciones"})]})}),d.jsx("tbody",{children:j.map((O,K)=>d.jsxs("tr",{className:"hover:bg-gray-100",children:[d.jsx("td",{className:"border px-4 py-2",children:O.nombre}),d.jsx("td",{className:"border px-4 py-2",children:O.apellido}),d.jsx("td",{className:"border px-4 py-2",children:O.rol}),d.jsx("td",{className:"border px-4 py-2",children:O.curso}),P==="normal"?d.jsx("td",{className:"border px-4 py-2",children:Tw[O.dia]}):d.jsx("td",{className:"border px-4 py-2",children:O.fecha}),d.jsx("td",{className:"border px-4 py-2",children:C(O.hora_inicio)}),d.jsx("td",{className:"border px-4 py-2",children:C(O.hora_fin)}),d.jsx("td",{className:"border px-4 py-2 text-center",children:d.jsx("button",{onClick:()=>T(O.idAcess),className:"text-red-600 hover:text-red-800",children:d.jsx(eF,{size:24})})})]},K))})]}),d.jsxs("div",{className:"flex justify-between mt-4",children:[d.jsx("button",{onClick:()=>I(O=>Math.max(O-1,0)),disabled:D===0,className:"px-4 py-2 bg-gray-300 rounded hover:bg-gray-400",children:"Anterior"}),d.jsxs("span",{children:["Página ",D+1," de ",F]}),d.jsx("button",{onClick:()=>I(O=>Math.min(O+1,F-1)),disabled:D===F-1,className:"px-4 py-2 bg-gray-300 rounded hover:bg-gray-400",children:"Siguiente"})]})]})};return d.jsx(Rt,{children:d.jsxs("div",{className:"container mx-auto p-6",children:[d.jsx("h2",{className:"text-3xl font-semibold mb-6 text-center",children:"Lista de Accesos"}),d.jsxs("div",{className:"flex justify-between items-center mb-6",children:[d.jsx("input",{type:"text",placeholder:"Buscar por nombre o apellido",value:f,onChange:S=>p(S.target.value),className:"py-2 px-4 border border-gray-300 rounded-lg w-1/3 placeholder-black"}),d.jsx(ot,{to:"/admin/crearNewAcceso",className:"bg-blue-500 text-white py-2 px-4 rounded-md hover:bg-blue-600",children:"Registrar Nuevo Acceso"})]}),d.jsxs("div",{className:"flex mb-6 space-x-4",children:[d.jsxs("div",{className:"w-1/2",children:[d.jsx("label",{htmlFor:"filtroCurso",className:"block text-gray-700 font-semibold mb-2",children:"Filtrar por Curso:"}),d.jsxs("select",{id:"filtroCurso",value:l,onChange:S=>c(S.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg",children:[d.jsx("option",{value:"",children:"Todos los cursos"}),o.map(S=>d.jsx("option",{value:S.ubicacion,children:S.ubicacion},S.id))]})]}),d.jsxs("div",{className:"w-1/2",children:[d.jsx("label",{htmlFor:"filtroDia",className:"block text-gray-700 font-semibold mb-2",children:"Filtrar por Día:"}),d.jsxs("select",{id:"filtroDia",value:u,onChange:S=>h(S.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg",children:[d.jsx("option",{value:"",children:"Todos los días"}),Tw.map((S,D)=>d.jsx("option",{value:D,children:S},D))]})]})]}),s?d.jsx("p",{className:"text-center",children:"Cargando datos..."}):d.jsx(d.Fragment,{children:t.length===0&&n.length===0?d.jsx("p",{className:"text-center text-gray-500",children:"No hay registros disponibles."}):d.jsxs(d.Fragment,{children:[t.length>0&&d.jsxs("div",{className:"mb-8",children:[d.jsx("h3",{className:"text-2xl font-semibold mb-4",children:"Accesos Normales"}),b(t,y,g,"normal")]}),n.length>0&&d.jsxs("div",{children:[d.jsx("h3",{className:"text-2xl font-semibold mb-4",children:"Accesos Especiales"}),b(n,w,m,"especial")]})]})})]})})}function nF(){const{codigo_tarjeta:t,tipoT:e}=Oo(),[n,r]=E.useState(null),s=atob(t),i=Gt();E.useEffect(()=>{o()},[s,e]);const o=async()=>{try{const l=fe(Y,"usuarios");let c;e==="RFID"?c=Xe(l,_e("tarjetaRFID","==",s)):e==="NFC"&&(c=Xe(l,_e("dispositivoCodigo","==",s)));const u=await me(c);if(u.empty)console.log("No existe el usuario con el código de tarjeta especificado");else{const h=u.docs[0].data();r({id:u.docs[0].id,...h})}}catch(l){console.error("Error al obtener los datos del usuario:",l)}},a=l=>l==="Aceptado"?"text-green-500 font-semibold":l==="Denegado"?"text-red-500 font-semibold":"text-gray-500 font-semibold";return d.jsx(Rt,{children:d.jsxs("div",{className:"container mx-auto p-6 min-h-screen",children:[d.jsxs("div",{className:"flex justify-between items-center mb-6",children:[d.jsx("h2",{className:"text-3xl font-bold text-center text-cyan-600",children:"Detalles del Usuario"}),d.jsx("button",{onClick:()=>i("/admin"),className:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded",children:"Volver a Administración"})]}),n?d.jsx("div",{className:"bg-white shadow-lg rounded-lg p-8",children:d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",children:"Nombre:"}),d.jsx("p",{className:"text-lg",children:n.nombre})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",children:"Apellido:"}),d.jsx("p",{className:"text-lg",children:n.apellido})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",children:"Correo Electrónico:"}),d.jsx("p",{className:"text-lg",children:n.email})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",children:"Rol:"}),d.jsx("p",{className:"text-lg",children:n.rol})]}),d.jsx("div",{children:n.codigoTarjeta&&d.jsxs("div",{children:[d.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",children:"Código Tarjeta RFID:"}),d.jsxs("p",{className:"text-lg",children:[n.codigoTarjeta," (",d.jsx("span",{className:`${a(n.accesoRfid)}`,children:n.accesoRfid==="Aceptado"?"Activo":"Bloqueado"}),")"]})]})}),d.jsx("div",{children:n.dispositivoCodigo&&d.jsxs("div",{children:[d.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",children:"Código Dispositivo NFC:"}),d.jsxs("p",{className:"text-lg",children:[n.dispositivoCodigo," (",d.jsx("span",{className:`${a(n.accesoNFC)}`,children:n.accesoNFC==="Aceptado"?"Activo":"Bloqueado"}),")"]})]})})]})}):d.jsx("p",{className:"text-center text-gray-700",children:"Cargando usuario..."})]})})}const rF=Rn(vn),sF=()=>{const{id:t,codigoTarjeta1:e,tipoT:n}=Oo(),[r,s]=E.useState(""),[i,o]=E.useState(""),[a,l]=E.useState(""),[c,u]=E.useState(""),[h,f]=E.useState(e||""),[p,y]=E.useState(""),[g,w]=E.useState(""),[m,_]=E.useState(!0),v=Gt();E.useEffect(()=>{t&&(async()=>{const C=await xi(ue(Y,"usuarios",t));if(C.exists()){const b=C.data();s(b.email),l(b.nombre),u(b.apellido),f(b.codigoTarjeta||""),y(b.rol),w(b.acceso),_(!1)}})()},[t]);async function x(T){T.preventDefault();try{if(m){const C=await Gg(rF,r,i),b=ue(Y,`usuarios/${C.user.uid}`),S={apellido:c,email:r,nombre:a,rol:p,acceso:g};n==="rfid"?(S.codigoTarjeta=h,S.accesoRfid="Denegado"):n==="nfc"&&(S.dispositivoCodigo=h,S.accesoNFC="Denegado"),await gd(b,S);const D=ue(Y,"refrescar","Dbmut9yeBWbs1bJkWurJ");await Ve(D,{refrescar:!0}),J.success("¡Registro exitoso!",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,onClose:()=>v("/listaUsuarios")})}else{const C=ue(Y,`usuarios/${t}`),b={apellido:c,email:r,nombre:a,rol:p,acceso:g};n==="rfid"?(b.codigoTarjeta=h,b.accesoRfid="Denegado"):n==="nfc"&&(b.dispositivoCodigo=h,b.accesoNFC="Denegado"),await Ve(C,b),await gd(C,b);const S=ue(Y,"refrescar","Dbmut9yeBWbs1bJkWurJ");await Ve(S,{refrescar:!0}),J.success("¡Usuario actualizado exitosamente!",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,onClose:()=>v("/listaUsuarios")})}}catch(C){C.code==="auth/email-already-in-use"?alert("Error: Este correo electrónico ya está en uso. Por favor, usa una dirección de correo electrónico diferente."):alert("Error: "+C.message)}}return d.jsxs(Rt,{children:[d.jsx("div",{className:"min-h-screen flex items-center justify-center p-8",children:d.jsxs("div",{className:"bg-white p-6 rounded shadow-md w-full max-w-4xl",children:[d.jsx("h2",{className:"text-3xl font-bold mb-4 text-center text-indigo-700",children:m?"Registrar Usuario":"Editar Usuario"}),d.jsxs("form",{onSubmit:x,children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{className:"mb-4",children:[d.jsx("label",{htmlFor:"nombre",className:"block text-gray-700 font-bold mb-2",children:"Nombre:"}),d.jsx("input",{id:"nombre",value:a,onChange:T=>l(T.target.value),className:"input-field w-full",placeholder:"Nombre"})]}),d.jsxs("div",{className:"mb-4",children:[d.jsx("label",{htmlFor:"apellido",className:"block text-gray-700 font-bold mb-2",children:"Apellido:"}),d.jsx("input",{id:"apellido",value:c,onChange:T=>u(T.target.value),className:"input-field w-full",placeholder:"Apellido"})]}),d.jsxs("div",{className:"mb-4",children:[d.jsx("label",{htmlFor:"email",className:"block text-gray-700 font-bold mb-2",children:"Email:"}),d.jsx("input",{type:"email",value:r,onChange:T=>s(T.target.value),id:"email",className:"input-field w-full",placeholder:"Email"})]}),m&&d.jsxs("div",{className:"mb-6",children:[d.jsx("label",{htmlFor:"password",className:"block text-gray-700 font-bold mb-2",children:"Contraseña:"}),d.jsx("input",{type:"password",id:"password",onChange:T=>o(T.target.value),className:"input-field w-full",placeholder:"Contraseña"})]}),d.jsxs("div",{className:"mb-4",children:[d.jsxs("label",{htmlFor:"codigoTarjeta",className:"block text-gray-700 font-bold mb-2",children:["Código ",n.toUpperCase(),":"]}),d.jsx("input",{id:"codigoTarjeta",value:h,onChange:T=>f(T.target.value),className:"input-field w-full",placeholder:`Código ${n.toUpperCase()}`})]}),d.jsxs("div",{className:"mb-4",children:[d.jsx("label",{htmlFor:"roles",className:"block text-gray-700 font-bold mb-2",children:"Rol:"}),d.jsxs("select",{id:"roles",className:"select-field w-full",value:p,onChange:T=>y(T.target.value),children:[d.jsx("option",{disabled:!0,value:"",children:"Elige Rol"}),d.jsx("option",{value:"Admin",children:"Admin"}),d.jsx("option",{value:"Docente",children:"Docente"})]})]}),d.jsxs("div",{className:"mb-4",children:[d.jsx("label",{htmlFor:"acceso",className:"block text-gray-700 font-bold mb-2",children:"Acceso:"}),d.jsxs("select",{id:"acceso",className:"select-field w-full",value:g,onChange:T=>w(T.target.value),children:[d.jsx("option",{disabled:!0,value:"",children:"Elige Acceso"}),d.jsx("option",{value:"Denegado",children:"Denegado"}),d.jsx("option",{value:"Aceptado",children:"Aceptado"})]})]})]}),d.jsx("div",{className:"text-center mt-6",children:d.jsx("button",{type:"submit",className:"button-primary w-full md:w-auto",children:m?"Registrar":"Actualizar"})})]})]})}),d.jsx(In,{})]})},Cw=["Lunes","Martes","Miércoles","Jueves","Viernes","Sábado","Domingo"];function iF(){const[t,e]=E.useState([]),[n,r]=E.useState([]),[s,i]=E.useState(!1),[o,a]=E.useState([]),[l,c]=E.useState(""),[u,h]=E.useState(""),[f,p]=E.useState(0),[y,g]=E.useState(0),w=4,{uid:m}=kn(),_=C=>`${C}:00`;E.useEffect(()=>{x(),v()},[m,l,u]);const v=async()=>{try{const C=fe(Y,"curso"),S=(await me(C)).docs.map(D=>({id:D.id,...D.data()}));a(S)}catch(C){console.error("Error al obtener los cursos:",C)}},x=async()=>{i(!0);try{const C=fe(Y,"acceso"),S=(await me(C)).docs.map(O=>O.data()),D=fe(Y,"usuarios"),P=(await me(D)).docs.map(O=>({id:O.id,...O.data()}));let W=S.map(O=>{const K=P.find(A=>A.id===O.id_user);return K?{...O,...K}:O}).filter(O=>O.id_user===m);l&&(W=W.filter(O=>O.curso===l)),u!==""&&(W=W.filter(O=>O.dia===parseInt(u)));const j=W.filter(O=>O.dia!==void 0),F=W.filter(O=>O.fecha!==void 0);e(j),r(F),i(!1)}catch(C){console.error("Error al obtener los datos:",C),i(!1)}},T=(C,b,S,D)=>{const I=b*w,P=I+w,M=C.slice(I,P),W=Math.ceil(C.length/w);return d.jsxs(d.Fragment,{children:[d.jsxs("table",{className:"w-full border-collapse border border-gray-300 mb-4",children:[d.jsx("thead",{children:d.jsxs("tr",{children:[d.jsx("th",{className:"px-4 py-2 border border-gray-300",children:"Nombre"}),d.jsx("th",{className:"px-4 py-2 border border-gray-300",children:"Apellido"}),d.jsx("th",{className:"px-4 py-2 border border-gray-300",children:"Rol"}),d.jsx("th",{className:"px-4 py-2 border border-gray-300",children:"Curso"}),D==="normal"?d.jsxs(d.Fragment,{children:[d.jsx("th",{className:"px-4 py-2 border border-gray-300",children:"Día"}),d.jsx("th",{className:"px-4 py-2 border border-gray-300",children:"Hora de Entrada"}),d.jsx("th",{className:"px-4 py-2 border border-gray-300",children:"Hora de Salida"})]}):d.jsxs(d.Fragment,{children:[d.jsx("th",{className:"px-4 py-2 border border-gray-300",children:"Fecha"}),d.jsx("th",{className:"px-4 py-2 border border-gray-300",children:"Hora de Entrada"}),d.jsx("th",{className:"px-4 py-2 border border-gray-300",children:"Hora de Salida"})]})]})}),d.jsx("tbody",{children:M.map((j,F)=>d.jsxs("tr",{className:"hover:bg-gray-100",children:[d.jsx("td",{className:"border px-4 py-2 text-center",children:j.nombre}),d.jsx("td",{className:"border px-4 py-2 text-center",children:j.apellido}),d.jsx("td",{className:"border px-4 py-2 text-center",children:j.rol}),d.jsx("td",{className:"border px-4 py-2 text-center",children:j.curso}),D==="normal"?d.jsxs(d.Fragment,{children:[d.jsx("td",{className:"border px-4 py-2 text-center",children:Cw[j.dia]}),d.jsx("td",{className:"border px-4 py-2 text-center",children:_(j.hora_inicio)}),d.jsx("td",{className:"border px-4 py-2 text-center",children:_(j.hora_fin)})]}):d.jsxs(d.Fragment,{children:[d.jsx("td",{className:"border px-4 py-2 text-center",children:j.fecha}),d.jsx("td",{className:"border px-4 py-2 text-center",children:_(j.hora_inicio)}),d.jsx("td",{className:"border px-4 py-2 text-center",children:_(j.hora_fin)})]})]},F))})]}),d.jsxs("div",{className:"flex justify-between mt-4",children:[d.jsx("button",{onClick:()=>S(j=>Math.max(j-1,0)),disabled:b===0,className:"px-4 py-2 bg-gray-300 rounded hover:bg-gray-400",children:"Anterior"}),d.jsxs("span",{children:["Página ",b+1," de ",W]}),d.jsx("button",{onClick:()=>S(j=>Math.min(j+1,W-1)),disabled:b===W-1,className:"px-4 py-2 bg-gray-300 rounded hover:bg-gray-400",children:"Siguiente"})]})]})};return d.jsx(Bo,{children:d.jsxs("div",{className:"container mx-auto p-4",children:[d.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Lista de Accesos del Docente"}),d.jsxs("div",{className:"flex mb-6 space-x-4",children:[d.jsxs("div",{className:"w-1/2",children:[d.jsx("label",{htmlFor:"filtroCurso",className:"block text-gray-700 font-semibold mb-2",children:"Filtrar por Curso:"}),d.jsxs("select",{id:"filtroCurso",value:l,onChange:C=>c(C.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg",children:[d.jsx("option",{value:"",children:"Todos los cursos"}),o.map(C=>d.jsx("option",{value:C.ubicacion,children:C.ubicacion},C.id))]})]}),d.jsxs("div",{className:"w-1/2",children:[d.jsx("label",{htmlFor:"filtroDia",className:"block text-gray-700 font-semibold mb-2",children:"Filtrar por Día:"}),d.jsxs("select",{id:"filtroDia",value:u,onChange:C=>h(C.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg",children:[d.jsx("option",{value:"",children:"Todos los días"}),Cw.map((C,b)=>d.jsx("option",{value:b,children:C},b))]})]})]}),s?d.jsx("p",{children:"Cargando datos..."}):t.length===0&&n.length===0?d.jsx("p",{className:"text-center text-gray-500",children:"No hay registros disponibles."}):d.jsxs(d.Fragment,{children:[t.length>0&&d.jsxs("div",{className:"mb-8",children:[d.jsx("h3",{className:"text-2xl font-bold mb-4 text-center",children:"Accesos Normales"}),T(t,f,p,"normal")]}),n.length>0&&d.jsxs("div",{children:[d.jsx("h3",{className:"text-2xl font-bold mb-4 text-center",children:"Accesos Especiales"}),T(n,y,g,"especial")]})]})]})})}const qf=["Lunes","Martes","Miércoles","Jueves","Viernes","Sábado","Domingo"],oF=[{start:7,end:9},{start:9,end:11},{start:11,end:13},{start:14,end:16},{start:16,end:18},{start:18,end:20},{start:20,end:22}];function aF(){const[t,e]=E.useState([]),[n,r]=E.useState([]),[s,i]=E.useState([]),[o,a]=E.useState({curso:"",dia:"",horaRange:"",id_user:""}),[l,c]=E.useState(!1),[u,h]=E.useState(null),f=Gt();E.useEffect(()=>{p(),y()},[]);const p=async()=>{try{const v=fe(Y,"usuarios"),x=Xe(v,_e("activo","==",!0)),C=(await me(x)).docs.map(b=>({id:b.id,...b.data()}));e(C)}catch(v){console.error("Error al obtener los usuarios:",v),J.error("Error al obtener los usuarios.",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0})}},y=async()=>{try{const v=fe(Y,"curso"),x=Xe(v,_e("activo","==",!0)),C=(await me(x)).docs.map(b=>({id:b.id,...b.data()}));r(C)}catch(v){console.error("Error al obtener los cursos:",v),J.error("Error al obtener los cursos.",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0})}},g=v=>{const{name:x,value:T}=v.target;a({...o,[x]:T})},w=()=>{const{curso:v,dia:x,horaRange:T,id_user:C}=o;if(!v||!x||!T||!C){J.error("Todos los campos son obligatorios para cada acceso.",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0});return}i([...s,o]),a({...o,curso:"",dia:"",horaRange:""}),h(null)},m=v=>{i(s.filter((x,T)=>T!==v))},_=async v=>{v.preventDefault(),c(!0),h(null);try{for(let T of s){const{curso:C,dia:b,horaRange:S,id_user:D}=T,[I,P]=S.split("-").map(Number),M=fe(Y,"acceso"),W=Xe(M,_e("curso","==",C),_e("dia","==",parseInt(b)),_e("hora_inicio","==",I),_e("hora_fin","==",P));if((await me(W)).docs.map(O=>O.data()).length>0){J.error(`Ya existe un acceso con el curso ${C}, día ${qf[b]} y rango de hora ${I}:00 - ${P}:00.`,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0}),c(!1);return}await sc(fe(Y,"acceso"),{curso:C,dia:parseInt(b),hora_inicio:I,hora_fin:P,id_user:D})}const x=ue(Y,"refrescar","Dbmut9yeBWbs1bJkWurJ");await Ve(x,{refrescar:!0}),c(!1),J.success("Accesos creados exitosamente",{position:"top-right",autoClose:5e3,hideProgressBar:!1,pauseOnHover:!0,draggable:!0,onClose:()=>f("/admin/listaAccesos")})}catch(x){console.error("Error al crear los accesos:",x),J.error("Error al crear los accesos. Inténtelo de nuevo.",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0}),c(!1)}};return d.jsx(Rt,{children:d.jsxs("div",{className:"container mx-auto p-4",children:[d.jsx("h2",{className:"text-2xl font-bold mb-4 text-center",children:"Crear Nuevos Accesos"}),d.jsxs("form",{onSubmit:_,className:"max-w-lg mx-auto bg-white p-6 rounded-md shadow-md",children:[d.jsxs("div",{className:"mb-4",children:[d.jsx("label",{htmlFor:"id_user",className:"block text-gray-700 font-bold mb-2",children:"Usuario:"}),d.jsxs("select",{id:"id_user",name:"id_user",value:o.id_user,onChange:g,className:"w-full px-3 py-2 border border-gray-300 rounded-md",children:[d.jsx("option",{value:"",children:"Seleccione un usuario"}),t.map(v=>d.jsxs("option",{value:v.id,children:[v.apellido,", ",v.nombre]},v.id))]})]}),d.jsxs("div",{className:"mb-4",children:[d.jsx("label",{htmlFor:"curso",className:"block text-gray-700 font-bold mb-2",children:"Curso:"}),d.jsxs("select",{id:"curso",name:"curso",value:o.curso,onChange:g,className:"w-full px-3 py-2 border border-gray-300 rounded-md",children:[d.jsx("option",{value:"",children:"Seleccione un curso"}),n.map(v=>d.jsx("option",{value:v.ubicacion,children:v.ubicacion},v.id))]})]}),d.jsxs("div",{className:"mb-4",children:[d.jsx("label",{htmlFor:"dia",className:"block text-gray-700 font-bold mb-2",children:"Día:"}),d.jsxs("select",{id:"dia",name:"dia",value:o.dia,onChange:g,className:"w-full px-3 py-2 border border-gray-300 rounded-md",children:[d.jsx("option",{value:"",children:"Seleccione un día"}),qf.map((v,x)=>d.jsx("option",{value:x,children:v},x))]})]}),d.jsxs("div",{className:"mb-4",children:[d.jsx("label",{htmlFor:"horaRange",className:"block text-gray-700 font-bold mb-2",children:"Rango Horario:"}),d.jsxs("select",{id:"horaRange",name:"horaRange",value:o.horaRange,onChange:g,className:"w-full px-3 py-2 border border-gray-300 rounded-md",children:[d.jsx("option",{value:"",children:"Seleccione un rango horario"}),oF.map((v,x)=>d.jsx("option",{value:`${v.start}-${v.end}`,children:`${v.start}:00 - ${v.end}:00`},x))]})]}),d.jsx("div",{className:"mb-4",children:d.jsx("button",{type:"button",onClick:w,className:"bg-green-500 text-white py-2 px-4 rounded-md hover:bg-green-600",children:"Añadir Acceso"})}),s.length>0&&d.jsxs("div",{className:"mb-4",children:[d.jsx("h3",{className:"text-xl font-bold mb-2",children:"Accesos Añadidos:"}),d.jsx("ul",{children:s.map((v,x)=>d.jsxs("li",{className:"mb-2",children:[`Curso: ${v.curso}, Día: ${qf[v.dia]}, Horario: ${v.horaRange}`,d.jsx("button",{type:"button",onClick:()=>m(x),className:"ml-4 bg-red-500 text-white py-1 px-2 rounded-md hover:bg-red-600",children:"Quitar"})]},x))})]}),u&&d.jsx("p",{className:"text-red-500 text-center mb-4",children:u}),s.length>0&&d.jsx("div",{className:"flex justify-center",children:d.jsx("button",{type:"submit",className:"bg-blue-500 text-white py-2 px-4 rounded-md hover:bg-blue-600",disabled:l,children:l?"Guardando...":"Crear Accesos"})})]}),d.jsx(In,{})]})})}function lF(t){return bi({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M10.5 8a2.5 2.5 0 1 1-5 0 2.5 2.5 0 0 1 5 0"},child:[]},{tag:"path",attr:{d:"M0 8s3-5.5 8-5.5S16 8 16 8s-3 5.5-8 5.5S0 8 0 8m8 3.5a3.5 3.5 0 1 0 0-7 3.5 3.5 0 0 0 0 7"},child:[]}]})(t)}function cF(t){return bi({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"m10.79 12.912-1.614-1.615a3.5 3.5 0 0 1-4.474-4.474l-2.06-2.06C.938 6.278 0 8 0 8s3 5.5 8 5.5a7 7 0 0 0 2.79-.588M5.21 3.088A7 7 0 0 1 8 2.5c5 0 8 5.5 8 5.5s-.939 1.721-2.641 3.238l-2.062-2.062a3.5 3.5 0 0 0-4.474-4.474z"},child:[]},{tag:"path",attr:{d:"M5.525 7.646a2.5 2.5 0 0 0 2.829 2.829zm4.95.708-2.829-2.83a2.5 2.5 0 0 1 2.829 2.829zm3.171 6-12-12 .708-.708 12 12z"},child:[]}]})(t)}function uF(t){return bi({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M8.354 1.146a.5.5 0 0 0-.708 0l-6 6A.5.5 0 0 0 1.5 7.5v7a.5.5 0 0 0 .5.5h4.5a.5.5 0 0 0 .5-.5v-4h2v4a.5.5 0 0 0 .5.5H14a.5.5 0 0 0 .5-.5v-7a.5.5 0 0 0-.146-.354L13 5.793V2.5a.5.5 0 0 0-.5-.5h-1a.5.5 0 0 0-.5.5v1.293zM2.5 14V7.707l5.5-5.5 5.5 5.5V14H10v-4a.5.5 0 0 0-.5-.5h-3a.5.5 0 0 0-.5.5v4z"},child:[]}]})(t)}function dF(){const[t,e]=E.useState([]),[n,r]=E.useState([]),[s,i]=E.useState(!1),[o,a]=E.useState(!1);E.useEffect(()=>{l()},[o]);const l=async()=>{i(!0);try{const f=fe(Y,"curso"),y=(await me(f)).docs.map(m=>({id:m.id,...m.data()})),g=y.filter(m=>m.activo),w=y.filter(m=>!m.activo);e(g),r(w),i(!1)}catch(f){console.error("Error al obtener los cursos:",f),i(!1)}},c=()=>{l()},u=async(f,p)=>{i(!0);try{const y=ue(Y,"curso",f);await Ve(y,{activo:!1});const g=ue(Y,"refrescar","Dbmut9yeBWbs1bJkWurJ");await Ve(g,{refrescar:!0}),J.success("¡Curso desactivado exitosamente!",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0});const w=Xe(fe(Y,"acceso"),_e("curso","==",p)),m=await me(w),_=KC(Y);m.docs.forEach(v=>{_.delete(v.ref)}),await _.commit(),J.success("¡Accesos relacionados eliminados exitosamente!",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}),e(t.filter(v=>v.id!==f)),r([...n,{id:f,ubicacion:p,activo:!1}])}catch(y){console.error("Error al desactivar el curso:",y.message),J.error("Error al desactivar el curso.",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}i(!1)},h=async f=>{i(!0);try{const p=ue(Y,"curso",f);await Ve(p,{activo:!0}),J.success("¡Curso reactivado exitosamente!",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}),l()}catch(p){console.error("Error al reactivar el curso:",p.message),J.error("Error al reactivar el curso.",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}i(!1)};return d.jsx(Rt,{children:d.jsxs("div",{className:"container mx-auto p-6 bg-gray-100 rounded-lg shadow-md",children:[d.jsx("h2",{className:"text-3xl font-bold mb-6 text-center text-gray-800",children:"Gestión de Cursos"}),d.jsxs("div",{className:"flex flex-col md:flex-row md:justify-between md:items-center mb-6",children:[d.jsxs("div",{className:"flex space-x-2 mb-4 md:mb-0",children:[d.jsx(ot,{to:"/admin/curso/agregar-curso",className:"bg-blue-600 text-white py-2 px-6 rounded-lg hover:bg-blue-700 flex items-center space-x-2",children:d.jsx("span",{children:"Agregar curso"})}),d.jsx("button",{onClick:c,className:"bg-blue-600 text-white py-2 px-6 rounded-lg hover:bg-blue-700 flex items-center space-x-2",children:d.jsx("span",{children:"Actualizar Usuarios"})})]}),d.jsxs("button",{onClick:()=>a(!o),className:"bg-yellow-600 text-white py-2 px-6 rounded-lg hover:bg-yellow-700 flex items-center space-x-2",children:[d.jsx("span",{children:o?"Ver Cursos Activos":"Ver Cursos Eliminados"}),o?d.jsx(lF,{}):d.jsx(cF,{})]})]}),s?d.jsx("p",{className:"text-center text-gray-600",children:"Cargando cursos..."}):(o?n:t).length===0?d.jsx("p",{className:"text-center text-gray-600",children:"No hay cursos disponibles."}):d.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:(o?n:t).map(f=>d.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-4 flex flex-col items-center border border-gray-200",children:[d.jsx("div",{className:"text-4xl text-blue-600 mb-4",children:d.jsx(uF,{})}),d.jsx("div",{className:"text-xl font-semibold text-gray-800 mb-2",children:f.ubicacion}),d.jsx(ot,{to:`/admin/curso/${f.ubicacion}`,className:"text-blue-600 hover:underline mb-4",children:"Ver Accesos"}),f.activo?d.jsx("button",{onClick:()=>u(f.id,f.ubicacion),className:"bg-red-600 text-white py-2 px-4 rounded-lg hover:bg-red-700",children:"Desactivar Curso"}):d.jsx("button",{onClick:()=>h(f.id),className:"bg-green-600 text-white py-2 px-4 rounded-lg hover:bg-green-700",children:"Reactivar Curso"})]},f.id))}),d.jsx(In,{})]})})}const hF=["A","B","C","D","E","F"];function fF(){const[t,e]=E.useState("A"),[n,r]=E.useState(""),[s,i]=E.useState(!1),o=Gt(),a=async l=>{if(l.preventDefault(),n.trim()===""){J.error("Por favor, ingrese un número de curso válido.",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0});return}i(!0);try{const c=`${t}-${n}`,u=fe(Y,"curso"),h=Xe(u,_e("ubicacion","==",c));if(!(await me(h)).empty){J.error("Ya existe un curso con esta ubicación.",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0}),i(!1);return}await sc(u,{ubicacion:c,activo:!0}),i(!1),J.success("Curso agregado correctamente",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,onClose:()=>o("/admin/cursosList")})}catch(c){console.error("Error al agregar el curso:",c),J.error("Error al agregar el curso.",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0}),i(!1)}};return d.jsxs(Rt,{children:[d.jsxs("div",{className:"container mx-auto p-4",children:[d.jsx("h2",{className:"text-2xl font-bold mb-4 text-center",children:"Agregar Curso"}),d.jsxs("form",{onSubmit:a,className:"max-w-md mx-auto",children:[d.jsxs("div",{className:"mb-4",children:[d.jsx("label",{htmlFor:"bloque",className:"block text-gray-700 font-bold mb-2",children:"Bloque:"}),d.jsx("select",{id:"bloque",value:t,onChange:l=>e(l.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md",children:hF.map(l=>d.jsx("option",{value:l,children:l},l))})]}),d.jsxs("div",{className:"mb-4",children:[d.jsx("label",{htmlFor:"numero",className:"block text-gray-700 font-bold mb-2",children:"Número:"}),d.jsx("input",{type:"text",id:"numero",value:n,onChange:l=>r(l.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md",placeholder:"Ej: 209"})]}),d.jsxs("div",{className:"flex justify-end",children:[d.jsx(ot,{to:"/admin/cursos",className:"bg-gray-500 text-white py-2 px-4 rounded-md hover:bg-gray-600 mr-2",children:"Cancelar"}),d.jsx("button",{type:"submit",className:"bg-blue-500 text-white py-2 px-4 rounded-md hover:bg-blue-600",disabled:s,children:s?"Agregando...":"Agregar Curso"})]})]})]}),d.jsx(In,{})]})}const pF=["A","B","C","D","E","F"];function mF(){const[t,e]=E.useState("A"),[n,r]=E.useState(""),[s,i]=E.useState(!1),o=Gt(),a=async l=>{if(l.preventDefault(),n.trim()===""){J.error("Por favor, ingrese un número de curso válido.",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0});return}i(!0);try{const c=`${t}-${n}`,u=fe(Y,"curso"),h=Xe(u,_e("ubicacion","==",c));if(!(await me(h)).empty){J.error("Ya existe un curso con esta ubicación.",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0}),i(!1);return}await sc(u,{ubicacion:c,activo:!0}),i(!1),J.success("Curso agregado correctamente",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,onClose:()=>o("/admin/cursosList")})}catch(c){console.error("Error al agregar el curso:",c),J.error("Error al agregar el curso.",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0}),i(!1)}};return d.jsxs(Rt,{children:[d.jsxs("div",{className:"container mx-auto p-4",children:[d.jsx("h2",{className:"text-2xl font-bold mb-4 text-center",children:"Agregar Curso"}),d.jsxs("form",{onSubmit:a,className:"max-w-md mx-auto",children:[d.jsxs("div",{className:"mb-4",children:[d.jsx("label",{htmlFor:"bloque",className:"block text-gray-700 font-bold mb-2",children:"Bloque:"}),d.jsx("select",{id:"bloque",value:t,onChange:l=>e(l.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md",children:pF.map(l=>d.jsx("option",{value:l,children:l},l))})]}),d.jsxs("div",{className:"mb-4",children:[d.jsx("label",{htmlFor:"numero",className:"block text-gray-700 font-bold mb-2",children:"Número:"}),d.jsx("input",{type:"text",id:"numero",value:n,onChange:l=>r(l.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md",placeholder:"Ej: 209"})]}),d.jsxs("div",{className:"flex justify-end",children:[d.jsx(ot,{to:"/admin/cursos",className:"bg-gray-500 text-white py-2 px-4 rounded-md hover:bg-gray-600 mr-2",children:"Cancelar"}),d.jsx("button",{type:"submit",className:"bg-blue-500 text-white py-2 px-4 rounded-md hover:bg-blue-600",disabled:s,children:s?"Agregando...":"Agregar Curso"})]})]})]}),d.jsx(In,{})]})}const gF=Rn(vn);function vF(){const[t,e]=E.useState([]),[n,r]=E.useState(!1),[s,i]=E.useState(iy(new Date,"yyyy-MM-dd")),[o,a]=E.useState(null),[l,c]=E.useState("");E.useEffect(()=>{const f=gF.currentUser;f&&(a(f.uid),c(f.displayName||"Usuario"))},[]),E.useEffect(()=>{o&&u()},[s,o]);const u=async()=>{r(!0);const f=fe(Y,"usuarios"),y=(await me(f)).docs.map(x=>({id:x.id,...x.data()})),g=fe(Y,s),v=(await me(g)).docs.map(x=>x.data()).map(x=>{const T=y.find(C=>C.codigoTarjeta===x.codigo_tarjeta);return T?{...x,...T}:x}).filter(x=>x.id_user===o);v.sort((x,T)=>new Date(T.hora)-new Date(x.hora)),e(v),r(!1)},h=()=>{u()};return d.jsx(Bo,{children:d.jsxs("div",{className:"container mx-auto p-6 bg-white shadow-lg rounded-lg",children:[d.jsxs("h2",{className:"text-3xl font-semibold text-gray-800 mb-6",children:["Vista ",l]}),d.jsxs("div",{className:"flex justify-between items-center mb-6",children:[d.jsxs("div",{className:"flex items-center space-x-4",children:[d.jsx("label",{htmlFor:"datePicker",className:"text-gray-700 font-medium",children:"Seleccionar fecha:"}),d.jsx("input",{type:"date",id:"datePicker",value:s,onChange:f=>i(f.target.value),className:"border border-gray-300 rounded-lg px-4 py-2 text-gray-700 focus:outline-none focus:ring-2 focus:ring-red-500"})]}),d.jsxs("button",{className:"flex items-center bg-red-500 hover:bg-red-600 text-white font-semibold py-2 px-4 rounded-lg transition duration-300 ease-in-out",onClick:h,children:[d.jsx(rS,{className:"mr-2"})," Actualizar datos"]})]}),n?d.jsx("p",{className:"text-center text-gray-500",children:"Cargando datos..."}):t.length===0?d.jsx("p",{className:"text-center text-gray-500",children:"No hay registros para la fecha seleccionada."}):d.jsxs("div",{children:[d.jsx("h3",{className:"text-2xl font-semibold text-gray-800 mb-4",children:"Registros"}),d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"min-w-full bg-white border border-gray-300 rounded-lg shadow-md",children:[d.jsx("thead",{className:"bg-gray-100 border-b border-gray-300",children:d.jsx("tr",{children:["Código Tarjeta","Curso","Estado","Hora"].map(f=>d.jsx("th",{className:"px-6 py-3 text-left text-gray-600 font-medium",children:f},f))})}),d.jsx("tbody",{children:t.map((f,p)=>d.jsxs("tr",{className:"hover:bg-gray-50 transition duration-150 ease-in-out",style:{backgroundColor:f.estado==="Admin"||f.estado==="UsuarioAutorizado"?"#e6ffed":"#ffe6e6"},children:[d.jsx("td",{className:"px-6 py-4 border-b border-gray-200 text-gray-700",children:`${f.codigo_tarjeta} (${f.tipoT})`}),d.jsx("td",{className:"px-6 py-4 border-b border-gray-200 text-gray-700",children:f.curso}),d.jsx("td",{className:"px-6 py-4 border-b border-gray-200 text-gray-700",children:f.estado}),d.jsx("td",{className:"px-6 py-4 border-b border-gray-200 text-gray-700",children:new Date(f.hora).toLocaleTimeString()})]},p))})]})})]})]})})}const yF=()=>{const t=kn(),[e,n]=E.useState(null);E.useEffect(()=>{t.uid&&r()},[t.uid]);const r=async()=>{try{const a=ue(Y,"usuarios",t.uid),l=await xi(a);l.exists()?n({id:l.id,...l.data()}):console.log("No existe el usuario con el UID especificado")}catch(a){console.error("Error al obtener los datos del usuario:",a)}},s=async(a,l)=>{if(e)try{const c=ue(Y,"usuarios",e.id);await Ve(c,{[a]:l}),n(u=>({...u,[a]:l})),console.log("Acceso actualizado correctamente")}catch(c){console.error("Error al actualizar el acceso:",c.message)}},i=a=>a==="Aceptado"?"bg-red-500 hover:bg-red-600":a==="Denegado"?"bg-green-500 hover:bg-green-600":"bg-gray-500 hover:bg-gray-600",o=a=>a==="Aceptado"?"text-green-700":a==="Denegado"?"text-red-700":"";return d.jsx(Bo,{children:d.jsx("div",{className:"flex justify-center items-center h-screen bg-white",children:d.jsx("div",{className:"bg-white shadow-lg rounded-lg p-8 w-full max-w-lg",children:e?d.jsx(d.Fragment,{children:d.jsxs("div",{className:"space-y-8",children:[e.tarjetaRFID&&d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx(U4,{className:"text-blue-700",size:24}),d.jsxs("p",{children:[d.jsx("span",{className:"font-semibold",children:"Código Tarjeta RFID:"})," ",e.tarjetaRFID," (",d.jsx("span",{className:`${o(e.accesoRfid)}`,children:e.accesoRfid==="Aceptado"?"Activo":"Bloqueado"}),")"]})]}),d.jsx("button",{className:`ml-2 py-2 px-4 rounded ${i(e.accesoRfid)} text-white`,onClick:()=>s("accesoRfid",e.accesoRfid==="Aceptado"?"Denegado":"Aceptado"),children:e.accesoRfid==="Aceptado"?"Bloquear":"Activar"})]}),e.dispositivoCodigo&&d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx($4,{className:"text-blue-700",size:24}),d.jsxs("p",{children:[d.jsx("span",{className:"font-semibold",children:"Código Dispositivo NFC:"})," ",e.dispositivoCodigo," (",d.jsx("span",{className:`${o(e.accesoNFC)}`,children:e.accesoNFC==="Aceptado"?"Activo":"Bloqueado"}),")"]})]}),d.jsx("button",{className:`ml-2 py-2 px-4 rounded ${i(e.accesoNFC)} text-white`,onClick:()=>s("accesoNFC",e.accesoNFC==="Aceptado"?"Denegado":"Aceptado"),children:e.accesoNFC==="Aceptado"?"Bloquear":"Activar"})]})]})}):d.jsx("p",{className:"text-center text-gray-600",children:"Cargando usuario..."})})})})},_F=()=>{const{id:t}=Oo(),e=Gt(),[n,r]=E.useState(""),[s,i]=E.useState(""),[o,a]=E.useState(""),[l,c]=E.useState(""),[u,h]=E.useState(""),[f,p]=E.useState(""),[y,g]=E.useState(""),[w,m]=E.useState(""),[_,v]=E.useState(!1),[x,T]=E.useState(!1);E.useEffect(()=>{(async()=>{const I=ue(Y,"usuarios",t),P=await xi(I);if(P.exists()){const M=P.data();r(M.email),i(M.nombre),a(M.apellido),c(M.dispositivoCodigo||""),h(M.tarjetaRFID||""),p(M.rol),g(M.accesoRfid||""),m(M.accesoNFC||""),v(!!M.tarjetaRFID),T(!!M.dispositivoCodigo)}})()},[t]);const C=async D=>{D.preventDefault();try{const I=ue(Y,"usuarios",t);await Ve(I,{nombre:s,apellido:o,dispositivoCodigo:l,tarjetaRFID:u,email:n,rol:f,accesoRfid:y,accesoNFC:w});const P=ue(Y,"refrescar","Dbmut9yeBWbs1bJkWurJ");await Ve(P,{refrescar:!0}),J.success("¡Usuario actualizado exitosamente!",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,onClose:()=>e("/admin/listaUsuarios")})}catch(I){console.error("Error al actualizar el usuario:",I.message),J.error("Error al actualizar el usuario.",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}},b=async()=>{h(""),g(""),v(!1)},S=async()=>{c(""),m(""),T(!1)};return d.jsx(Rt,{children:d.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:[d.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-md w-full max-w-lg",children:[d.jsx("h2",{className:"text-3xl font-bold mb-6 text-center text-cyan-600",children:"Editar Usuario"}),d.jsxs("form",{onSubmit:C,children:[d.jsxs("div",{className:"mb-4",children:[d.jsx("label",{htmlFor:"nombre",className:"block text-gray-700 font-semibold mb-2",children:"Nombre:"}),d.jsx("input",{id:"nombre",value:s,onChange:D=>i(D.target.value),className:"input-field",placeholder:"Nombre",required:!0})]}),d.jsxs("div",{className:"mb-4",children:[d.jsx("label",{htmlFor:"apellido",className:"block text-gray-700 font-semibold mb-2",children:"Apellido:"}),d.jsx("input",{id:"apellido",value:o,onChange:D=>a(D.target.value),className:"input-field",placeholder:"Apellido",required:!0})]}),d.jsxs("div",{className:"mb-4",children:[d.jsx("label",{htmlFor:"email",className:"block text-gray-700 font-semibold mb-2",children:"Email:"}),d.jsx("input",{type:"email",id:"email",value:n,onChange:D=>r(D.target.value),className:"input-field",placeholder:"Email",required:!0,autoComplete:"off"})]}),d.jsxs("div",{className:"mb-4",children:[d.jsx("label",{htmlFor:"roles",className:"block text-gray-700 font-semibold mb-2",children:"Rol:"}),d.jsxs("select",{id:"roles",className:"select-field",value:f,onChange:D=>p(D.target.value),required:!0,children:[d.jsx("option",{disabled:!0,children:"Elige Rol"}),d.jsx("option",{value:"Admin",children:"Admin"}),d.jsx("option",{value:"Docente",children:"Docente"})]})]}),d.jsxs("div",{className:"mb-4",children:[d.jsxs("button",{type:"button",onClick:()=>v(!_),className:"button-secondary",children:[_?"Ocultar":"Agregar"," Acceso RFID"]}),_&&d.jsx("button",{type:"button",onClick:b,className:"button-danger ml-4",children:"Eliminar RFID"})]}),_&&d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"mb-4",children:[d.jsx("label",{htmlFor:"tarjetaRFID",className:"block text-gray-700 font-semibold mb-2",children:"Tarjeta RFID:"}),d.jsx("input",{id:"tarjetaRFID",value:u,onChange:D=>h(D.target.value),className:"input-field",placeholder:"Tarjeta RFID"})]}),d.jsxs("div",{className:"mb-4",children:[d.jsx("label",{htmlFor:"accesoRfid",className:"block text-gray-700 font-semibold mb-2",children:"Acceso RFID:"}),d.jsxs("select",{id:"accesoRfid",className:"select-field",value:y,onChange:D=>g(D.target.value),children:[d.jsx("option",{disabled:!0,children:"Elige Acceso"}),d.jsx("option",{value:"Denegado",children:"Denegado"}),d.jsx("option",{value:"Aceptado",children:"Aceptado"})]})]})]}),d.jsxs("div",{className:"mb-4",children:[d.jsxs("button",{type:"button",onClick:()=>T(!x),className:"button-secondary",children:[x?"Ocultar":"Agregar"," Acceso NFC"]}),x&&d.jsx("button",{type:"button",onClick:S,className:"button-danger ml-4",children:"Eliminar NFC"})]}),x&&d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"mb-4",children:[d.jsx("label",{htmlFor:"dispositivoCodigo",className:"block text-gray-700 font-semibold mb-2",children:"Código Dispositivo:"}),d.jsx("input",{id:"dispositivoCodigo",value:l,onChange:D=>c(D.target.value),className:"input-field",placeholder:"Código Dispositivo"})]}),d.jsxs("div",{className:"mb-4",children:[d.jsx("label",{htmlFor:"accesoNFC",className:"block text-gray-700 font-semibold mb-2",children:"Acceso NFC:"}),d.jsxs("select",{id:"accesoNFC",className:"select-field",value:w,onChange:D=>m(D.target.value),children:[d.jsx("option",{disabled:!0,children:"Elige Acceso"}),d.jsx("option",{value:"Denegado",children:"Denegado"}),d.jsx("option",{value:"Aceptado",children:"Aceptado"})]})]})]}),d.jsx("div",{className:"text-center",children:d.jsx("button",{type:"submit",className:"button-primary",children:"Actualizar"})})]})]}),d.jsx(In,{})]})})},wF=t=>btoa(t),EF=()=>{const{codigoTarjeta1:t,tipoT:e,idRegistro:n,fecha:r}=Oo(),s=Gt(),i=wF(t),o=()=>{s(`/admin/registroNuevoUsuario/${i}/${e}/${n}/${r}`)},a=()=>{s(`/admin/asignarTarjetaExistente/${i}/${e}/${n}/${r}`)};return d.jsx(Rt,{children:d.jsx("div",{className:"min-h-screen flex items-center justify-center p-8",children:d.jsxs("div",{className:"bg-paleta-blanco p-10 rounded-lg shadow-lg w-full max-w-lg",children:[d.jsx("h2",{className:"text-3xl font-bold mb-6 text-center text-paleta-azul-oscuro",children:"Elige una opción"}),d.jsxs("div",{className:"flex justify-around mt-6",children:[d.jsx("button",{onClick:o,className:"bg-paleta-azul-claro text-paleta-blanco py-2 px-4 rounded-lg shadow-md hover:bg-paleta-azul-hover transition duration-300",children:"Registrar Nuevo Usuario"}),d.jsx("button",{onClick:a,className:"bg-paleta-verde-claro text-paleta-blanco py-2 px-4 rounded-lg shadow-md hover:bg-paleta-verde-hover transition duration-300",children:"Asignar a Usuario Existente"})]})]})})})},xF=()=>{const{codigoTarjeta1:t,tipoT:e,idRegistro:n,fecha:r}=Oo(),s=atob(r),i=atob(n),o=atob(atob(t)),a=atob(e),[l,c]=E.useState([]),[u,h]=E.useState(""),[f,p]=E.useState({}),[y,g]=E.useState(""),w=Gt();E.useEffect(()=>{(async()=>{const C=(await me(fe(Y,"usuarios"))).docs.map(b=>({id:b.id,...b.data()}));c(C)})()},[]);const m=x=>{const T=x.target.value;h(T);const C=l.find(b=>b.id===T);C&&(g(C.id),p({email:C.email,nombre:C.nombre,apellido:C.apellido,rol:C.rol,acceso:C.acceso,codigoTarjeta:C.codigoTarjeta,dispositivoCodigo:C.dispositivoCodigo}))};async function _(x){x.preventDefault();try{const T=ue(Y,`usuarios/${y}`),C={apellido:f.apellido||"",email:f.email||"",nombre:f.nombre||"",rol:f.rol||""};a==="RFID"?(C.tarjetaRFID=o,C.accesoRfid="Denegado"):a==="NFC"&&(C.dispositivoCodigo=o,C.accesoNFC="Denegado");const b=ue(Y,`${s}/${i}`);await Ve(T,C),await Ve(b,{id_user:y});const S=ue(Y,"refrescar","Dbmut9yeBWbs1bJkWurJ");await Ve(S,{refrescar:!0}),J.success("¡Tarjeta asignada exitosamente!",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,onClose:()=>w("/admin/listaUsuarios")})}catch(T){alert("Error: "+T.message)}}const v=(x,T,C)=>d.jsxs("div",{className:"mb-4",children:[d.jsxs("label",{htmlFor:C,className:"block text-gray-700 font-bold mb-2",children:[x,":"]}),d.jsx("input",{id:C,value:T,className:"input-field w-full",readOnly:!0})]});return d.jsxs(Rt,{children:[d.jsx("div",{className:"min-h-screen flex items-center justify-center p-8",children:d.jsxs("div",{className:"bg-white p-6 rounded shadow-md w-full max-w-4xl",children:[d.jsx("h2",{className:"text-3xl font-bold mb-4 text-center text-indigo-700",children:"Asignar Tarjeta a Usuario Existente"}),d.jsxs("form",{onSubmit:_,children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{className:"mb-4",children:[d.jsx("label",{htmlFor:"usuario",className:"block text-gray-700 font-bold mb-2",children:"Seleccionar Usuario:"}),d.jsxs("select",{id:"usuario",className:"select-field w-full",value:u,onChange:m,children:[d.jsx("option",{value:"",disabled:!0,children:"Selecciona un usuario"}),l.map(x=>d.jsx("option",{value:x.id,children:x.email},x.id))]})]}),f.nombre&&v("Nombre",f.nombre,"nombre"),f.apellido&&v("Apellido",f.apellido,"apellido"),f.email&&v("Email",f.email,"email"),f.rol&&v("Rol",f.rol,"rol"),d.jsxs("div",{className:"mb-4",children:[d.jsxs("label",{htmlFor:"codigoTarjeta",className:"block text-gray-700 font-bold mb-2",children:["Código ",a.toUpperCase(),":"]}),d.jsx("input",{id:"codigoTarjeta",value:o,className:"input-field w-full",readOnly:!0,placeholder:`Código ${a.toUpperCase()}`})]}),f.acceso&&v("Acceso",f.acceso,"acceso")]}),d.jsx("div",{className:"text-center mt-6",children:d.jsx("button",{type:"submit",className:"button-primary w-full md:w-auto",children:f.codigoTarjeta||f.dispositivoCodigo?"Reemplazar":"Asignar"})})]})]})}),d.jsx(In,{})]})},bF=Rn(vn),TF=()=>{const{codigoTarjeta1:t,tipoT:e,idRegistro:n,fecha:r}=Oo(),s=atob(r),i=atob(n),o=atob(t),a=atob(o),l=atob(e),[c,u]=E.useState(""),[h,f]=E.useState(""),[p,y]=E.useState(""),[g,w]=E.useState(""),[m,_]=E.useState(""),[v,x]=E.useState(""),[T,C]=E.useState(""),[b,S]=E.useState(""),D=Gt();async function I(P){P.preventDefault();try{const M=await Gg(bF,c,h),W=ue(Y,`usuarios/${M.user.uid}`),j={apellido:g,email:c,nombre:p,rol:m,acceso:v};l==="RFID"?(j.codigoTarjeta=a,j.accesoRfid=T||"Denegado"):l==="NFC"&&(j.dispositivoCodigo=a,j.accesoNFC=b||"Denegado"),await gd(W,j);const F=ue(Y,`${s}/${i}`);await Ve(F,{id_user:M.user.uid});const O=ue(Y,"refrescar","Dbmut9yeBWbs1bJkWurJ");await Ve(O,{refrescar:!0}),J.success("¡Registro exitoso!",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,onClose:()=>D("/admin/listaUsuarios")})}catch(M){M.code==="auth/email-already-in-use"?alert("Error: Este correo electrónico ya está en uso. Por favor, usa una dirección de correo electrónico diferente."):alert("Error: "+M.message)}}return d.jsxs(Rt,{children:[d.jsx("div",{className:"min-h-screen flex items-center justify-center p-8",children:d.jsxs("div",{className:"bg-white p-6 rounded shadow-md w-full max-w-4xl",children:[d.jsx("h2",{className:"text-3xl font-bold mb-4 text-center text-indigo-700",children:"Registrar Usuario"}),d.jsxs("form",{onSubmit:I,children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{className:"mb-4",children:[d.jsx("label",{htmlFor:"nombre",className:"block text-gray-700 font-bold mb-2",children:"Nombre:"}),d.jsx("input",{id:"nombre",value:p,onChange:P=>y(P.target.value),className:"input-field w-full",placeholder:"Nombre"})]}),d.jsxs("div",{className:"mb-4",children:[d.jsx("label",{htmlFor:"apellido",className:"block text-gray-700 font-bold mb-2",children:"Apellido:"}),d.jsx("input",{id:"apellido",value:g,onChange:P=>w(P.target.value),className:"input-field w-full",placeholder:"Apellido"})]}),d.jsxs("div",{className:"mb-4",children:[d.jsx("label",{htmlFor:"email",className:"block text-gray-700 font-bold mb-2",children:"Email:"}),d.jsx("input",{type:"email",value:c,onChange:P=>u(P.target.value),id:"email",className:"input-field w-full",placeholder:"Email"})]}),d.jsxs("div",{className:"mb-6",children:[d.jsx("label",{htmlFor:"password",className:"block text-gray-700 font-bold mb-2",children:"Contraseña:"}),d.jsx("input",{type:"password",id:"password",onChange:P=>f(P.target.value),className:"input-field w-full",placeholder:"Contraseña"})]}),d.jsxs("div",{className:"mb-4",children:[d.jsx("label",{htmlFor:"roles",className:"block text-gray-700 font-bold mb-2",children:"Rol:"}),d.jsxs("select",{id:"roles",className:"select-field w-full",value:m,onChange:P=>_(P.target.value),children:[d.jsx("option",{disabled:!0,value:"",children:"Elige Rol"}),d.jsx("option",{value:"Admin",children:"Admin"}),d.jsx("option",{value:"Docente",children:"Docente"})]})]}),l==="RFID"&&d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"mb-4",children:[d.jsx("label",{htmlFor:"accesoRfid",className:"block text-gray-700 font-bold mb-2",children:"Acceso RFID:"}),d.jsx("input",{id:"accesoRfid",value:T,onChange:P=>C(P.target.value),className:"input-field w-full",placeholder:"Acceso RFID"})]}),d.jsx("div",{className:"mb-4",children:d.jsx("button",{type:"button",onClick:()=>C(a),className:"button-secondary w-full",children:"Asignar Código RFID"})})]}),l==="NFC"&&d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"mb-4",children:[d.jsx("label",{htmlFor:"accesoNFC",className:"block text-gray-700 font-bold mb-2",children:"Acceso NFC:"}),d.jsx("input",{id:"accesoNFC",value:b,onChange:P=>S(P.target.value),className:"input-field w-full",placeholder:"Acceso NFC"})]}),d.jsx("div",{className:"mb-4",children:d.jsx("button",{type:"button",onClick:()=>S(a),className:"button-secondary w-full",children:"Asignar Código NFC"})})]})]}),d.jsx("div",{className:"text-center mt-6",children:d.jsx("button",{type:"submit",className:"button-primary w-full md:w-auto",children:"Registrar"})})]})]})}),d.jsx(In,{})]})},CF=[{start:7,end:9},{start:9,end:11},{start:11,end:13},{start:14,end:16},{start:16,end:18},{start:18,end:20},{start:20,end:22}],SF=["Lunes","Martes","Miércoles","Jueves","Viernes","Sábado","Domingo"];function DF(){const[t,e]=E.useState([]),[n,r]=E.useState({curso:"",fecha:"",horaRange:""}),[s,i]=E.useState(null),[o,a]=E.useState(null);Gt();const l=kn();E.useEffect(()=>{c()},[]);const c=async()=>{try{const f=fe(Y,"curso"),p=Xe(f,_e("activo","==",!0)),g=(await me(p)).docs.map(w=>({id:w.id,...w.data()}));e(g)}catch(f){console.error("Error al obtener los cursos:",f),toast.error("Error al obtener los cursos.",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0})}},u=f=>{const{name:p,value:y}=f.target;r({...n,[p]:y})},h=async f=>{f.preventDefault(),i(null),a(null);const{curso:p,fecha:y,horaRange:g}=n,w=l.uid;if(!p||!y||!g||!w){i("Todos los campos son obligatorios.");return}try{const m=y;console.log("formattedfecha",y);const _=eS(m);console.log("dia",_);const[v,x]=g.split("-").map(Number),T=fe(Y,"acceso"),C=Xe(T,_e("fecha","==",y),_e("hora_inicio","==",v),_e("hora_fin","==",x)),S=(await me(C)).docs.map(M=>M.data()),D=Xe(T,_e("dia","==",_),_e("hora_inicio","==",v),_e("hora_fin","==",x)),P=(await me(D)).docs.map(M=>M.data());if(S.length>0||P.length>0){i(`Ya existe un acceso para el ${SF[_]} ${y} o en un rango horario similar (${v}:00 - ${x}:00).`);return}await sc(fe(Y,"solicitudes"),{curso:p,fecha:y,hora_inicio:v,hora_fin:x,id_user:w,estado:"pendiente"}),a("Solicitud enviada exitosamente. Esperando aprobación.")}catch(m){console.error("Error al enviar la solicitud:",m),i("Error al enviar la solicitud. Inténtelo de nuevo.")}};return d.jsx(Bo,{children:d.jsxs("div",{className:"container mx-auto p-4",children:[d.jsx("h2",{className:"text-2xl font-bold mb-4 text-center",children:"Solicitar Acceso"}),d.jsxs("form",{onSubmit:h,className:"max-w-lg mx-auto bg-white p-6 rounded-md shadow-md",children:[d.jsxs("div",{className:"mb-4",children:[d.jsx("label",{htmlFor:"curso",className:"block text-gray-700 font-bold mb-2",children:"Curso:"}),d.jsxs("select",{id:"curso",name:"curso",value:n.curso,onChange:u,className:"w-full px-3 py-2 border border-gray-300 rounded-md",children:[d.jsx("option",{value:"",children:"Seleccione un curso"}),t.map(f=>d.jsx("option",{value:f.ubicacion,children:f.ubicacion},f.id))]})]}),d.jsxs("div",{className:"mb-4",children:[d.jsx("label",{htmlFor:"fecha",className:"block text-gray-700 font-bold mb-2",children:"Fecha:"}),d.jsx("input",{type:"date",id:"fecha",name:"fecha",value:n.fecha,onChange:u,className:"w-full px-3 py-2 border border-gray-300 rounded-md"})]}),d.jsxs("div",{className:"mb-4",children:[d.jsx("label",{htmlFor:"horaRange",className:"block text-gray-700 font-bold mb-2",children:"Rango Horario:"}),d.jsxs("select",{id:"horaRange",name:"horaRange",value:n.horaRange,onChange:u,className:"w-full px-3 py-2 border border-gray-300 rounded-md",children:[d.jsx("option",{value:"",children:"Seleccione un rango horario"}),CF.map((f,p)=>d.jsx("option",{value:`${f.start}-${f.end}`,children:`${f.start}:00 - ${f.end}:00`},p))]})]}),s&&d.jsx("p",{className:"text-red-500 text-center mb-4",children:s}),o&&d.jsx("p",{className:"text-green-500 text-center mb-4",children:o}),d.jsx("div",{className:"flex justify-center",children:d.jsx("button",{type:"submit",className:"bg-blue-500 text-white py-2 px-4 rounded-md hover:bg-blue-600",children:"Solicitar Acceso"})})]})]})})}function kF(){const[t,e]=E.useState([]),[n,r]=E.useState(!1),[s,i]=E.useState(null),[o,a]=E.useState(null);E.useEffect(()=>{c()},[]),E.useEffect(()=>{if(s||o){const h=setTimeout(()=>{i(null),a(null)},5e3);return()=>clearTimeout(h)}},[s,o]);const l=async h=>{try{const f=ue(Y,"usuarios",h),p=await xi(f);return p.exists()?{id:p.id,...p.data()}:(console.error("No se encontró el usuario"),null)}catch(f){return console.error("Error al obtener detalles del usuario:",f),null}},c=async()=>{r(!0);try{const h=fe(Y,"solicitudes"),f=Xe(h,_e("estado","==","pendiente")),p=await me(f),y=await Promise.all(p.docs.map(async g=>{const w={id:g.id,...g.data()},m=await l(w.id_user);return{...w,user:m}}));e(y),r(!1)}catch(h){console.error("Error al obtener las solicitudes:",h),i("Error al obtener las solicitudes."),r(!1)}},u=async(h,f)=>{r(!0);try{const p=t.find(C=>C.id===h),{curso:y,fecha:g,hora_inicio:w,hora_fin:m,id_user:_}=p,v=g,x=eS(v);if(f==="aprobada"){const C=fe(Y,"acceso"),b=Xe(C,_e("fecha","==",v),_e("hora_inicio","==",w),_e("hora_fin","==",m)),D=(await me(b)).docs.map(j=>j.data()),I=Xe(C,_e("dia","==",x),_e("hora_inicio","==",w),_e("hora_fin","==",m)),M=(await me(I)).docs.map(j=>j.data());if(D.length>0||M.length>0){i(`Ya existe un acceso para el ${dayOfWeek[x]} ${g} o en un rango horario similar (${w}:00 - ${m}:00).`);return}await sc(fe(Y,"acceso"),{curso:y,fecha:v,hora_inicio:w,hora_fin:m,id_user:_});const W=ue(Y,"refrescar","Dbmut9yeBWbs1bJkWurJ");await Ve(W,{refrescar:!0})}const T=ue(Y,"solicitudes",h);await Ve(T,{estado:f}),f==="aprobada"&&await qC(T),e(t.filter(C=>C.id!==h)),a(`Solicitud ${f} exitosamente.`)}catch(p){console.error("Error al actualizar la solicitud:",p),i("Error al actualizar la solicitud.")}finally{r(!1)}};return d.jsx(Rt,{children:d.jsxs("div",{className:"container mx-auto p-4",children:[d.jsx("h2",{className:"text-2xl font-bold mb-4 text-center",children:"Revisar Solicitudes"}),n&&d.jsx("p",{className:"text-center",children:"Cargando..."}),s&&d.jsx("p",{className:"text-red-500 text-center",children:s}),o&&d.jsx("p",{className:"text-green-500 text-center",children:o}),d.jsx("div",{className:"max-w-lg mx-auto bg-white p-6 rounded-md shadow-md",children:t.map(h=>d.jsxs("div",{className:"mb-4",children:[d.jsxs("p",{children:[d.jsx("strong",{children:"Curso:"})," ",h.curso]}),d.jsxs("p",{children:[d.jsx("strong",{children:"Fecha:"})," ",h.fecha]}),d.jsxs("p",{children:[d.jsx("strong",{children:"Rango Horario:"})," ",`${h.hora_inicio}:00 - ${h.hora_fin}:00`]}),d.jsxs("p",{children:[d.jsx("strong",{children:"Docente:"})," ",h.user?`${h.user.nombre} (${h.user.email})`:"Desconocido"]}),d.jsxs("p",{children:[d.jsx("strong",{children:"Estado:"})," ",h.estado]}),d.jsxs("div",{className:"flex justify-between mt-4",children:[d.jsx("button",{onClick:()=>u(h.id,"aprobada"),className:"bg-green-500 text-white py-2 px-4 rounded-md hover:bg-green-600",children:"Aprobar"}),d.jsx("button",{onClick:()=>u(h.id,"rechazada"),className:"bg-red-500 text-white py-2 px-4 rounded-md hover:bg-red-600",children:"Rechazar"})]})]},h.id))})]})})}const IF=Rn(vn);function NF(){const[t,e]=E.useState(""),[n,r]=E.useState(null),[s,i]=E.useState(null),o=async a=>{a.preventDefault(),r(null),i(null);try{await YR(IF,t),i("Email de restablecimiento de contraseña enviado. Por favor revisa tu bandeja de entrada.")}catch(l){r(l.message),console.error(l)}};return d.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:d.jsxs("div",{className:"bg-white p-8 rounded shadow-md w-96",children:[d.jsx("h2",{className:"text-2xl font-bold mb-4 text-center",children:"Restablecer contraseña"}),d.jsxs("form",{onSubmit:o,children:[n&&d.jsx("div",{className:"mb-4 text-red-500",children:n}),s&&d.jsx("div",{className:"mb-4 text-green-500",children:s}),d.jsxs("div",{className:"mb-4",children:[d.jsx("label",{htmlFor:"resetEmail",className:"block text-gray-700 font-bold",children:"Email:"}),d.jsx("input",{type:"email",onChange:a=>e(a.target.value),id:"resetEmail",className:"block w-full rounded-md border border-gray-300 py-1.5 px-3 text-gray-900 placeholder-gray-400 focus:outline-none focus:border-blue-500 focus:ring focus:ring-blue-500 focus:ring-opacity-50",placeholder:"Email"})]}),d.jsx("div",{children:d.jsx("button",{type:"submit",className:"block w-full bg-blue-500 text-white py-2 px-4 rounded hover:bg-blue-600 focus:outline-none focus:bg-blue-600",children:"Restablecer contraseña"})}),d.jsx("div",{className:"mt-4 text-center",children:d.jsx(ot,{to:"/",className:"text-blue-500 hover:underline",children:"Volver al inicio de sesión"})})]})]})})}const PF=()=>d.jsx(Rt,{children:d.jsx("div",{children:d.jsx("h1",{children:"Informes Admin"})})});function aS(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=aS(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function at(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=aS(t))&&(r&&(r+=" "),r+=e);return r}function RF(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,Om(t,e)}function Om(t,e){return Om=Object.setPrototypeOf||function(r,s){return r.__proto__=s,r},Om(t,e)}function AF(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function Sw(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function OF(t,e,n){return t===e?!0:t.correspondingElement?t.correspondingElement.classList.contains(n):t.classList.contains(n)}function MF(t,e,n){if(t===e)return!0;for(;t.parentNode||t.host;){if(t.parentNode&&OF(t,e,n))return!0;t=t.parentNode||t.host}return t}function jF(t){return document.documentElement.clientWidth<=t.clientX||document.documentElement.clientHeight<=t.clientY}var LF=function(){if(!(typeof window>"u"||typeof window.addEventListener!="function")){var e=!1,n=Object.defineProperty({},"passive",{get:function(){e=!0}}),r=function(){};return window.addEventListener("testPassiveEventSupport",r,n),window.removeEventListener("testPassiveEventSupport",r,n),e}};function FF(t){return t===void 0&&(t=0),function(){return++t}}var VF=FF(),Mm,Uc={},Qf={},$F=["touchstart","touchmove"],UF="ignore-react-onclickoutside";function Dw(t,e){var n={},r=$F.indexOf(e)!==-1;return r&&Mm&&(n.passive=!t.props.preventDefault),n}function Bh(t,e){var n,r,s=t.displayName||t.name||"Component";return r=n=function(i){RF(o,i);function o(l){var c;return c=i.call(this,l)||this,c.__outsideClickHandler=function(u){if(typeof c.__clickOutsideHandlerProp=="function"){c.__clickOutsideHandlerProp(u);return}var h=c.getInstance();if(typeof h.props.handleClickOutside=="function"){h.props.handleClickOutside(u);return}if(typeof h.handleClickOutside=="function"){h.handleClickOutside(u);return}throw new Error("WrappedComponent: "+s+" lacks a handleClickOutside(event) function for processing outside click events.")},c.__getComponentNode=function(){var u=c.getInstance();return e&&typeof e.setClickOutsideRef=="function"?e.setClickOutsideRef()(u):typeof u.setClickOutsideRef=="function"?u.setClickOutsideRef():Jd.findDOMNode(u)},c.enableOnClickOutside=function(){if(!(typeof document>"u"||Qf[c._uid])){typeof Mm>"u"&&(Mm=LF()),Qf[c._uid]=!0;var u=c.props.eventTypes;u.forEach||(u=[u]),Uc[c._uid]=function(h){if(c.componentNode!==null&&!(c.initTimeStamp>h.timeStamp)&&(c.props.preventDefault&&h.preventDefault(),c.props.stopPropagation&&h.stopPropagation(),!(c.props.excludeScrollbar&&jF(h)))){var f=h.composed&&h.composedPath&&h.composedPath().shift()||h.target;MF(f,c.componentNode,c.props.outsideClickIgnoreClass)===document&&c.__outsideClickHandler(h)}},u.forEach(function(h){document.addEventListener(h,Uc[c._uid],Dw(Sw(c),h))})}},c.disableOnClickOutside=function(){delete Qf[c._uid];var u=Uc[c._uid];if(u&&typeof document<"u"){var h=c.props.eventTypes;h.forEach||(h=[h]),h.forEach(function(f){return document.removeEventListener(f,u,Dw(Sw(c),f))}),delete Uc[c._uid]}},c.getRef=function(u){return c.instanceRef=u},c._uid=VF(),c.initTimeStamp=performance.now(),c}var a=o.prototype;return a.getInstance=function(){if(t.prototype&&!t.prototype.isReactComponent)return this;var c=this.instanceRef;return c.getInstance?c.getInstance():c},a.componentDidMount=function(){if(!(typeof document>"u"||!document.createElement)){var c=this.getInstance();if(e&&typeof e.handleClickOutside=="function"&&(this.__clickOutsideHandlerProp=e.handleClickOutside(c),typeof this.__clickOutsideHandlerProp!="function"))throw new Error("WrappedComponent: "+s+" lacks a function for processing outside click events specified by the handleClickOutside config option.");this.componentNode=this.__getComponentNode(),!this.props.disableOnClickOutside&&this.enableOnClickOutside()}},a.componentDidUpdate=function(){this.componentNode=this.__getComponentNode()},a.componentWillUnmount=function(){this.disableOnClickOutside()},a.render=function(){var c=this.props;c.excludeScrollbar;var u=AF(c,["excludeScrollbar"]);return t.prototype&&t.prototype.isReactComponent?u.ref=this.getRef:u.wrappedRef=this.getRef,u.disableOnClickOutside=this.disableOnClickOutside,u.enableOnClickOutside=this.enableOnClickOutside,E.createElement(t,u)},o}(E.Component),n.displayName="OnClickOutside("+s+")",n.defaultProps={eventTypes:["mousedown","touchstart"],excludeScrollbar:e&&e.excludeScrollbar||!1,outsideClickIgnoreClass:UF,preventDefault:!1,stopPropagation:!1},n.getClass=function(){return t.getClass?t.getClass():t},r}function q(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function we(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}function Ds(t,e){const n=q(t);return isNaN(e)?we(t,NaN):(e&&n.setDate(n.getDate()+e),n)}function oy(t,e){const n=+q(t);return we(t,n+e)}const lS=6048e5,BF=864e5,Wh=6e4,Hh=36e5,WF=1e3;function HF(t,e){return oy(t,e*Hh)}function jm(t,e){return oy(t,e*Wh)}function Nn(t,e){const n=q(t);if(isNaN(e))return we(t,NaN);if(!e)return n;const r=n.getDate(),s=we(t,n.getTime());s.setMonth(n.getMonth()+e+1,0);const i=s.getDate();return r>=i?s:(n.setFullYear(s.getFullYear(),s.getMonth(),r),n)}function ay(t,e){const n=e*3;return Nn(t,n)}function zF(t,e){return oy(t,e*1e3)}function bd(t,e){const n=e*7;return Ds(t,n)}function gr(t,e){return Nn(t,e*12)}function hi(t){const e=q(t);return e.setHours(0,0,0,0),e}function Td(t){const e=q(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function Tl(t,e){const n=hi(t),r=hi(e),s=+n-Td(n),i=+r-Td(r);return Math.round((s-i)/BF)}function Cd(t,e){const n=q(t),r=q(e),s=n.getFullYear()-r.getFullYear(),i=n.getMonth()-r.getMonth();return s*12+i}function Ks(t){const e=q(t);return Math.trunc(e.getMonth()/3)+1}function Sd(t,e){const n=q(t),r=q(e),s=n.getFullYear()-r.getFullYear(),i=Ks(n)-Ks(r);return s*4+i}function Dd(t,e){const n=q(t),r=q(e);return n.getFullYear()-r.getFullYear()}function cS(t){const e=q(t);return e.setHours(23,59,59,999),e}function YF(t){const e=q(t),n=e.getMonth();return e.setFullYear(e.getFullYear(),n+1,0),e.setHours(23,59,59,999),e}let qF={};function Ti(){return qF}function QF(t,e){var a,l,c,u;const n=Ti(),r=(e==null?void 0:e.weekStartsOn)??((l=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:l.weekStartsOn)??n.weekStartsOn??((u=(c=n.locale)==null?void 0:c.options)==null?void 0:u.weekStartsOn)??0,s=q(t),i=s.getDay(),o=(i<r?-7:0)+6-(i-r);return s.setDate(s.getDate()+o),s.setHours(23,59,59,999),s}function uS(t){const e=q(t),n=e.getFullYear();return e.setFullYear(n+1,0,0),e.setHours(23,59,59,999),e}const KF={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},GF=(t,e,n)=>{let r;const s=KF[t];return typeof s=="string"?r=s:e===1?r=s.one:r=s.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function Kf(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const XF={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},JF={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},ZF={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},eV={date:Kf({formats:XF,defaultWidth:"full"}),time:Kf({formats:JF,defaultWidth:"full"}),dateTime:Kf({formats:ZF,defaultWidth:"full"})},tV={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},nV=(t,e,n,r)=>tV[t];function ia(t){return(e,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let s;if(r==="formatting"&&t.formattingValues){const o=t.defaultFormattingWidth||t.defaultWidth,a=n!=null&&n.width?String(n.width):o;s=t.formattingValues[a]||t.formattingValues[o]}else{const o=t.defaultWidth,a=n!=null&&n.width?String(n.width):t.defaultWidth;s=t.values[a]||t.values[o]}const i=t.argumentCallback?t.argumentCallback(e):e;return s[i]}}const rV={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},sV={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},iV={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},oV={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},aV={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},lV={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},cV=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},uV={ordinalNumber:cV,era:ia({values:rV,defaultWidth:"wide"}),quarter:ia({values:sV,defaultWidth:"wide",argumentCallback:t=>t-1}),month:ia({values:iV,defaultWidth:"wide"}),day:ia({values:oV,defaultWidth:"wide"}),dayPeriod:ia({values:aV,defaultWidth:"wide",formattingValues:lV,defaultFormattingWidth:"wide"})};function oa(t){return(e,n={})=>{const r=n.width,s=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],i=e.match(s);if(!i)return null;const o=i[0],a=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(a)?hV(a,h=>h.test(o)):dV(a,h=>h.test(o));let c;c=t.valueCallback?t.valueCallback(l):l,c=n.valueCallback?n.valueCallback(c):c;const u=e.slice(o.length);return{value:c,rest:u}}}function dV(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function hV(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function fV(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const s=r[0],i=e.match(t.parsePattern);if(!i)return null;let o=t.valueCallback?t.valueCallback(i[0]):i[0];o=n.valueCallback?n.valueCallback(o):o;const a=e.slice(s.length);return{value:o,rest:a}}}const pV=/^(\d+)(th|st|nd|rd)?/i,mV=/\d+/i,gV={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},vV={any:[/^b/i,/^(a|c)/i]},yV={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},_V={any:[/1/i,/2/i,/3/i,/4/i]},wV={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},EV={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},xV={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},bV={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},TV={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},CV={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},SV={ordinalNumber:fV({matchPattern:pV,parsePattern:mV,valueCallback:t=>parseInt(t,10)}),era:oa({matchPatterns:gV,defaultMatchWidth:"wide",parsePatterns:vV,defaultParseWidth:"any"}),quarter:oa({matchPatterns:yV,defaultMatchWidth:"wide",parsePatterns:_V,defaultParseWidth:"any",valueCallback:t=>t+1}),month:oa({matchPatterns:wV,defaultMatchWidth:"wide",parsePatterns:EV,defaultParseWidth:"any"}),day:oa({matchPatterns:xV,defaultMatchWidth:"wide",parsePatterns:bV,defaultParseWidth:"any"}),dayPeriod:oa({matchPatterns:TV,defaultMatchWidth:"any",parsePatterns:CV,defaultParseWidth:"any"})},dS={code:"en-US",formatDistance:GF,formatLong:eV,formatRelative:nV,localize:uV,match:SV,options:{weekStartsOn:0,firstWeekContainsDate:1}};function zh(t){const e=q(t),n=we(t,0);return n.setFullYear(e.getFullYear(),0,1),n.setHours(0,0,0,0),n}function DV(t){const e=q(t);return Tl(e,zh(e))+1}function Sr(t,e){var a,l,c,u;const n=Ti(),r=(e==null?void 0:e.weekStartsOn)??((l=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:l.weekStartsOn)??n.weekStartsOn??((u=(c=n.locale)==null?void 0:c.options)==null?void 0:u.weekStartsOn)??0,s=q(t),i=s.getDay(),o=(i<r?7:0)+i-r;return s.setDate(s.getDate()-o),s.setHours(0,0,0,0),s}function To(t){return Sr(t,{weekStartsOn:1})}function hS(t){const e=q(t),n=e.getFullYear(),r=we(t,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const s=To(r),i=we(t,0);i.setFullYear(n,0,4),i.setHours(0,0,0,0);const o=To(i);return e.getTime()>=s.getTime()?n+1:e.getTime()>=o.getTime()?n:n-1}function kV(t){const e=hS(t),n=we(t,0);return n.setFullYear(e,0,4),n.setHours(0,0,0,0),To(n)}function ly(t){const e=q(t),n=+To(e)-+kV(e);return Math.round(n/lS)+1}function cy(t,e){var u,h,f,p;const n=q(t),r=n.getFullYear(),s=Ti(),i=(e==null?void 0:e.firstWeekContainsDate)??((h=(u=e==null?void 0:e.locale)==null?void 0:u.options)==null?void 0:h.firstWeekContainsDate)??s.firstWeekContainsDate??((p=(f=s.locale)==null?void 0:f.options)==null?void 0:p.firstWeekContainsDate)??1,o=we(t,0);o.setFullYear(r+1,0,i),o.setHours(0,0,0,0);const a=Sr(o,e),l=we(t,0);l.setFullYear(r,0,i),l.setHours(0,0,0,0);const c=Sr(l,e);return n.getTime()>=a.getTime()?r+1:n.getTime()>=c.getTime()?r:r-1}function IV(t,e){var a,l,c,u;const n=Ti(),r=(e==null?void 0:e.firstWeekContainsDate)??((l=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:l.firstWeekContainsDate)??n.firstWeekContainsDate??((u=(c=n.locale)==null?void 0:c.options)==null?void 0:u.firstWeekContainsDate)??1,s=cy(t,e),i=we(t,0);return i.setFullYear(s,0,r),i.setHours(0,0,0,0),Sr(i,e)}function fS(t,e){const n=q(t),r=+Sr(n,e)-+IV(n,e);return Math.round(r/lS)+1}function ye(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const Mr={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return ye(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):ye(n+1,2)},d(t,e){return ye(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return ye(t.getHours()%12||12,e.length)},H(t,e){return ye(t.getHours(),e.length)},m(t,e){return ye(t.getMinutes(),e.length)},s(t,e){return ye(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),s=Math.trunc(r*Math.pow(10,n-3));return ye(s,e.length)}},ki={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},kw={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),s=r>0?r:1-r;return n.ordinalNumber(s,{unit:"year"})}return Mr.y(t,e)},Y:function(t,e,n,r){const s=cy(t,r),i=s>0?s:1-s;if(e==="YY"){const o=i%100;return ye(o,2)}return e==="Yo"?n.ordinalNumber(i,{unit:"year"}):ye(i,e.length)},R:function(t,e){const n=hS(t);return ye(n,e.length)},u:function(t,e){const n=t.getFullYear();return ye(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return ye(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return ye(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return Mr.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return ye(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const s=fS(t,r);return e==="wo"?n.ordinalNumber(s,{unit:"week"}):ye(s,e.length)},I:function(t,e,n){const r=ly(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):ye(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):Mr.d(t,e)},D:function(t,e,n){const r=DV(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):ye(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const s=t.getDay(),i=(s-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(i);case"ee":return ye(i,2);case"eo":return n.ordinalNumber(i,{unit:"day"});case"eee":return n.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(s,{width:"short",context:"formatting"});case"eeee":default:return n.day(s,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const s=t.getDay(),i=(s-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(i);case"cc":return ye(i,e.length);case"co":return n.ordinalNumber(i,{unit:"day"});case"ccc":return n.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(s,{width:"narrow",context:"standalone"});case"cccccc":return n.day(s,{width:"short",context:"standalone"});case"cccc":default:return n.day(s,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),s=r===0?7:r;switch(e){case"i":return String(s);case"ii":return ye(s,e.length);case"io":return n.ordinalNumber(s,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const s=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let s;switch(r===12?s=ki.noon:r===0?s=ki.midnight:s=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let s;switch(r>=17?s=ki.evening:r>=12?s=ki.afternoon:r>=4?s=ki.morning:s=ki.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return Mr.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):Mr.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):ye(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):ye(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):Mr.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):Mr.s(t,e)},S:function(t,e){return Mr.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return Nw(r);case"XXXX":case"XX":return Ms(r);case"XXXXX":case"XXX":default:return Ms(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return Nw(r);case"xxxx":case"xx":return Ms(r);case"xxxxx":case"xxx":default:return Ms(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+Iw(r,":");case"OOOO":default:return"GMT"+Ms(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+Iw(r,":");case"zzzz":default:return"GMT"+Ms(r,":")}},t:function(t,e,n){const r=Math.trunc(t.getTime()/1e3);return ye(r,e.length)},T:function(t,e,n){const r=t.getTime();return ye(r,e.length)}};function Iw(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),s=Math.trunc(r/60),i=r%60;return i===0?n+String(s):n+String(s)+e+ye(i,2)}function Nw(t,e){return t%60===0?(t>0?"-":"+")+ye(Math.abs(t)/60,2):Ms(t,e)}function Ms(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),s=ye(Math.trunc(r/60),2),i=ye(r%60,2);return n+s+e+i}const Pw=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},pS=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},NV=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],s=n[2];if(!s)return Pw(t,e);let i;switch(r){case"P":i=e.dateTime({width:"short"});break;case"PP":i=e.dateTime({width:"medium"});break;case"PPP":i=e.dateTime({width:"long"});break;case"PPPP":default:i=e.dateTime({width:"full"});break}return i.replace("{{date}}",Pw(r,e)).replace("{{time}}",pS(s,e))},kd={p:pS,P:NV},PV=/^D+$/,RV=/^Y+$/,AV=["D","DD","YY","YYYY"];function mS(t){return PV.test(t)}function gS(t){return RV.test(t)}function Lm(t,e,n){const r=OV(t,e,n);if(console.warn(r),AV.includes(t))throw new RangeError(r)}function OV(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}function vr(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function Id(t){if(!vr(t)&&typeof t!="number")return!1;const e=q(t);return!isNaN(Number(e))}const MV=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,jV=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,LV=/^'([^]*?)'?$/,FV=/''/g,VV=/[a-zA-Z]/;function Rw(t,e,n){var u,h,f,p,y,g,w,m;const r=Ti(),s=(n==null?void 0:n.locale)??r.locale??dS,i=(n==null?void 0:n.firstWeekContainsDate)??((h=(u=n==null?void 0:n.locale)==null?void 0:u.options)==null?void 0:h.firstWeekContainsDate)??r.firstWeekContainsDate??((p=(f=r.locale)==null?void 0:f.options)==null?void 0:p.firstWeekContainsDate)??1,o=(n==null?void 0:n.weekStartsOn)??((g=(y=n==null?void 0:n.locale)==null?void 0:y.options)==null?void 0:g.weekStartsOn)??r.weekStartsOn??((m=(w=r.locale)==null?void 0:w.options)==null?void 0:m.weekStartsOn)??0,a=q(t);if(!Id(a))throw new RangeError("Invalid time value");let l=e.match(jV).map(_=>{const v=_[0];if(v==="p"||v==="P"){const x=kd[v];return x(_,s.formatLong)}return _}).join("").match(MV).map(_=>{if(_==="''")return{isToken:!1,value:"'"};const v=_[0];if(v==="'")return{isToken:!1,value:$V(_)};if(kw[v])return{isToken:!0,value:_};if(v.match(VV))throw new RangeError("Format string contains an unescaped latin alphabet character `"+v+"`");return{isToken:!1,value:_}});s.localize.preprocessor&&(l=s.localize.preprocessor(a,l));const c={firstWeekContainsDate:i,weekStartsOn:o,locale:s};return l.map(_=>{if(!_.isToken)return _.value;const v=_.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&gS(v)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&mS(v))&&Lm(v,e,String(t));const x=kw[v[0]];return x(a,v,s.localize,c)}).join("")}function $V(t){const e=t.match(LV);return e?e[1].replace(FV,"'"):t}function Aw(t){return q(t).getDate()}function UV(t){return q(t).getDay()}function Zn(t){return q(t).getHours()}function er(t){return q(t).getMinutes()}function jt(t){return q(t).getMonth()}function yr(t){return q(t).getSeconds()}function Fm(t){return q(t).getTime()}function se(t){return q(t).getFullYear()}function gs(t,e){const n=q(t),r=q(e);return n.getTime()>r.getTime()}function fi(t,e){const n=q(t),r=q(e);return+n<+r}function BV(t,e){const n=q(t),r=q(e);return+n==+r}function WV(t,e){const n=hi(t),r=hi(e);return+n==+r}function HV(t,e){const n=q(t),r=q(e);return n.getFullYear()===r.getFullYear()&&n.getMonth()===r.getMonth()}function Vm(t){const e=q(t),n=e.getMonth(),r=n-n%3;return e.setMonth(r,1),e.setHours(0,0,0,0),e}function zV(t,e){const n=Vm(t),r=Vm(e);return+n==+r}function YV(t,e){const n=q(t),r=q(e);return n.getFullYear()===r.getFullYear()}function Cl(t,e){const n=+q(t),[r,s]=[+q(e.start),+q(e.end)].sort((i,o)=>i-o);return n>=r&&n<=s}function Ow(t){let e;return t.forEach(function(n){const r=q(n);(e===void 0||e<r||isNaN(Number(r)))&&(e=r)}),e||new Date(NaN)}function Mw(t){let e;return t.forEach(n=>{const r=q(n);(!e||e>r||isNaN(+r))&&(e=r)}),e||new Date(NaN)}function qV(){return Object.assign({},Ti())}function QV(t,e){const n=e instanceof Date?we(e,0):new e(0);return n.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),n.setHours(t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()),n}const KV=10;class vS{constructor(){z(this,"subPriority",0)}validate(e,n){return!0}}class GV extends vS{constructor(e,n,r,s,i){super(),this.value=e,this.validateValue=n,this.setValue=r,this.priority=s,i&&(this.subPriority=i)}validate(e,n){return this.validateValue(e,this.value,n)}set(e,n,r){return this.setValue(e,n,this.value,r)}}class XV extends vS{constructor(){super(...arguments);z(this,"priority",KV);z(this,"subPriority",-1)}set(n,r){return r.timestampIsSet?n:we(n,QV(n,Date))}}class ge{run(e,n,r,s){const i=this.parse(e,n,r,s);return i?{setter:new GV(i.value,this.validate,this.set,this.priority,this.subPriority),rest:i.rest}:null}validate(e,n,r){return!0}}class JV extends ge{constructor(){super(...arguments);z(this,"priority",140);z(this,"incompatibleTokens",["R","u","t","T"])}parse(n,r,s){switch(r){case"G":case"GG":case"GGG":return s.era(n,{width:"abbreviated"})||s.era(n,{width:"narrow"});case"GGGGG":return s.era(n,{width:"narrow"});case"GGGG":default:return s.era(n,{width:"wide"})||s.era(n,{width:"abbreviated"})||s.era(n,{width:"narrow"})}}set(n,r,s){return r.era=s,n.setFullYear(s,0,1),n.setHours(0,0,0,0),n}}const He={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},$n={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function ze(t,e){return t&&{value:e(t.value),rest:t.rest}}function Oe(t,e){const n=e.match(t);return n?{value:parseInt(n[0],10),rest:e.slice(n[0].length)}:null}function Un(t,e){const n=e.match(t);if(!n)return null;if(n[0]==="Z")return{value:0,rest:e.slice(1)};const r=n[1]==="+"?1:-1,s=n[2]?parseInt(n[2],10):0,i=n[3]?parseInt(n[3],10):0,o=n[5]?parseInt(n[5],10):0;return{value:r*(s*Hh+i*Wh+o*WF),rest:e.slice(n[0].length)}}function yS(t){return Oe(He.anyDigitsSigned,t)}function Ue(t,e){switch(t){case 1:return Oe(He.singleDigit,e);case 2:return Oe(He.twoDigits,e);case 3:return Oe(He.threeDigits,e);case 4:return Oe(He.fourDigits,e);default:return Oe(new RegExp("^\\d{1,"+t+"}"),e)}}function Nd(t,e){switch(t){case 1:return Oe(He.singleDigitSigned,e);case 2:return Oe(He.twoDigitsSigned,e);case 3:return Oe(He.threeDigitsSigned,e);case 4:return Oe(He.fourDigitsSigned,e);default:return Oe(new RegExp("^-?\\d{1,"+t+"}"),e)}}function uy(t){switch(t){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function _S(t,e){const n=e>0,r=n?e:1-e;let s;if(r<=50)s=t||100;else{const i=r+50,o=Math.trunc(i/100)*100,a=t>=i%100;s=t+o-(a?100:0)}return n?s:1-s}function wS(t){return t%400===0||t%4===0&&t%100!==0}class ZV extends ge{constructor(){super(...arguments);z(this,"priority",130);z(this,"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"])}parse(n,r,s){const i=o=>({year:o,isTwoDigitYear:r==="yy"});switch(r){case"y":return ze(Ue(4,n),i);case"yo":return ze(s.ordinalNumber(n,{unit:"year"}),i);default:return ze(Ue(r.length,n),i)}}validate(n,r){return r.isTwoDigitYear||r.year>0}set(n,r,s){const i=n.getFullYear();if(s.isTwoDigitYear){const a=_S(s.year,i);return n.setFullYear(a,0,1),n.setHours(0,0,0,0),n}const o=!("era"in r)||r.era===1?s.year:1-s.year;return n.setFullYear(o,0,1),n.setHours(0,0,0,0),n}}class e3 extends ge{constructor(){super(...arguments);z(this,"priority",130);z(this,"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"])}parse(n,r,s){const i=o=>({year:o,isTwoDigitYear:r==="YY"});switch(r){case"Y":return ze(Ue(4,n),i);case"Yo":return ze(s.ordinalNumber(n,{unit:"year"}),i);default:return ze(Ue(r.length,n),i)}}validate(n,r){return r.isTwoDigitYear||r.year>0}set(n,r,s,i){const o=cy(n,i);if(s.isTwoDigitYear){const l=_S(s.year,o);return n.setFullYear(l,0,i.firstWeekContainsDate),n.setHours(0,0,0,0),Sr(n,i)}const a=!("era"in r)||r.era===1?s.year:1-s.year;return n.setFullYear(a,0,i.firstWeekContainsDate),n.setHours(0,0,0,0),Sr(n,i)}}class t3 extends ge{constructor(){super(...arguments);z(this,"priority",130);z(this,"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"])}parse(n,r){return Nd(r==="R"?4:r.length,n)}set(n,r,s){const i=we(n,0);return i.setFullYear(s,0,4),i.setHours(0,0,0,0),To(i)}}class n3 extends ge{constructor(){super(...arguments);z(this,"priority",130);z(this,"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"])}parse(n,r){return Nd(r==="u"?4:r.length,n)}set(n,r,s){return n.setFullYear(s,0,1),n.setHours(0,0,0,0),n}}class r3 extends ge{constructor(){super(...arguments);z(this,"priority",120);z(this,"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"])}parse(n,r,s){switch(r){case"Q":case"QQ":return Ue(r.length,n);case"Qo":return s.ordinalNumber(n,{unit:"quarter"});case"QQQ":return s.quarter(n,{width:"abbreviated",context:"formatting"})||s.quarter(n,{width:"narrow",context:"formatting"});case"QQQQQ":return s.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return s.quarter(n,{width:"wide",context:"formatting"})||s.quarter(n,{width:"abbreviated",context:"formatting"})||s.quarter(n,{width:"narrow",context:"formatting"})}}validate(n,r){return r>=1&&r<=4}set(n,r,s){return n.setMonth((s-1)*3,1),n.setHours(0,0,0,0),n}}class s3 extends ge{constructor(){super(...arguments);z(this,"priority",120);z(this,"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"])}parse(n,r,s){switch(r){case"q":case"qq":return Ue(r.length,n);case"qo":return s.ordinalNumber(n,{unit:"quarter"});case"qqq":return s.quarter(n,{width:"abbreviated",context:"standalone"})||s.quarter(n,{width:"narrow",context:"standalone"});case"qqqqq":return s.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return s.quarter(n,{width:"wide",context:"standalone"})||s.quarter(n,{width:"abbreviated",context:"standalone"})||s.quarter(n,{width:"narrow",context:"standalone"})}}validate(n,r){return r>=1&&r<=4}set(n,r,s){return n.setMonth((s-1)*3,1),n.setHours(0,0,0,0),n}}class i3 extends ge{constructor(){super(...arguments);z(this,"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]);z(this,"priority",110)}parse(n,r,s){const i=o=>o-1;switch(r){case"M":return ze(Oe(He.month,n),i);case"MM":return ze(Ue(2,n),i);case"Mo":return ze(s.ordinalNumber(n,{unit:"month"}),i);case"MMM":return s.month(n,{width:"abbreviated",context:"formatting"})||s.month(n,{width:"narrow",context:"formatting"});case"MMMMM":return s.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return s.month(n,{width:"wide",context:"formatting"})||s.month(n,{width:"abbreviated",context:"formatting"})||s.month(n,{width:"narrow",context:"formatting"})}}validate(n,r){return r>=0&&r<=11}set(n,r,s){return n.setMonth(s,1),n.setHours(0,0,0,0),n}}class o3 extends ge{constructor(){super(...arguments);z(this,"priority",110);z(this,"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"])}parse(n,r,s){const i=o=>o-1;switch(r){case"L":return ze(Oe(He.month,n),i);case"LL":return ze(Ue(2,n),i);case"Lo":return ze(s.ordinalNumber(n,{unit:"month"}),i);case"LLL":return s.month(n,{width:"abbreviated",context:"standalone"})||s.month(n,{width:"narrow",context:"standalone"});case"LLLLL":return s.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return s.month(n,{width:"wide",context:"standalone"})||s.month(n,{width:"abbreviated",context:"standalone"})||s.month(n,{width:"narrow",context:"standalone"})}}validate(n,r){return r>=0&&r<=11}set(n,r,s){return n.setMonth(s,1),n.setHours(0,0,0,0),n}}function a3(t,e,n){const r=q(t),s=fS(r,n)-e;return r.setDate(r.getDate()-s*7),r}class l3 extends ge{constructor(){super(...arguments);z(this,"priority",100);z(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"])}parse(n,r,s){switch(r){case"w":return Oe(He.week,n);case"wo":return s.ordinalNumber(n,{unit:"week"});default:return Ue(r.length,n)}}validate(n,r){return r>=1&&r<=53}set(n,r,s,i){return Sr(a3(n,s,i),i)}}function c3(t,e){const n=q(t),r=ly(n)-e;return n.setDate(n.getDate()-r*7),n}class u3 extends ge{constructor(){super(...arguments);z(this,"priority",100);z(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"])}parse(n,r,s){switch(r){case"I":return Oe(He.week,n);case"Io":return s.ordinalNumber(n,{unit:"week"});default:return Ue(r.length,n)}}validate(n,r){return r>=1&&r<=53}set(n,r,s){return To(c3(n,s))}}const d3=[31,28,31,30,31,30,31,31,30,31,30,31],h3=[31,29,31,30,31,30,31,31,30,31,30,31];class f3 extends ge{constructor(){super(...arguments);z(this,"priority",90);z(this,"subPriority",1);z(this,"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"])}parse(n,r,s){switch(r){case"d":return Oe(He.date,n);case"do":return s.ordinalNumber(n,{unit:"date"});default:return Ue(r.length,n)}}validate(n,r){const s=n.getFullYear(),i=wS(s),o=n.getMonth();return i?r>=1&&r<=h3[o]:r>=1&&r<=d3[o]}set(n,r,s){return n.setDate(s),n.setHours(0,0,0,0),n}}class p3 extends ge{constructor(){super(...arguments);z(this,"priority",90);z(this,"subpriority",1);z(this,"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"])}parse(n,r,s){switch(r){case"D":case"DD":return Oe(He.dayOfYear,n);case"Do":return s.ordinalNumber(n,{unit:"date"});default:return Ue(r.length,n)}}validate(n,r){const s=n.getFullYear();return wS(s)?r>=1&&r<=366:r>=1&&r<=365}set(n,r,s){return n.setMonth(0,s),n.setHours(0,0,0,0),n}}function dy(t,e,n){var h,f,p,y;const r=Ti(),s=(n==null?void 0:n.weekStartsOn)??((f=(h=n==null?void 0:n.locale)==null?void 0:h.options)==null?void 0:f.weekStartsOn)??r.weekStartsOn??((y=(p=r.locale)==null?void 0:p.options)==null?void 0:y.weekStartsOn)??0,i=q(t),o=i.getDay(),l=(e%7+7)%7,c=7-s,u=e<0||e>6?e-(o+c)%7:(l+c)%7-(o+c)%7;return Ds(i,u)}class m3 extends ge{constructor(){super(...arguments);z(this,"priority",90);z(this,"incompatibleTokens",["D","i","e","c","t","T"])}parse(n,r,s){switch(r){case"E":case"EE":case"EEE":return s.day(n,{width:"abbreviated",context:"formatting"})||s.day(n,{width:"short",context:"formatting"})||s.day(n,{width:"narrow",context:"formatting"});case"EEEEE":return s.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return s.day(n,{width:"short",context:"formatting"})||s.day(n,{width:"narrow",context:"formatting"});case"EEEE":default:return s.day(n,{width:"wide",context:"formatting"})||s.day(n,{width:"abbreviated",context:"formatting"})||s.day(n,{width:"short",context:"formatting"})||s.day(n,{width:"narrow",context:"formatting"})}}validate(n,r){return r>=0&&r<=6}set(n,r,s,i){return n=dy(n,s,i),n.setHours(0,0,0,0),n}}class g3 extends ge{constructor(){super(...arguments);z(this,"priority",90);z(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"])}parse(n,r,s,i){const o=a=>{const l=Math.floor((a-1)/7)*7;return(a+i.weekStartsOn+6)%7+l};switch(r){case"e":case"ee":return ze(Ue(r.length,n),o);case"eo":return ze(s.ordinalNumber(n,{unit:"day"}),o);case"eee":return s.day(n,{width:"abbreviated",context:"formatting"})||s.day(n,{width:"short",context:"formatting"})||s.day(n,{width:"narrow",context:"formatting"});case"eeeee":return s.day(n,{width:"narrow",context:"formatting"});case"eeeeee":return s.day(n,{width:"short",context:"formatting"})||s.day(n,{width:"narrow",context:"formatting"});case"eeee":default:return s.day(n,{width:"wide",context:"formatting"})||s.day(n,{width:"abbreviated",context:"formatting"})||s.day(n,{width:"short",context:"formatting"})||s.day(n,{width:"narrow",context:"formatting"})}}validate(n,r){return r>=0&&r<=6}set(n,r,s,i){return n=dy(n,s,i),n.setHours(0,0,0,0),n}}class v3 extends ge{constructor(){super(...arguments);z(this,"priority",90);z(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"])}parse(n,r,s,i){const o=a=>{const l=Math.floor((a-1)/7)*7;return(a+i.weekStartsOn+6)%7+l};switch(r){case"c":case"cc":return ze(Ue(r.length,n),o);case"co":return ze(s.ordinalNumber(n,{unit:"day"}),o);case"ccc":return s.day(n,{width:"abbreviated",context:"standalone"})||s.day(n,{width:"short",context:"standalone"})||s.day(n,{width:"narrow",context:"standalone"});case"ccccc":return s.day(n,{width:"narrow",context:"standalone"});case"cccccc":return s.day(n,{width:"short",context:"standalone"})||s.day(n,{width:"narrow",context:"standalone"});case"cccc":default:return s.day(n,{width:"wide",context:"standalone"})||s.day(n,{width:"abbreviated",context:"standalone"})||s.day(n,{width:"short",context:"standalone"})||s.day(n,{width:"narrow",context:"standalone"})}}validate(n,r){return r>=0&&r<=6}set(n,r,s,i){return n=dy(n,s,i),n.setHours(0,0,0,0),n}}function y3(t){let n=q(t).getDay();return n===0&&(n=7),n}function _3(t,e){const n=q(t),r=y3(n),s=e-r;return Ds(n,s)}class w3 extends ge{constructor(){super(...arguments);z(this,"priority",90);z(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"])}parse(n,r,s){const i=o=>o===0?7:o;switch(r){case"i":case"ii":return Ue(r.length,n);case"io":return s.ordinalNumber(n,{unit:"day"});case"iii":return ze(s.day(n,{width:"abbreviated",context:"formatting"})||s.day(n,{width:"short",context:"formatting"})||s.day(n,{width:"narrow",context:"formatting"}),i);case"iiiii":return ze(s.day(n,{width:"narrow",context:"formatting"}),i);case"iiiiii":return ze(s.day(n,{width:"short",context:"formatting"})||s.day(n,{width:"narrow",context:"formatting"}),i);case"iiii":default:return ze(s.day(n,{width:"wide",context:"formatting"})||s.day(n,{width:"abbreviated",context:"formatting"})||s.day(n,{width:"short",context:"formatting"})||s.day(n,{width:"narrow",context:"formatting"}),i)}}validate(n,r){return r>=1&&r<=7}set(n,r,s){return n=_3(n,s),n.setHours(0,0,0,0),n}}class E3 extends ge{constructor(){super(...arguments);z(this,"priority",80);z(this,"incompatibleTokens",["b","B","H","k","t","T"])}parse(n,r,s){switch(r){case"a":case"aa":case"aaa":return s.dayPeriod(n,{width:"abbreviated",context:"formatting"})||s.dayPeriod(n,{width:"narrow",context:"formatting"});case"aaaaa":return s.dayPeriod(n,{width:"narrow",context:"formatting"});case"aaaa":default:return s.dayPeriod(n,{width:"wide",context:"formatting"})||s.dayPeriod(n,{width:"abbreviated",context:"formatting"})||s.dayPeriod(n,{width:"narrow",context:"formatting"})}}set(n,r,s){return n.setHours(uy(s),0,0,0),n}}class x3 extends ge{constructor(){super(...arguments);z(this,"priority",80);z(this,"incompatibleTokens",["a","B","H","k","t","T"])}parse(n,r,s){switch(r){case"b":case"bb":case"bbb":return s.dayPeriod(n,{width:"abbreviated",context:"formatting"})||s.dayPeriod(n,{width:"narrow",context:"formatting"});case"bbbbb":return s.dayPeriod(n,{width:"narrow",context:"formatting"});case"bbbb":default:return s.dayPeriod(n,{width:"wide",context:"formatting"})||s.dayPeriod(n,{width:"abbreviated",context:"formatting"})||s.dayPeriod(n,{width:"narrow",context:"formatting"})}}set(n,r,s){return n.setHours(uy(s),0,0,0),n}}class b3 extends ge{constructor(){super(...arguments);z(this,"priority",80);z(this,"incompatibleTokens",["a","b","t","T"])}parse(n,r,s){switch(r){case"B":case"BB":case"BBB":return s.dayPeriod(n,{width:"abbreviated",context:"formatting"})||s.dayPeriod(n,{width:"narrow",context:"formatting"});case"BBBBB":return s.dayPeriod(n,{width:"narrow",context:"formatting"});case"BBBB":default:return s.dayPeriod(n,{width:"wide",context:"formatting"})||s.dayPeriod(n,{width:"abbreviated",context:"formatting"})||s.dayPeriod(n,{width:"narrow",context:"formatting"})}}set(n,r,s){return n.setHours(uy(s),0,0,0),n}}class T3 extends ge{constructor(){super(...arguments);z(this,"priority",70);z(this,"incompatibleTokens",["H","K","k","t","T"])}parse(n,r,s){switch(r){case"h":return Oe(He.hour12h,n);case"ho":return s.ordinalNumber(n,{unit:"hour"});default:return Ue(r.length,n)}}validate(n,r){return r>=1&&r<=12}set(n,r,s){const i=n.getHours()>=12;return i&&s<12?n.setHours(s+12,0,0,0):!i&&s===12?n.setHours(0,0,0,0):n.setHours(s,0,0,0),n}}class C3 extends ge{constructor(){super(...arguments);z(this,"priority",70);z(this,"incompatibleTokens",["a","b","h","K","k","t","T"])}parse(n,r,s){switch(r){case"H":return Oe(He.hour23h,n);case"Ho":return s.ordinalNumber(n,{unit:"hour"});default:return Ue(r.length,n)}}validate(n,r){return r>=0&&r<=23}set(n,r,s){return n.setHours(s,0,0,0),n}}class S3 extends ge{constructor(){super(...arguments);z(this,"priority",70);z(this,"incompatibleTokens",["h","H","k","t","T"])}parse(n,r,s){switch(r){case"K":return Oe(He.hour11h,n);case"Ko":return s.ordinalNumber(n,{unit:"hour"});default:return Ue(r.length,n)}}validate(n,r){return r>=0&&r<=11}set(n,r,s){return n.getHours()>=12&&s<12?n.setHours(s+12,0,0,0):n.setHours(s,0,0,0),n}}class D3 extends ge{constructor(){super(...arguments);z(this,"priority",70);z(this,"incompatibleTokens",["a","b","h","H","K","t","T"])}parse(n,r,s){switch(r){case"k":return Oe(He.hour24h,n);case"ko":return s.ordinalNumber(n,{unit:"hour"});default:return Ue(r.length,n)}}validate(n,r){return r>=1&&r<=24}set(n,r,s){const i=s<=24?s%24:s;return n.setHours(i,0,0,0),n}}class k3 extends ge{constructor(){super(...arguments);z(this,"priority",60);z(this,"incompatibleTokens",["t","T"])}parse(n,r,s){switch(r){case"m":return Oe(He.minute,n);case"mo":return s.ordinalNumber(n,{unit:"minute"});default:return Ue(r.length,n)}}validate(n,r){return r>=0&&r<=59}set(n,r,s){return n.setMinutes(s,0,0),n}}class I3 extends ge{constructor(){super(...arguments);z(this,"priority",50);z(this,"incompatibleTokens",["t","T"])}parse(n,r,s){switch(r){case"s":return Oe(He.second,n);case"so":return s.ordinalNumber(n,{unit:"second"});default:return Ue(r.length,n)}}validate(n,r){return r>=0&&r<=59}set(n,r,s){return n.setSeconds(s,0),n}}class N3 extends ge{constructor(){super(...arguments);z(this,"priority",30);z(this,"incompatibleTokens",["t","T"])}parse(n,r){const s=i=>Math.trunc(i*Math.pow(10,-r.length+3));return ze(Ue(r.length,n),s)}set(n,r,s){return n.setMilliseconds(s),n}}class P3 extends ge{constructor(){super(...arguments);z(this,"priority",10);z(this,"incompatibleTokens",["t","T","x"])}parse(n,r){switch(r){case"X":return Un($n.basicOptionalMinutes,n);case"XX":return Un($n.basic,n);case"XXXX":return Un($n.basicOptionalSeconds,n);case"XXXXX":return Un($n.extendedOptionalSeconds,n);case"XXX":default:return Un($n.extended,n)}}set(n,r,s){return r.timestampIsSet?n:we(n,n.getTime()-Td(n)-s)}}class R3 extends ge{constructor(){super(...arguments);z(this,"priority",10);z(this,"incompatibleTokens",["t","T","X"])}parse(n,r){switch(r){case"x":return Un($n.basicOptionalMinutes,n);case"xx":return Un($n.basic,n);case"xxxx":return Un($n.basicOptionalSeconds,n);case"xxxxx":return Un($n.extendedOptionalSeconds,n);case"xxx":default:return Un($n.extended,n)}}set(n,r,s){return r.timestampIsSet?n:we(n,n.getTime()-Td(n)-s)}}class A3 extends ge{constructor(){super(...arguments);z(this,"priority",40);z(this,"incompatibleTokens","*")}parse(n){return yS(n)}set(n,r,s){return[we(n,s*1e3),{timestampIsSet:!0}]}}class O3 extends ge{constructor(){super(...arguments);z(this,"priority",20);z(this,"incompatibleTokens","*")}parse(n){return yS(n)}set(n,r,s){return[we(n,s),{timestampIsSet:!0}]}}const M3={G:new JV,y:new ZV,Y:new e3,R:new t3,u:new n3,Q:new r3,q:new s3,M:new i3,L:new o3,w:new l3,I:new u3,d:new f3,D:new p3,E:new m3,e:new g3,c:new v3,i:new w3,a:new E3,b:new x3,B:new b3,h:new T3,H:new C3,K:new S3,k:new D3,m:new k3,s:new I3,S:new N3,X:new P3,x:new R3,t:new A3,T:new O3},j3=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,L3=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,F3=/^'([^]*?)'?$/,V3=/''/g,$3=/\S/,U3=/[a-zA-Z]/;function Gf(t,e,n,r){var g,w,m,_,v,x,T,C;const s=qV(),i=(r==null?void 0:r.locale)??s.locale??dS,o=(r==null?void 0:r.firstWeekContainsDate)??((w=(g=r==null?void 0:r.locale)==null?void 0:g.options)==null?void 0:w.firstWeekContainsDate)??s.firstWeekContainsDate??((_=(m=s.locale)==null?void 0:m.options)==null?void 0:_.firstWeekContainsDate)??1,a=(r==null?void 0:r.weekStartsOn)??((x=(v=r==null?void 0:r.locale)==null?void 0:v.options)==null?void 0:x.weekStartsOn)??s.weekStartsOn??((C=(T=s.locale)==null?void 0:T.options)==null?void 0:C.weekStartsOn)??0;if(e==="")return t===""?q(n):we(n,NaN);const l={firstWeekContainsDate:o,weekStartsOn:a,locale:i},c=[new XV],u=e.match(L3).map(b=>{const S=b[0];if(S in kd){const D=kd[S];return D(b,i.formatLong)}return b}).join("").match(j3),h=[];for(let b of u){!(r!=null&&r.useAdditionalWeekYearTokens)&&gS(b)&&Lm(b,e,t),!(r!=null&&r.useAdditionalDayOfYearTokens)&&mS(b)&&Lm(b,e,t);const S=b[0],D=M3[S];if(D){const{incompatibleTokens:I}=D;if(Array.isArray(I)){const M=h.find(W=>I.includes(W.token)||W.token===S);if(M)throw new RangeError(`The format string mustn't contain \`${M.fullToken}\` and \`${b}\` at the same time`)}else if(D.incompatibleTokens==="*"&&h.length>0)throw new RangeError(`The format string mustn't contain \`${b}\` and any other token at the same time`);h.push({token:S,fullToken:b});const P=D.run(t,b,i.match,l);if(!P)return we(n,NaN);c.push(P.setter),t=P.rest}else{if(S.match(U3))throw new RangeError("Format string contains an unescaped latin alphabet character `"+S+"`");if(b==="''"?b="'":S==="'"&&(b=B3(b)),t.indexOf(b)===0)t=t.slice(b.length);else return we(n,NaN)}}if(t.length>0&&$3.test(t))return we(n,NaN);const f=c.map(b=>b.priority).sort((b,S)=>S-b).filter((b,S,D)=>D.indexOf(b)===S).map(b=>c.filter(S=>S.priority===b).sort((S,D)=>D.subPriority-S.subPriority)).map(b=>b[0]);let p=q(n);if(isNaN(p.getTime()))return we(n,NaN);const y={};for(const b of f){if(!b.validate(p,l))return we(n,NaN);const S=b.set(p,y,l);Array.isArray(S)?(p=S[0],Object.assign(y,S[1])):p=S}return we(n,p)}function B3(t){return t.match(F3)[1].replace(V3,"'")}function W3(t,e){const n=(e==null?void 0:e.additionalDigits)??2,r=q3(t);let s;if(r.date){const l=Q3(r.date,n);s=K3(l.restDateString,l.year)}if(!s||isNaN(s.getTime()))return new Date(NaN);const i=s.getTime();let o=0,a;if(r.time&&(o=G3(r.time),isNaN(o)))return new Date(NaN);if(r.timezone){if(a=X3(r.timezone),isNaN(a))return new Date(NaN)}else{const l=new Date(i+o),c=new Date(0);return c.setFullYear(l.getUTCFullYear(),l.getUTCMonth(),l.getUTCDate()),c.setHours(l.getUTCHours(),l.getUTCMinutes(),l.getUTCSeconds(),l.getUTCMilliseconds()),c}return new Date(i+o+a)}const Bc={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},H3=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,z3=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,Y3=/^([+-])(\d{2})(?::?(\d{2}))?$/;function q3(t){const e={},n=t.split(Bc.dateTimeDelimiter);let r;if(n.length>2)return e;if(/:/.test(n[0])?r=n[0]:(e.date=n[0],r=n[1],Bc.timeZoneDelimiter.test(e.date)&&(e.date=t.split(Bc.timeZoneDelimiter)[0],r=t.substr(e.date.length,t.length))),r){const s=Bc.timezone.exec(r);s?(e.time=r.replace(s[1],""),e.timezone=s[1]):e.time=r}return e}function Q3(t,e){const n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),r=t.match(n);if(!r)return{year:NaN,restDateString:""};const s=r[1]?parseInt(r[1]):null,i=r[2]?parseInt(r[2]):null;return{year:i===null?s:i*100,restDateString:t.slice((r[1]||r[2]).length)}}function K3(t,e){if(e===null)return new Date(NaN);const n=t.match(H3);if(!n)return new Date(NaN);const r=!!n[4],s=aa(n[1]),i=aa(n[2])-1,o=aa(n[3]),a=aa(n[4]),l=aa(n[5])-1;if(r)return n$(e,a,l)?J3(e,a,l):new Date(NaN);{const c=new Date(0);return!e$(e,i,o)||!t$(e,s)?new Date(NaN):(c.setUTCFullYear(e,i,Math.max(s,o)),c)}}function aa(t){return t?parseInt(t):1}function G3(t){const e=t.match(z3);if(!e)return NaN;const n=Xf(e[1]),r=Xf(e[2]),s=Xf(e[3]);return r$(n,r,s)?n*Hh+r*Wh+s*1e3:NaN}function Xf(t){return t&&parseFloat(t.replace(",","."))||0}function X3(t){if(t==="Z")return 0;const e=t.match(Y3);if(!e)return 0;const n=e[1]==="+"?-1:1,r=parseInt(e[2]),s=e[3]&&parseInt(e[3])||0;return s$(r,s)?n*(r*Hh+s*Wh):NaN}function J3(t,e,n){const r=new Date(0);r.setUTCFullYear(t,0,4);const s=r.getUTCDay()||7,i=(e-1)*7+n+1-s;return r.setUTCDate(r.getUTCDate()+i),r}const Z3=[31,null,31,30,31,30,31,31,30,31,30,31];function ES(t){return t%400===0||t%4===0&&t%100!==0}function e$(t,e,n){return e>=0&&e<=11&&n>=1&&n<=(Z3[e]||(ES(t)?29:28))}function t$(t,e){return e>=1&&e<=(ES(t)?366:365)}function n$(t,e,n){return e>=1&&e<=53&&n>=0&&n<=6}function r$(t,e,n){return t===24?e===0&&n===0:n>=0&&n<60&&e>=0&&e<60&&t>=0&&t<25}function s$(t,e){return e>=0&&e<=59}function i$(t){const e=q(t),n=e.getFullYear(),r=e.getMonth(),s=we(t,0);return s.setFullYear(n,r+1,0),s.setHours(0,0,0,0),s.getDate()}function Jt(t,e){const n=q(t),r=n.getFullYear(),s=n.getDate(),i=we(t,0);i.setFullYear(r,e,15),i.setHours(0,0,0,0);const o=i$(i);return n.setMonth(e,Math.min(s,o)),n}function o$(t,e){let n=q(t);return isNaN(+n)?we(t,NaN):(e.year!=null&&n.setFullYear(e.year),e.month!=null&&(n=Jt(n,e.month)),e.date!=null&&n.setDate(e.date),e.hours!=null&&n.setHours(e.hours),e.minutes!=null&&n.setMinutes(e.minutes),e.seconds!=null&&n.setSeconds(e.seconds),e.milliseconds!=null&&n.setMilliseconds(e.milliseconds),n)}function mu(t,e){const n=q(t);return n.setHours(e),n}function gu(t,e){const n=q(t);return n.setMinutes(e),n}function Ri(t,e){const n=q(t),r=Math.trunc(n.getMonth()/3)+1,s=e-r;return Jt(n,n.getMonth()+s*3)}function vu(t,e){const n=q(t);return n.setSeconds(e),n}function jn(t,e){const n=q(t);return isNaN(+n)?we(t,NaN):(n.setFullYear(e),n)}function xS(t){const e=q(t);return e.setDate(1),e.setHours(0,0,0,0),e}function a$(t,e){return Ds(t,-e)}function Co(t,e){return Nn(t,-e)}function bS(t,e){return ay(t,-e)}function jw(t,e){return bd(t,-e)}function So(t,e){return gr(t,-e)}function Wo(t){return TS(t)?(t.nodeName||"").toLowerCase():"#document"}function nn(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Pr(t){var e;return(e=(TS(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function TS(t){return t instanceof Node||t instanceof nn(t).Node}function Yt(t){return t instanceof Element||t instanceof nn(t).Element}function sr(t){return t instanceof HTMLElement||t instanceof nn(t).HTMLElement}function Lw(t){return typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof nn(t).ShadowRoot}function oc(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=Pn(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(s)}function l$(t){return["table","td","th"].includes(Wo(t))}function hy(t){const e=fy(),n=Pn(t);return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function c$(t){let e=vs(t);for(;sr(e)&&!Do(e);){if(hy(e))return e;e=vs(e)}return null}function fy(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Do(t){return["html","body","#document"].includes(Wo(t))}function Pn(t){return nn(t).getComputedStyle(t)}function Yh(t){return Yt(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function vs(t){if(Wo(t)==="html")return t;const e=t.assignedSlot||t.parentNode||Lw(t)&&t.host||Pr(t);return Lw(e)?e.host:e}function CS(t){const e=vs(t);return Do(e)?t.ownerDocument?t.ownerDocument.body:t.body:sr(e)&&oc(e)?e:CS(e)}function Sl(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=CS(t),i=s===((r=t.ownerDocument)==null?void 0:r.body),o=nn(s);return i?e.concat(o,o.visualViewport||[],oc(s)?s:[],o.frameElement&&n?Sl(o.frameElement):[]):e.concat(s,Sl(s,[],n))}const ko=Math.min,Gs=Math.max,Pd=Math.round,Wc=Math.floor,ys=t=>({x:t,y:t}),u$={left:"right",right:"left",bottom:"top",top:"bottom"},d$={start:"end",end:"start"};function h$(t,e,n){return Gs(t,ko(e,n))}function qh(t,e){return typeof t=="function"?t(e):t}function Io(t){return t.split("-")[0]}function ac(t){return t.split("-")[1]}function f$(t){return t==="x"?"y":"x"}function py(t){return t==="y"?"height":"width"}function my(t){return["top","bottom"].includes(Io(t))?"y":"x"}function gy(t){return f$(my(t))}function p$(t,e,n){n===void 0&&(n=!1);const r=ac(t),s=gy(t),i=py(s);let o=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(o=Rd(o)),[o,Rd(o)]}function m$(t){const e=Rd(t);return[$m(t),e,$m(e)]}function $m(t){return t.replace(/start|end/g,e=>d$[e])}function g$(t,e,n){const r=["left","right"],s=["right","left"],i=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return n?e?s:r:e?r:s;case"left":case"right":return e?i:o;default:return[]}}function v$(t,e,n,r){const s=ac(t);let i=g$(Io(t),n==="start",r);return s&&(i=i.map(o=>o+"-"+s),e&&(i=i.concat(i.map($m)))),i}function Rd(t){return t.replace(/left|right|bottom|top/g,e=>u$[e])}function y$(t){return{top:0,right:0,bottom:0,left:0,...t}}function SS(t){return typeof t!="number"?y$(t):{top:t,right:t,bottom:t,left:t}}function Ad(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function Fw(t,e,n){let{reference:r,floating:s}=t;const i=my(e),o=gy(e),a=py(o),l=Io(e),c=i==="y",u=r.x+r.width/2-s.width/2,h=r.y+r.height/2-s.height/2,f=r[a]/2-s[a]/2;let p;switch(l){case"top":p={x:u,y:r.y-s.height};break;case"bottom":p={x:u,y:r.y+r.height};break;case"right":p={x:r.x+r.width,y:h};break;case"left":p={x:r.x-s.width,y:h};break;default:p={x:r.x,y:r.y}}switch(ac(e)){case"start":p[o]-=f*(n&&c?-1:1);break;case"end":p[o]+=f*(n&&c?-1:1);break}return p}const _$=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:o}=n,a=i.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let c=await o.getElementRects({reference:t,floating:e,strategy:s}),{x:u,y:h}=Fw(c,r,l),f=r,p={},y=0;for(let g=0;g<a.length;g++){const{name:w,fn:m}=a[g],{x:_,y:v,data:x,reset:T}=await m({x:u,y:h,initialPlacement:r,placement:f,strategy:s,middlewareData:p,rects:c,platform:o,elements:{reference:t,floating:e}});u=_??u,h=v??h,p={...p,[w]:{...p[w],...x}},T&&y<=50&&(y++,typeof T=="object"&&(T.placement&&(f=T.placement),T.rects&&(c=T.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:s}):T.rects),{x:u,y:h}=Fw(c,f,l)),g=-1)}return{x:u,y:h,placement:f,strategy:s,middlewareData:p}};async function w$(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:i,rects:o,elements:a,strategy:l}=t,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:h="floating",altBoundary:f=!1,padding:p=0}=qh(e,t),y=SS(p),w=a[f?h==="floating"?"reference":"floating":h],m=Ad(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(w)))==null||n?w:w.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(a.floating)),boundary:c,rootBoundary:u,strategy:l})),_=h==="floating"?{x:r,y:s,width:o.floating.width,height:o.floating.height}:o.reference,v=await(i.getOffsetParent==null?void 0:i.getOffsetParent(a.floating)),x=await(i.isElement==null?void 0:i.isElement(v))?await(i.getScale==null?void 0:i.getScale(v))||{x:1,y:1}:{x:1,y:1},T=Ad(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:_,offsetParent:v,strategy:l}):_);return{top:(m.top-T.top+y.top)/x.y,bottom:(T.bottom-m.bottom+y.bottom)/x.y,left:(m.left-T.left+y.left)/x.x,right:(T.right-m.right+y.right)/x.x}}const E$=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:i,platform:o,elements:a,middlewareData:l}=e,{element:c,padding:u=0}=qh(t,e)||{};if(c==null)return{};const h=SS(u),f={x:n,y:r},p=gy(s),y=py(p),g=await o.getDimensions(c),w=p==="y",m=w?"top":"left",_=w?"bottom":"right",v=w?"clientHeight":"clientWidth",x=i.reference[y]+i.reference[p]-f[p]-i.floating[y],T=f[p]-i.reference[p],C=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c));let b=C?C[v]:0;(!b||!await(o.isElement==null?void 0:o.isElement(C)))&&(b=a.floating[v]||i.floating[y]);const S=x/2-T/2,D=b/2-g[y]/2-1,I=ko(h[m],D),P=ko(h[_],D),M=I,W=b-g[y]-P,j=b/2-g[y]/2+S,F=h$(M,j,W),O=!l.arrow&&ac(s)!=null&&j!==F&&i.reference[y]/2-(j<M?I:P)-g[y]/2<0,K=O?j<M?j-M:j-W:0;return{[p]:f[p]+K,data:{[p]:F,centerOffset:j-F-K,...O&&{alignmentOffset:K}},reset:O}}}),x$=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:i,rects:o,initialPlacement:a,platform:l,elements:c}=e,{mainAxis:u=!0,crossAxis:h=!0,fallbackPlacements:f,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:y="none",flipAlignment:g=!0,...w}=qh(t,e);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const m=Io(s),_=Io(a)===a,v=await(l.isRTL==null?void 0:l.isRTL(c.floating)),x=f||(_||!g?[Rd(a)]:m$(a));!f&&y!=="none"&&x.push(...v$(a,g,y,v));const T=[a,...x],C=await w$(e,w),b=[];let S=((r=i.flip)==null?void 0:r.overflows)||[];if(u&&b.push(C[m]),h){const M=p$(s,o,v);b.push(C[M[0]],C[M[1]])}if(S=[...S,{placement:s,overflows:b}],!b.every(M=>M<=0)){var D,I;const M=(((D=i.flip)==null?void 0:D.index)||0)+1,W=T[M];if(W)return{data:{index:M,overflows:S},reset:{placement:W}};let j=(I=S.filter(F=>F.overflows[0]<=0).sort((F,O)=>F.overflows[1]-O.overflows[1])[0])==null?void 0:I.placement;if(!j)switch(p){case"bestFit":{var P;const F=(P=S.map(O=>[O.placement,O.overflows.filter(K=>K>0).reduce((K,A)=>K+A,0)]).sort((O,K)=>O[1]-K[1])[0])==null?void 0:P[0];F&&(j=F);break}case"initialPlacement":j=a;break}if(s!==j)return{reset:{placement:j}}}return{}}}};async function b$(t,e){const{placement:n,platform:r,elements:s}=t,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),o=Io(n),a=ac(n),l=my(n)==="y",c=["left","top"].includes(o)?-1:1,u=i&&l?-1:1,h=qh(e,t);let{mainAxis:f,crossAxis:p,alignmentAxis:y}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...h};return a&&typeof y=="number"&&(p=a==="end"?y*-1:y),l?{x:p*u,y:f*c}:{x:f*c,y:p*u}}const T$=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:i,placement:o,middlewareData:a}=e,l=await b$(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:s+l.x,y:i+l.y,data:{...l,placement:o}}}}};function DS(t){const e=Pn(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=sr(t),i=s?t.offsetWidth:n,o=s?t.offsetHeight:r,a=Pd(n)!==i||Pd(r)!==o;return a&&(n=i,r=o),{width:n,height:r,$:a}}function vy(t){return Yt(t)?t:t.contextElement}function io(t){const e=vy(t);if(!sr(e))return ys(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:i}=DS(e);let o=(i?Pd(n.width):n.width)/r,a=(i?Pd(n.height):n.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const C$=ys(0);function kS(t){const e=nn(t);return!fy()||!e.visualViewport?C$:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function S$(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==nn(t)?!1:e}function pi(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),i=vy(t);let o=ys(1);e&&(r?Yt(r)&&(o=io(r)):o=io(t));const a=S$(i,n,r)?kS(i):ys(0);let l=(s.left+a.x)/o.x,c=(s.top+a.y)/o.y,u=s.width/o.x,h=s.height/o.y;if(i){const f=nn(i),p=r&&Yt(r)?nn(r):r;let y=f,g=y.frameElement;for(;g&&r&&p!==y;){const w=io(g),m=g.getBoundingClientRect(),_=Pn(g),v=m.left+(g.clientLeft+parseFloat(_.paddingLeft))*w.x,x=m.top+(g.clientTop+parseFloat(_.paddingTop))*w.y;l*=w.x,c*=w.y,u*=w.x,h*=w.y,l+=v,c+=x,y=nn(g),g=y.frameElement}}return Ad({width:u,height:h,x:l,y:c})}const D$=[":popover-open",":modal"];function yy(t){return D$.some(e=>{try{return t.matches(e)}catch{return!1}})}function k$(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const i=s==="fixed",o=Pr(r),a=e?yy(e.floating):!1;if(r===o||a&&i)return n;let l={scrollLeft:0,scrollTop:0},c=ys(1);const u=ys(0),h=sr(r);if((h||!h&&!i)&&((Wo(r)!=="body"||oc(o))&&(l=Yh(r)),sr(r))){const f=pi(r);c=io(r),u.x=f.x+r.clientLeft,u.y=f.y+r.clientTop}return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+u.x,y:n.y*c.y-l.scrollTop*c.y+u.y}}function I$(t){return Array.from(t.getClientRects())}function IS(t){return pi(Pr(t)).left+Yh(t).scrollLeft}function N$(t){const e=Pr(t),n=Yh(t),r=t.ownerDocument.body,s=Gs(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),i=Gs(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+IS(t);const a=-n.scrollTop;return Pn(r).direction==="rtl"&&(o+=Gs(e.clientWidth,r.clientWidth)-s),{width:s,height:i,x:o,y:a}}function P$(t,e){const n=nn(t),r=Pr(t),s=n.visualViewport;let i=r.clientWidth,o=r.clientHeight,a=0,l=0;if(s){i=s.width,o=s.height;const c=fy();(!c||c&&e==="fixed")&&(a=s.offsetLeft,l=s.offsetTop)}return{width:i,height:o,x:a,y:l}}function R$(t,e){const n=pi(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,i=sr(t)?io(t):ys(1),o=t.clientWidth*i.x,a=t.clientHeight*i.y,l=s*i.x,c=r*i.y;return{width:o,height:a,x:l,y:c}}function Vw(t,e,n){let r;if(e==="viewport")r=P$(t,n);else if(e==="document")r=N$(Pr(t));else if(Yt(e))r=R$(e,n);else{const s=kS(t);r={...e,x:e.x-s.x,y:e.y-s.y}}return Ad(r)}function NS(t,e){const n=vs(t);return n===e||!Yt(n)||Do(n)?!1:Pn(n).position==="fixed"||NS(n,e)}function A$(t,e){const n=e.get(t);if(n)return n;let r=Sl(t,[],!1).filter(a=>Yt(a)&&Wo(a)!=="body"),s=null;const i=Pn(t).position==="fixed";let o=i?vs(t):t;for(;Yt(o)&&!Do(o);){const a=Pn(o),l=hy(o);!l&&a.position==="fixed"&&(s=null),(i?!l&&!s:!l&&a.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||oc(o)&&!l&&NS(t,o))?r=r.filter(u=>u!==o):s=a,o=vs(o)}return e.set(t,r),r}function O$(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const o=[...n==="clippingAncestors"?yy(e)?[]:A$(e,this._c):[].concat(n),r],a=o[0],l=o.reduce((c,u)=>{const h=Vw(e,u,s);return c.top=Gs(h.top,c.top),c.right=ko(h.right,c.right),c.bottom=ko(h.bottom,c.bottom),c.left=Gs(h.left,c.left),c},Vw(e,a,s));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function M$(t){const{width:e,height:n}=DS(t);return{width:e,height:n}}function j$(t,e,n){const r=sr(e),s=Pr(e),i=n==="fixed",o=pi(t,!0,i,e);let a={scrollLeft:0,scrollTop:0};const l=ys(0);if(r||!r&&!i)if((Wo(e)!=="body"||oc(s))&&(a=Yh(e)),r){const h=pi(e,!0,i,e);l.x=h.x+e.clientLeft,l.y=h.y+e.clientTop}else s&&(l.x=IS(s));const c=o.left+a.scrollLeft-l.x,u=o.top+a.scrollTop-l.y;return{x:c,y:u,width:o.width,height:o.height}}function Jf(t){return Pn(t).position==="static"}function $w(t,e){return!sr(t)||Pn(t).position==="fixed"?null:e?e(t):t.offsetParent}function PS(t,e){const n=nn(t);if(yy(t))return n;if(!sr(t)){let s=vs(t);for(;s&&!Do(s);){if(Yt(s)&&!Jf(s))return s;s=vs(s)}return n}let r=$w(t,e);for(;r&&l$(r)&&Jf(r);)r=$w(r,e);return r&&Do(r)&&Jf(r)&&!hy(r)?n:r||c$(t)||n}const L$=async function(t){const e=this.getOffsetParent||PS,n=this.getDimensions,r=await n(t.floating);return{reference:j$(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function F$(t){return Pn(t).direction==="rtl"}const RS={convertOffsetParentRelativeRectToViewportRelativeRect:k$,getDocumentElement:Pr,getClippingRect:O$,getOffsetParent:PS,getElementRects:L$,getClientRects:I$,getDimensions:M$,getScale:io,isElement:Yt,isRTL:F$};function V$(t,e){let n=null,r;const s=Pr(t);function i(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),i();const{left:c,top:u,width:h,height:f}=t.getBoundingClientRect();if(a||e(),!h||!f)return;const p=Wc(u),y=Wc(s.clientWidth-(c+h)),g=Wc(s.clientHeight-(u+f)),w=Wc(c),_={rootMargin:-p+"px "+-y+"px "+-g+"px "+-w+"px",threshold:Gs(0,ko(1,l))||1};let v=!0;function x(T){const C=T[0].intersectionRatio;if(C!==l){if(!v)return o();C?o(!1,C):r=setTimeout(()=>{o(!1,1e-7)},1e3)}v=!1}try{n=new IntersectionObserver(x,{..._,root:s.ownerDocument})}catch{n=new IntersectionObserver(x,_)}n.observe(t)}return o(!0),i}function $$(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=vy(t),u=s||i?[...c?Sl(c):[],...Sl(e)]:[];u.forEach(m=>{s&&m.addEventListener("scroll",n,{passive:!0}),i&&m.addEventListener("resize",n)});const h=c&&a?V$(c,n):null;let f=-1,p=null;o&&(p=new ResizeObserver(m=>{let[_]=m;_&&_.target===c&&p&&(p.unobserve(e),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var v;(v=p)==null||v.observe(e)})),n()}),c&&!l&&p.observe(c),p.observe(e));let y,g=l?pi(t):null;l&&w();function w(){const m=pi(t);g&&(m.x!==g.x||m.y!==g.y||m.width!==g.width||m.height!==g.height)&&n(),g=m,y=requestAnimationFrame(w)}return n(),()=>{var m;u.forEach(_=>{s&&_.removeEventListener("scroll",n),i&&_.removeEventListener("resize",n)}),h==null||h(),(m=p)==null||m.disconnect(),p=null,l&&cancelAnimationFrame(y)}}const U$=T$,B$=x$,Uw=E$,W$=(t,e,n)=>{const r=new Map,s={platform:RS,...n},i={...s.platform,_c:r};return _$(t,e,{...s,platform:i})};var yu=typeof document<"u"?E.useLayoutEffect:E.useEffect;function Od(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!Od(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&t.$$typeof)&&!Od(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function AS(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function Bw(t,e){const n=AS(t);return Math.round(e*n)/n}function Ww(t){const e=E.useRef(t);return yu(()=>{e.current=t}),e}function H$(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:o}={},transform:a=!0,whileElementsMounted:l,open:c}=t,[u,h]=E.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[f,p]=E.useState(r);Od(f,r)||p(r);const[y,g]=E.useState(null),[w,m]=E.useState(null),_=E.useCallback(K=>{K!==C.current&&(C.current=K,g(K))},[]),v=E.useCallback(K=>{K!==b.current&&(b.current=K,m(K))},[]),x=i||y,T=o||w,C=E.useRef(null),b=E.useRef(null),S=E.useRef(u),D=l!=null,I=Ww(l),P=Ww(s),M=E.useCallback(()=>{if(!C.current||!b.current)return;const K={placement:e,strategy:n,middleware:f};P.current&&(K.platform=P.current),W$(C.current,b.current,K).then(A=>{const H={...A,isPositioned:!0};W.current&&!Od(S.current,H)&&(S.current=H,Jd.flushSync(()=>{h(H)}))})},[f,e,n,P]);yu(()=>{c===!1&&S.current.isPositioned&&(S.current.isPositioned=!1,h(K=>({...K,isPositioned:!1})))},[c]);const W=E.useRef(!1);yu(()=>(W.current=!0,()=>{W.current=!1}),[]),yu(()=>{if(x&&(C.current=x),T&&(b.current=T),x&&T){if(I.current)return I.current(x,T,M);M()}},[x,T,M,I,D]);const j=E.useMemo(()=>({reference:C,floating:b,setReference:_,setFloating:v}),[_,v]),F=E.useMemo(()=>({reference:x,floating:T}),[x,T]),O=E.useMemo(()=>{const K={position:n,left:0,top:0};if(!F.floating)return K;const A=Bw(F.floating,u.x),H=Bw(F.floating,u.y);return a?{...K,transform:"translate("+A+"px, "+H+"px)",...AS(F.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:A,top:H}},[n,a,F.floating,u.x,u.y]);return E.useMemo(()=>({...u,update:M,refs:j,elements:F,floatingStyles:O}),[u,M,j,F,O])}const z$=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?Uw({element:r.current,padding:s}).fn(n):{}:r?Uw({element:r,padding:s}).fn(n):{}}}},Y$=(t,e)=>({...U$(t),options:[t,e]}),q$=(t,e)=>({...B$(t),options:[t,e]}),Q$=(t,e)=>({...z$(t),options:[t,e]}),OS={...wE},K$=OS.useInsertionEffect,G$=K$||(t=>t());function X$(t){const e=E.useRef(()=>{});return G$(()=>{e.current=t}),E.useCallback(function(){for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return e.current==null?void 0:e.current(...r)},[])}var Um=typeof document<"u"?E.useLayoutEffect:E.useEffect;function Bm(){return Bm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Bm.apply(this,arguments)}let Hw=!1,J$=0;const zw=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+J$++;function Z$(){const[t,e]=E.useState(()=>Hw?zw():void 0);return Um(()=>{t==null&&e(zw())},[]),E.useEffect(()=>{Hw=!0},[]),t}const eU=OS.useId,MS=eU||Z$,tU=E.forwardRef(function(e,n){const{context:{placement:r,elements:{floating:s},middlewareData:{arrow:i}},width:o=14,height:a=7,tipRadius:l=0,strokeWidth:c=0,staticOffset:u,stroke:h,d:f,style:{transform:p,...y}={},...g}=e,w=MS();if(!s)return null;const m=c*2,_=m/2,v=o/2*(l/-8+1),x=a/2*l/4,[T,C]=r.split("-"),b=RS.isRTL(s),S=!!f,D=T==="top"||T==="bottom",I=u&&C==="end"?"bottom":"top";let P=u&&C==="end"?"right":"left";u&&b&&(P=C==="end"?"left":"right");const M=(i==null?void 0:i.x)!=null?u||i.x:"",W=(i==null?void 0:i.y)!=null?u||i.y:"",j=f||"M0,0"+(" H"+o)+(" L"+(o-v)+","+(a-x))+(" Q"+o/2+","+a+" "+v+","+(a-x))+" Z",F={top:S?"rotate(180deg)":"",left:S?"rotate(90deg)":"rotate(-90deg)",bottom:S?"":"rotate(180deg)",right:S?"rotate(-90deg)":"rotate(90deg)"}[T];return E.createElement("svg",Bm({},g,{"aria-hidden":!0,ref:n,width:S?o:o+m,height:o,viewBox:"0 0 "+o+" "+(a>o?a:o),style:{position:"absolute",pointerEvents:"none",[P]:M,[I]:W,[T]:D||S?"100%":"calc(100% - "+m/2+"px)",transform:""+F+(p??""),...y}}),m>0&&E.createElement("path",{clipPath:"url(#"+w+")",fill:"none",stroke:h,strokeWidth:m+(f?0:1),d:j}),E.createElement("path",{stroke:m&&!f?g.fill:"none",d:j}),E.createElement("clipPath",{id:w},E.createElement("rect",{x:-_,y:_*(S?-1:1),width:o+m,height:o})))});function nU(){const t=new Map;return{emit(e,n){var r;(r=t.get(e))==null||r.forEach(s=>s(n))},on(e,n){t.set(e,[...t.get(e)||[],n])},off(e,n){var r;t.set(e,((r=t.get(e))==null?void 0:r.filter(s=>s!==n))||[])}}}const rU=E.createContext(null),sU=E.createContext(null),iU=()=>{var t;return((t=E.useContext(rU))==null?void 0:t.id)||null},oU=()=>E.useContext(sU);function aU(t){const{open:e=!1,onOpenChange:n,elements:r}=t,s=MS(),i=E.useRef({}),[o]=E.useState(()=>nU()),a=iU()!=null,[l,c]=E.useState(r.reference),u=X$((p,y,g)=>{i.current.openEvent=p?y:void 0,o.emit("openchange",{open:p,event:y,reason:g,nested:a}),n==null||n(p,y,g)}),h=E.useMemo(()=>({setPositionReference:c}),[]),f=E.useMemo(()=>({reference:l||r.reference||null,floating:r.floating||null,domReference:r.reference}),[l,r.reference,r.floating]);return E.useMemo(()=>({dataRef:i,open:e,onOpenChange:u,elements:f,events:o,floatingId:s,refs:h}),[e,u,f,o,s,h])}function lU(t){t===void 0&&(t={});const{nodeId:e}=t,n=aU({...t,elements:{reference:null,floating:null,...t.elements}}),r=t.rootContext||n,s=r.elements,[i,o]=E.useState(null),[a,l]=E.useState(null),u=(s==null?void 0:s.reference)||i,h=E.useRef(null),f=oU();Um(()=>{u&&(h.current=u)},[u]);const p=H$({...t,elements:{...s,...a&&{reference:a}}}),y=E.useCallback(v=>{const x=Yt(v)?{getBoundingClientRect:()=>v.getBoundingClientRect(),contextElement:v}:v;l(x),p.refs.setReference(x)},[p.refs]),g=E.useCallback(v=>{(Yt(v)||v===null)&&(h.current=v,o(v)),(Yt(p.refs.reference.current)||p.refs.reference.current===null||v!==null&&!Yt(v))&&p.refs.setReference(v)},[p.refs]),w=E.useMemo(()=>({...p.refs,setReference:g,setPositionReference:y,domReference:h}),[p.refs,g,y]),m=E.useMemo(()=>({...p.elements,domReference:u}),[p.elements,u]),_=E.useMemo(()=>({...p,...r,refs:w,elements:m,nodeId:e}),[p,w,m,e,r]);return Um(()=>{r.dataRef.current.floatingContext=_;const v=f==null?void 0:f.nodesRef.current.find(x=>x.id===e);v&&(v.context=_)}),E.useMemo(()=>({...p,context:_,refs:w,elements:m}),[p,w,m,_])}/*!
  react-datepicker v7.0.0
  https://github.com/Hacker0x01/react-datepicker
  Released under the MIT License.
*/var Wm=function(e,n){return Wm=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,s){r.__proto__=s}||function(r,s){for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(r[i]=s[i])},Wm(e,n)};function dt(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Wm(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var de=function(){return de=Object.assign||function(n){for(var r,s=1,i=arguments.length;s<i;s++){r=arguments[s];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])}return n},de.apply(this,arguments)};function zn(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}var cU=function(t){var e=t.showTimeSelectOnly,n=e===void 0?!1:e,r=t.showTime,s=r===void 0?!1:r,i=t.className,o=t.children,a=n?"Choose Time":"Choose Date".concat(s?" and Time":"");return k.createElement("div",{className:i,role:"dialog","aria-label":a,"aria-modal":"true"},o)},U;(function(t){t.ArrowUp="ArrowUp",t.ArrowDown="ArrowDown",t.ArrowLeft="ArrowLeft",t.ArrowRight="ArrowRight",t.PageUp="PageUp",t.PageDown="PageDown",t.Home="Home",t.End="End",t.Enter="Enter",t.Space=" ",t.Tab="Tab",t.Escape="Escape",t.Backspace="Backspace",t.X="x"})(U||(U={}));function jS(){var t=typeof window<"u"?window:globalThis;return t}var lc=12,uU=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g;function Ee(t){if(t==null)return new Date;var e=typeof t=="string"?W3(t):q(t);return ar(e)?e:new Date}function dU(t,e,n,r,s){var i,o=null,a=Xs(n)||Xs(Ua()),l=!0;if(Array.isArray(e))return e.forEach(function(u){var h=Gf(t,u,new Date,{locale:a,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});r&&(l=ar(h,s)&&t===Pe(h,u,n)),ar(h,s)&&l&&(o=h)}),o;if(o=Gf(t,e,new Date,{locale:a,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0}),r)l=ar(o)&&t===Pe(o,e,n);else if(!ar(o)){var c=((i=e.match(uU))!==null&&i!==void 0?i:[]).map(function(u){var h=u[0];if(h==="p"||h==="P"){var f=kd[h];return a?f(u,a.formatLong):h}return u}).join("");t.length>0&&(o=Gf(t,c.slice(0,t.length),new Date,{useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0})),ar(o)||(o=new Date(t))}return ar(o)&&l?o:null}function ar(t,e){return Id(t)&&!fi(t,e??new Date("1/1/1800"))}function Pe(t,e,n){if(n==="en")return Rw(t,e,{useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});var r=n?Xs(n):void 0;return n&&!r&&console.warn('A locale object was not found for the provided string ["'.concat(n,'"].')),!r&&Ua()&&Xs(Ua())&&(r=Xs(Ua())),Rw(t,e,{locale:r,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0})}function ln(t,e){var n=e.dateFormat,r=e.locale,s=Array.isArray(n)&&n.length>0?n[0]:n;return t&&Pe(t,s,r)||""}function hU(t,e,n){if(!t)return"";var r=ln(t,n),s=e?ln(e,n):"";return"".concat(r," - ").concat(s)}function fU(t,e){if(!(t!=null&&t.length))return"";var n=t[0]?ln(t[0],e):"";if(t.length===1)return n;if(t.length===2&&t[1]){var r=ln(t[1],e);return"".concat(n,", ").concat(r)}var s=t.length-1;return"".concat(n," (+").concat(s,")")}function Zf(t,e){var n=e.hour,r=n===void 0?0:n,s=e.minute,i=s===void 0?0:s,o=e.second,a=o===void 0?0:o;return mu(gu(vu(t,a),i),r)}function pU(t){return ly(t)}function mU(t,e){return Pe(t,"ddd",e)}function _u(t){return hi(t)}function cs(t,e,n){var r=Xs(e||Ua());return Sr(t,{locale:r,weekStartsOn:n})}function us(t){return xS(t)}function Ea(t){return zh(t)}function Yw(t){return Vm(t)}function qw(){return hi(Ee())}function Qw(t){return cS(t)}function gU(t){return QF(t)}function Ln(t,e){return t&&e?YV(t,e):!t&&!e}function Ot(t,e){return t&&e?HV(t,e):!t&&!e}function Md(t,e){return t&&e?zV(t,e):!t&&!e}function ce(t,e){return t&&e?WV(t,e):!t&&!e}function Hs(t,e){return t&&e?BV(t,e):!t&&!e}function xa(t,e,n){var r,s=hi(e),i=cS(n);try{r=Cl(t,{start:s,end:i})}catch{r=!1}return r}function Ua(){var t=jS();return t.__localeId__}function Xs(t){if(typeof t=="string"){var e=jS();return e.__localeData__?e.__localeData__[t]:void 0}else return t}function vU(t,e,n){return e(Pe(t,"EEEE",n))}function yU(t,e){return Pe(t,"EEEEEE",e)}function _U(t,e){return Pe(t,"EEE",e)}function _y(t,e){return Pe(Jt(Ee(),t),"LLLL",e)}function LS(t,e){return Pe(Jt(Ee(),t),"LLL",e)}function wU(t,e){return Pe(Ri(Ee(),t),"QQQ",e)}function zs(t,e){var n=e===void 0?{}:e,r=n.minDate,s=n.maxDate,i=n.excludeDates,o=n.excludeDateIntervals,a=n.includeDates,l=n.includeDateIntervals,c=n.filterDate;return cc(t,{minDate:r,maxDate:s})||i&&i.some(function(u){var h;return u instanceof Date?ce(t,u):ce(t,(h=u.date)!==null&&h!==void 0?h:new Date)})||o&&o.some(function(u){var h=u.start,f=u.end;return Cl(t,{start:h,end:f})})||a&&!a.some(function(u){return ce(t,u)})||l&&!l.some(function(u){var h=u.start,f=u.end;return Cl(t,{start:h,end:f})})||c&&!c(Ee(t))||!1}function wy(t,e){var n=e===void 0?{}:e,r=n.excludeDates,s=n.excludeDateIntervals;return s&&s.length>0?s.some(function(i){var o=i.start,a=i.end;return Cl(t,{start:o,end:a})}):r&&r.some(function(i){var o;return i instanceof Date?ce(t,i):ce(t,(o=i.date)!==null&&o!==void 0?o:new Date)})||!1}function FS(t,e){var n=e===void 0?{}:e,r=n.minDate,s=n.maxDate,i=n.excludeDates,o=n.includeDates,a=n.filterDate;return cc(t,{minDate:r?xS(r):void 0,maxDate:s?YF(s):void 0})||(i==null?void 0:i.some(function(l){return Ot(t,l instanceof Date?l:l.date)}))||o&&!o.some(function(l){return Ot(t,l)})||a&&!a(Ee(t))||!1}function Hc(t,e,n,r){var s=se(t),i=jt(t),o=se(e),a=jt(e),l=se(r);return s===o&&s===l?i<=n&&n<=a:s<o?l===s&&i<=n||l===o&&a>=n||l<o&&l>s:!1}function EU(t,e){var n=e===void 0?{}:e,r=n.minDate,s=n.maxDate,i=n.excludeDates,o=n.includeDates;return cc(t,{minDate:r,maxDate:s})||i&&i.some(function(a){return Ot(a instanceof Date?a:a.date,t)})||o&&!o.some(function(a){return Ot(a,t)})||!1}function ep(t,e){var n=e===void 0?{}:e,r=n.minDate,s=n.maxDate,i=n.excludeDates,o=n.includeDates,a=n.filterDate;return cc(t,{minDate:r,maxDate:s})||(i==null?void 0:i.some(function(l){return Md(t,l instanceof Date?l:l.date)}))||o&&!o.some(function(l){return Md(t,l)})||a&&!a(Ee(t))||!1}function zc(t,e,n){if(!e||!n||!Id(e)||!Id(n))return!1;var r=se(e),s=se(n);return r<=t&&s>=t}function VS(t,e){var n=e===void 0?{}:e,r=n.minDate,s=n.maxDate,i=n.excludeDates,o=n.includeDates,a=n.filterDate,l=new Date(t,0,1);return cc(l,{minDate:r?zh(r):void 0,maxDate:s?uS(s):void 0})||(i==null?void 0:i.some(function(c){return Ln(l,c instanceof Date?c:c.date)}))||o&&!o.some(function(c){return Ln(l,c)})||a&&!a(Ee(l))||!1}function Yc(t,e,n,r){var s=se(t),i=Ks(t),o=se(e),a=Ks(e),l=se(r);return s===o&&s===l?i<=n&&n<=a:s<o?l===s&&i<=n||l===o&&a>=n||l<o&&l>s:!1}function cc(t,e){var n,r=e===void 0?{}:e,s=r.minDate,i=r.maxDate;return(n=s&&Tl(t,s)<0||i&&Tl(t,i)>0)!==null&&n!==void 0?n:!1}function Kw(t,e){return e.some(function(n){return Zn(n)===Zn(t)&&er(n)===er(t)&&yr(n)===yr(t)})}function Gw(t,e){var n=e===void 0?{}:e,r=n.excludeTimes,s=n.includeTimes,i=n.filterTime;return r&&Kw(t,r)||s&&!Kw(t,s)||i&&!i(t)||!1}function Xw(t,e){var n=e.minTime,r=e.maxTime;if(!n||!r)throw new Error("Both minTime and maxTime props required");var s=Ee();s=mu(s,Zn(t)),s=gu(s,er(t)),s=vu(s,yr(t));var i=Ee();i=mu(i,Zn(n)),i=gu(i,er(n)),i=vu(i,yr(n));var o=Ee();o=mu(o,Zn(r)),o=gu(o,er(r)),o=vu(o,yr(r));var a;try{a=!Cl(s,{start:i,end:o})}catch{a=!1}return a}function Jw(t,e){var n=e===void 0?{}:e,r=n.minDate,s=n.includeDates,i=Co(t,1);return r&&Cd(r,i)>0||s&&s.every(function(o){return Cd(o,i)>0})||!1}function Zw(t,e){var n=e===void 0?{}:e,r=n.maxDate,s=n.includeDates,i=Nn(t,1);return r&&Cd(i,r)>0||s&&s.every(function(o){return Cd(i,o)>0})||!1}function xU(t,e){var n=e===void 0?{}:e,r=n.minDate,s=n.includeDates,i=zh(t),o=bS(i,1);return r&&Sd(r,o)>0||s&&s.every(function(a){return Sd(a,o)>0})||!1}function bU(t,e){var n=e===void 0?{}:e,r=n.maxDate,s=n.includeDates,i=uS(t),o=ay(i,1);return r&&Sd(o,r)>0||s&&s.every(function(a){return Sd(o,a)>0})||!1}function eE(t,e){var n=e===void 0?{}:e,r=n.minDate,s=n.includeDates,i=So(t,1);return r&&Dd(r,i)>0||s&&s.every(function(o){return Dd(o,i)>0})||!1}function TU(t,e){var n=e===void 0?{}:e,r=n.minDate,s=n.yearItemNumber,i=s===void 0?lc:s,o=Ea(So(t,i)),a=Kr(o,i).endPeriod,l=r&&se(r);return l&&l>a||!1}function tE(t,e){var n=e===void 0?{}:e,r=n.maxDate,s=n.includeDates,i=gr(t,1);return r&&Dd(i,r)>0||s&&s.every(function(o){return Dd(i,o)>0})||!1}function CU(t,e){var n=e===void 0?{}:e,r=n.maxDate,s=n.yearItemNumber,i=s===void 0?lc:s,o=gr(t,i),a=Kr(o,i).startPeriod,l=r&&se(r);return l&&l<a||!1}function $S(t){var e=t.minDate,n=t.includeDates;if(n&&e){var r=n.filter(function(s){return Tl(s,e)>=0});return Mw(r)}else return n?Mw(n):e}function US(t){var e=t.maxDate,n=t.includeDates;if(n&&e){var r=n.filter(function(s){return Tl(s,e)<=0});return Ow(r)}else return n?Ow(n):e}function nE(t,e){var n;t===void 0&&(t=[]),e===void 0&&(e="react-datepicker__day--highlighted");for(var r=new Map,s=0,i=t.length;s<i;s++){var o=t[s];if(vr(o)){var a=Pe(o,"MM.dd.yyyy"),l=r.get(a)||[];l.includes(e)||(l.push(e),r.set(a,l))}else if(typeof o=="object"){var c=Object.keys(o),u=(n=c[0])!==null&&n!==void 0?n:"",h=o[u];if(typeof u=="string"&&Array.isArray(h))for(var f=0,p=h.length;f<p;f++){var y=h[f];if(y){var a=Pe(y,"MM.dd.yyyy"),l=r.get(a)||[];l.includes(u)||(l.push(u),r.set(a,l))}}}}return r}function SU(t,e){return t.length!==e.length?!1:t.every(function(n,r){return n===e[r]})}function DU(t,e){t===void 0&&(t=[]),e===void 0&&(e="react-datepicker__day--holidays");var n=new Map;return t.forEach(function(r){var s=r.date,i=r.holidayName;if(vr(s)){var o=Pe(s,"MM.dd.yyyy"),a=n.get(o)||{className:"",holidayNames:[]};if(!("className"in a&&a.className===e&&SU(a.holidayNames,[i]))){a.className=e;var l=a.holidayNames;a.holidayNames=l?zn(zn([],l,!0),[i],!1):[i],n.set(o,a)}}}),n}function kU(t,e,n,r,s){for(var i=s.length,o=[],a=0;a<i;a++){var l=t,c=s[a];c&&(l=HF(l,Zn(c)),l=jm(l,er(c)),l=zF(l,yr(c)));var u=jm(t,(n+1)*r);gs(l,e)&&fi(l,u)&&c!=null&&o.push(c)}return o}function rE(t){return t<10?"0".concat(t):"".concat(t)}function Kr(t,e){e===void 0&&(e=lc);var n=Math.ceil(se(t)/e)*e,r=n-(e-1);return{startPeriod:r,endPeriod:n}}function IU(t){var e=new Date(t.getFullYear(),t.getMonth(),t.getDate()),n=new Date(t.getFullYear(),t.getMonth(),t.getDate(),24);return Math.round((+n-+e)/36e5)}function sE(t){var e=t.getSeconds(),n=t.getMilliseconds();return q(t.getTime()-e*1e3-n)}function NU(t,e){return sE(t).getTime()===sE(e).getTime()}function iE(t){if(!vr(t))throw new Error("Invalid date");var e=new Date(t);return e.setHours(0,0,0,0),e}function oE(t,e){if(!vr(t)||!vr(e))throw new Error("Invalid date received");var n=iE(t),r=iE(e);return fi(n,r)}function BS(t){return t.key===U.Space}var PU=function(t){dt(e,t);function e(n){var r=t.call(this,n)||this;return r.onTimeChange=function(s){var i,o;r.setState({time:s});var a=r.props.date,l=a instanceof Date&&!isNaN(+a),c=l?a:new Date;if(s!=null&&s.includes(":")){var u=s.split(":"),h=u[0],f=u[1];c.setHours(Number(h)),c.setMinutes(Number(f))}(o=(i=r.props).onChange)===null||o===void 0||o.call(i,c)},r.renderTimeInput=function(){var s=r.state.time,i=r.props,o=i.date,a=i.timeString,l=i.customTimeInput;return l?E.cloneElement(l,{date:o,value:s,onChange:r.onTimeChange}):k.createElement("input",{type:"time",className:"react-datepicker-time__input",placeholder:"Time",name:"time-input",required:!0,value:s,onChange:function(c){r.onTimeChange(c.target.value||a)}})},r.state={time:r.props.timeString},r}return e.getDerivedStateFromProps=function(n,r){return n.timeString!==r.time?{time:n.timeString}:null},e.prototype.render=function(){return k.createElement("div",{className:"react-datepicker__input-time-container"},k.createElement("div",{className:"react-datepicker-time__caption"},this.props.timeInputLabel),k.createElement("div",{className:"react-datepicker-time__input-container"},k.createElement("div",{className:"react-datepicker-time__input"},this.renderTimeInput())))},e}(E.Component),RU=function(t){dt(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.dayEl=E.createRef(),n.handleClick=function(r){!n.isDisabled()&&n.props.onClick&&n.props.onClick(r)},n.handleMouseEnter=function(r){!n.isDisabled()&&n.props.onMouseEnter&&n.props.onMouseEnter(r)},n.handleOnKeyDown=function(r){var s,i,o=r.key;o===U.Space&&(r.preventDefault(),r.key=U.Enter),(i=(s=n.props).handleOnKeyDown)===null||i===void 0||i.call(s,r)},n.isSameDay=function(r){return ce(n.props.day,r)},n.isKeyboardSelected=function(){var r;if(n.props.disabledKeyboardNavigation)return!1;var s=n.props.selectsMultiple?(r=n.props.selectedDates)===null||r===void 0?void 0:r.some(function(i){return n.isSameDayOrWeek(i)}):n.isSameDayOrWeek(n.props.selected);return!s&&n.isSameDayOrWeek(n.props.preSelection)},n.isDisabled=function(){return zs(n.props.day,{minDate:n.props.minDate,maxDate:n.props.maxDate,excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals,includeDateIntervals:n.props.includeDateIntervals,includeDates:n.props.includeDates,filterDate:n.props.filterDate})},n.isExcluded=function(){return wy(n.props.day,{excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals})},n.isStartOfWeek=function(){return ce(n.props.day,cs(n.props.day,n.props.locale,n.props.calendarStartDay))},n.isSameWeek=function(r){return n.props.showWeekPicker&&ce(r,cs(n.props.day,n.props.locale,n.props.calendarStartDay))},n.isSameDayOrWeek=function(r){return n.isSameDay(r)||n.isSameWeek(r)},n.getHighLightedClass=function(){var r=n.props,s=r.day,i=r.highlightDates;if(!i)return!1;var o=Pe(s,"MM.dd.yyyy");return i.get(o)},n.getHolidaysClass=function(){var r,s=n.props,i=s.day,o=s.holidays;if(!o)return[void 0];var a=Pe(i,"MM.dd.yyyy");return o.has(a)?[(r=o.get(a))===null||r===void 0?void 0:r.className]:[void 0]},n.isInRange=function(){var r=n.props,s=r.day,i=r.startDate,o=r.endDate;return!i||!o?!1:xa(s,i,o)},n.isInSelectingRange=function(){var r,s=n.props,i=s.day,o=s.selectsStart,a=s.selectsEnd,l=s.selectsRange,c=s.selectsDisabledDaysInRange,u=s.startDate,h=s.endDate,f=(r=n.props.selectingDate)!==null&&r!==void 0?r:n.props.preSelection;return!(o||a||l)||!f||!c&&n.isDisabled()?!1:o&&h&&(fi(f,h)||Hs(f,h))?xa(i,f,h):a&&u&&(gs(f,u)||Hs(f,u))||l&&u&&!h&&(gs(f,u)||Hs(f,u))?xa(i,u,f):!1},n.isSelectingRangeStart=function(){var r;if(!n.isInSelectingRange())return!1;var s=n.props,i=s.day,o=s.startDate,a=s.selectsStart,l=(r=n.props.selectingDate)!==null&&r!==void 0?r:n.props.preSelection;return a?ce(i,l):ce(i,o)},n.isSelectingRangeEnd=function(){var r;if(!n.isInSelectingRange())return!1;var s=n.props,i=s.day,o=s.endDate,a=s.selectsEnd,l=s.selectsRange,c=(r=n.props.selectingDate)!==null&&r!==void 0?r:n.props.preSelection;return a||l?ce(i,c):ce(i,o)},n.isRangeStart=function(){var r=n.props,s=r.day,i=r.startDate,o=r.endDate;return!i||!o?!1:ce(i,s)},n.isRangeEnd=function(){var r=n.props,s=r.day,i=r.startDate,o=r.endDate;return!i||!o?!1:ce(o,s)},n.isWeekend=function(){var r=UV(n.props.day);return r===0||r===6},n.isAfterMonth=function(){return n.props.month!==void 0&&(n.props.month+1)%12===jt(n.props.day)},n.isBeforeMonth=function(){return n.props.month!==void 0&&(jt(n.props.day)+1)%12===n.props.month},n.isCurrentDay=function(){return n.isSameDay(Ee())},n.isSelected=function(){var r;return n.props.selectsMultiple?(r=n.props.selectedDates)===null||r===void 0?void 0:r.some(function(s){return n.isSameDayOrWeek(s)}):n.isSameDayOrWeek(n.props.selected)},n.getClassNames=function(r){var s=n.props.dayClassName?n.props.dayClassName(r):void 0;return at("react-datepicker__day",s,"react-datepicker__day--"+mU(n.props.day),{"react-datepicker__day--disabled":n.isDisabled(),"react-datepicker__day--excluded":n.isExcluded(),"react-datepicker__day--selected":n.isSelected(),"react-datepicker__day--keyboard-selected":n.isKeyboardSelected(),"react-datepicker__day--range-start":n.isRangeStart(),"react-datepicker__day--range-end":n.isRangeEnd(),"react-datepicker__day--in-range":n.isInRange(),"react-datepicker__day--in-selecting-range":n.isInSelectingRange(),"react-datepicker__day--selecting-range-start":n.isSelectingRangeStart(),"react-datepicker__day--selecting-range-end":n.isSelectingRangeEnd(),"react-datepicker__day--today":n.isCurrentDay(),"react-datepicker__day--weekend":n.isWeekend(),"react-datepicker__day--outside-month":n.isAfterMonth()||n.isBeforeMonth()},n.getHighLightedClass(),n.getHolidaysClass())},n.getAriaLabel=function(){var r=n.props,s=r.day,i=r.ariaLabelPrefixWhenEnabled,o=i===void 0?"Choose":i,a=r.ariaLabelPrefixWhenDisabled,l=a===void 0?"Not available":a,c=n.isDisabled()||n.isExcluded()?l:o;return"".concat(c," ").concat(Pe(s,"PPPP",n.props.locale))},n.getTitle=function(){var r=n.props,s=r.day,i=r.holidays,o=i===void 0?new Map:i,a=r.excludeDates,l=Pe(s,"MM.dd.yyyy"),c=[];return o.has(l)&&c.push.apply(c,o.get(l).holidayNames),n.isExcluded()&&c.push(a==null?void 0:a.filter(function(u){return u instanceof Date?ce(u,s):ce(u==null?void 0:u.date,s)}).map(function(u){if(!(u instanceof Date))return u==null?void 0:u.message})),c.join(", ")},n.getTabIndex=function(){var r=n.props.selected,s=n.props.preSelection,i=!(n.props.showWeekPicker&&(n.props.showWeekNumber||!n.isStartOfWeek()))&&(n.isKeyboardSelected()||n.isSameDay(r)&&ce(s,r))?0:-1;return i},n.handleFocusDay=function(){var r;n.shouldFocusDay()&&((r=n.dayEl.current)===null||r===void 0||r.focus({preventScroll:!0}))},n.renderDayContents=function(){return n.props.monthShowsDuplicateDaysEnd&&n.isAfterMonth()||n.props.monthShowsDuplicateDaysStart&&n.isBeforeMonth()?null:n.props.renderDayContents?n.props.renderDayContents(Aw(n.props.day),n.props.day):Aw(n.props.day)},n.render=function(){return k.createElement("div",{ref:n.dayEl,className:n.getClassNames(n.props.day),onKeyDown:n.handleOnKeyDown,onClick:n.handleClick,onMouseEnter:n.props.usePointerEvent?void 0:n.handleMouseEnter,onPointerEnter:n.props.usePointerEvent?n.handleMouseEnter:void 0,tabIndex:n.getTabIndex(),"aria-label":n.getAriaLabel(),role:"option",title:n.getTitle(),"aria-disabled":n.isDisabled(),"aria-current":n.isCurrentDay()?"date":void 0,"aria-selected":n.isSelected()||n.isInRange()},n.renderDayContents(),n.getTitle()!==""&&k.createElement("span",{className:"overlay"},n.getTitle()))},n}return e.prototype.componentDidMount=function(){this.handleFocusDay()},e.prototype.componentDidUpdate=function(){this.handleFocusDay()},e.prototype.shouldFocusDay=function(){var n=!1;return this.getTabIndex()===0&&this.isSameDay(this.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(n=!0),this.props.inline&&!this.props.shouldFocusDayInline&&(n=!1),this.isDayActiveElement()&&(n=!0),this.isDuplicateDay()&&(n=!1)),n},e.prototype.isDayActiveElement=function(){var n,r,s;return((r=(n=this.props.containerRef)===null||n===void 0?void 0:n.current)===null||r===void 0?void 0:r.contains(document.activeElement))&&((s=document.activeElement)===null||s===void 0?void 0:s.classList.contains("react-datepicker__day"))},e.prototype.isDuplicateDay=function(){return this.props.monthShowsDuplicateDaysEnd&&this.isAfterMonth()||this.props.monthShowsDuplicateDaysStart&&this.isBeforeMonth()},e}(E.Component),AU=function(t){dt(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.weekNumberEl=E.createRef(),n.handleClick=function(r){n.props.onClick&&n.props.onClick(r)},n.handleOnKeyDown=function(r){var s,i,o=r.key;o===U.Space&&(r.preventDefault(),r.key=U.Enter),(i=(s=n.props).handleOnKeyDown)===null||i===void 0||i.call(s,r)},n.isKeyboardSelected=function(){return!n.props.disabledKeyboardNavigation&&!ce(n.props.date,n.props.selected)&&ce(n.props.date,n.props.preSelection)},n.getTabIndex=function(){return n.props.showWeekPicker&&n.props.showWeekNumber&&(n.isKeyboardSelected()||ce(n.props.date,n.props.selected)&&ce(n.props.preSelection,n.props.selected))?0:-1},n.handleFocusWeekNumber=function(r){var s=!1;n.getTabIndex()===0&&!(r!=null&&r.isInputFocused)&&ce(n.props.date,n.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(s=!0),n.props.inline&&!n.props.shouldFocusDayInline&&(s=!1),n.props.containerRef&&n.props.containerRef.current&&n.props.containerRef.current.contains(document.activeElement)&&document.activeElement&&document.activeElement.classList.contains("react-datepicker__week-number")&&(s=!0)),s&&n.weekNumberEl.current&&n.weekNumberEl.current.focus({preventScroll:!0})},n}return Object.defineProperty(e,"defaultProps",{get:function(){return{ariaLabelPrefix:"week "}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){this.handleFocusWeekNumber()},e.prototype.componentDidUpdate=function(n){this.handleFocusWeekNumber(n)},e.prototype.render=function(){var n=this.props,r=n.weekNumber,s=n.ariaLabelPrefix,i=s===void 0?e.defaultProps.ariaLabelPrefix:s,o=n.onClick,a={"react-datepicker__week-number":!0,"react-datepicker__week-number--clickable":!!o,"react-datepicker__week-number--selected":!!o&&ce(this.props.date,this.props.selected),"react-datepicker__week-number--keyboard-selected":this.isKeyboardSelected()};return k.createElement("div",{ref:this.weekNumberEl,className:at(a),"aria-label":"".concat(i," ").concat(this.props.weekNumber),onClick:this.handleClick,onKeyDown:this.handleOnKeyDown,tabIndex:this.getTabIndex()},r)},e}(E.Component),OU=function(t){dt(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.handleDayClick=function(r,s){n.props.onDayClick&&n.props.onDayClick(r,s)},n.handleDayMouseEnter=function(r){n.props.onDayMouseEnter&&n.props.onDayMouseEnter(r)},n.handleWeekClick=function(r,s,i){var o,a,l;typeof n.props.onWeekSelect=="function"&&n.props.onWeekSelect(r,s,i),n.props.showWeekPicker&&n.handleDayClick(r,i),((o=n.props.shouldCloseOnSelect)!==null&&o!==void 0?o:e.defaultProps.shouldCloseOnSelect)&&((l=(a=n.props).setOpen)===null||l===void 0||l.call(a,!1))},n.formatWeekNumber=function(r){return n.props.formatWeekNumber?n.props.formatWeekNumber(r):pU(r)},n.renderDays=function(){var r=n.startOfWeek(),s=[],i=n.formatWeekNumber(r);if(n.props.showWeekNumber){var o=n.props.onWeekSelect||n.props.showWeekPicker?n.handleWeekClick.bind(n,r,i):void 0;s.push(k.createElement(AU,de({key:"W"},e.defaultProps,n.props,{weekNumber:i,date:r,onClick:o})))}return s.concat([0,1,2,3,4,5,6].map(function(a){var l=Ds(r,a);return k.createElement(RU,de({},e.defaultProps,n.props,{ariaLabelPrefixWhenEnabled:n.props.chooseDayAriaLabelPrefix,ariaLabelPrefixWhenDisabled:n.props.disabledDayAriaLabelPrefix,key:l.valueOf(),day:l,onClick:n.handleDayClick.bind(n,l),onMouseEnter:n.handleDayMouseEnter.bind(n,l)}))}))},n.startOfWeek=function(){return cs(n.props.day,n.props.locale,n.props.calendarStartDay)},n.isKeyboardSelected=function(){return!n.props.disabledKeyboardNavigation&&!ce(n.startOfWeek(),n.props.selected)&&ce(n.startOfWeek(),n.props.preSelection)},n}return Object.defineProperty(e,"defaultProps",{get:function(){return{shouldCloseOnSelect:!0}},enumerable:!1,configurable:!0}),e.prototype.render=function(){var n={"react-datepicker__week":!0,"react-datepicker__week--selected":ce(this.startOfWeek(),this.props.selected),"react-datepicker__week--keyboard-selected":this.isKeyboardSelected()};return k.createElement("div",{className:at(n)},this.renderDays())},e}(E.Component),la,MU=6,oo={TWO_COLUMNS:"two_columns",THREE_COLUMNS:"three_columns",FOUR_COLUMNS:"four_columns"},tp=(la={},la[oo.TWO_COLUMNS]={grid:[[0,1],[2,3],[4,5],[6,7],[8,9],[10,11]],verticalNavigationOffset:2},la[oo.THREE_COLUMNS]={grid:[[0,1,2],[3,4,5],[6,7,8],[9,10,11]],verticalNavigationOffset:3},la[oo.FOUR_COLUMNS]={grid:[[0,1,2,3],[4,5,6,7],[8,9,10,11]],verticalNavigationOffset:4},la),qc=1;function aE(t,e){return t?oo.FOUR_COLUMNS:e?oo.TWO_COLUMNS:oo.THREE_COLUMNS}var jU=function(t){dt(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.MONTH_REFS=zn([],Array(12),!0).map(function(){return E.createRef()}),n.QUARTER_REFS=zn([],Array(4),!0).map(function(){return E.createRef()}),n.isDisabled=function(r){return zs(r,{minDate:n.props.minDate,maxDate:n.props.maxDate,excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals,includeDateIntervals:n.props.includeDateIntervals,includeDates:n.props.includeDates,filterDate:n.props.filterDate})},n.isExcluded=function(r){return wy(r,{excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals})},n.handleDayClick=function(r,s){var i,o;(o=(i=n.props).onDayClick)===null||o===void 0||o.call(i,r,s,n.props.orderInDisplay)},n.handleDayMouseEnter=function(r){var s,i;(i=(s=n.props).onDayMouseEnter)===null||i===void 0||i.call(s,r)},n.handleMouseLeave=function(){var r,s;(s=(r=n.props).onMouseLeave)===null||s===void 0||s.call(r)},n.isRangeStartMonth=function(r){var s=n.props,i=s.day,o=s.startDate,a=s.endDate;return!o||!a?!1:Ot(Jt(i,r),o)},n.isRangeStartQuarter=function(r){var s=n.props,i=s.day,o=s.startDate,a=s.endDate;return!o||!a?!1:Md(Ri(i,r),o)},n.isRangeEndMonth=function(r){var s=n.props,i=s.day,o=s.startDate,a=s.endDate;return!o||!a?!1:Ot(Jt(i,r),a)},n.isRangeEndQuarter=function(r){var s=n.props,i=s.day,o=s.startDate,a=s.endDate;return!o||!a?!1:Md(Ri(i,r),a)},n.isInSelectingRangeMonth=function(r){var s,i=n.props,o=i.day,a=i.selectsStart,l=i.selectsEnd,c=i.selectsRange,u=i.startDate,h=i.endDate,f=(s=n.props.selectingDate)!==null&&s!==void 0?s:n.props.preSelection;return!(a||l||c)||!f?!1:a&&h?Hc(f,h,r,o):l&&u||c&&u&&!h?Hc(u,f,r,o):!1},n.isSelectingMonthRangeStart=function(r){var s;if(!n.isInSelectingRangeMonth(r))return!1;var i=n.props,o=i.day,a=i.startDate,l=i.selectsStart,c=Jt(o,r),u=(s=n.props.selectingDate)!==null&&s!==void 0?s:n.props.preSelection;return l?Ot(c,u):Ot(c,a)},n.isSelectingMonthRangeEnd=function(r){var s;if(!n.isInSelectingRangeMonth(r))return!1;var i=n.props,o=i.day,a=i.endDate,l=i.selectsEnd,c=i.selectsRange,u=Jt(o,r),h=(s=n.props.selectingDate)!==null&&s!==void 0?s:n.props.preSelection;return l||c?Ot(u,h):Ot(u,a)},n.isInSelectingRangeQuarter=function(r){var s,i=n.props,o=i.day,a=i.selectsStart,l=i.selectsEnd,c=i.selectsRange,u=i.startDate,h=i.endDate,f=(s=n.props.selectingDate)!==null&&s!==void 0?s:n.props.preSelection;return!(a||l||c)||!f?!1:a&&h?Yc(f,h,r,o):l&&u||c&&u&&!h?Yc(u,f,r,o):!1},n.isWeekInMonth=function(r){var s=n.props.day,i=Ds(r,6);return Ot(r,s)||Ot(i,s)},n.isCurrentMonth=function(r,s){return se(r)===se(Ee())&&s===jt(Ee())},n.isCurrentQuarter=function(r,s){return se(r)===se(Ee())&&s===Ks(Ee())},n.isSelectedMonth=function(r,s,i){return jt(i)===s&&se(r)===se(i)},n.isSelectedQuarter=function(r,s,i){return Ks(r)===s&&se(r)===se(i)},n.renderWeeks=function(){for(var r=[],s=n.props.fixedHeight,i=0,o=!1,a=cs(us(n.props.day),n.props.locale,n.props.calendarStartDay),l=function(y){return n.props.showWeekPicker?cs(y,n.props.locale,n.props.calendarStartDay):n.props.preSelection},c=function(y){return n.props.showWeekPicker?cs(y,n.props.locale,n.props.calendarStartDay):n.props.selected},u=n.props.selected?c(n.props.selected):void 0,h=n.props.preSelection?l(n.props.preSelection):void 0;r.push(k.createElement(OU,de({},n.props,{ariaLabelPrefix:n.props.weekAriaLabelPrefix,key:i,day:a,month:jt(n.props.day),onDayClick:n.handleDayClick,onDayMouseEnter:n.handleDayMouseEnter,selected:u,preSelection:h,showWeekNumber:n.props.showWeekNumbers}))),!o;){i++,a=bd(a,1);var f=s&&i>=MU,p=!s&&!n.isWeekInMonth(a);if(f||p)if(n.props.peekNextMonth)o=!0;else break}return r},n.onMonthClick=function(r,s){var i=n.isMonthDisabledForLabelDate(s),o=i.isDisabled,a=i.labelDate;o||n.handleDayClick(us(a),r)},n.onMonthMouseEnter=function(r){var s=n.isMonthDisabledForLabelDate(r),i=s.isDisabled,o=s.labelDate;i||n.handleDayMouseEnter(us(o))},n.handleMonthNavigation=function(r,s){var i,o,a,l;(o=(i=n.props).setPreSelection)===null||o===void 0||o.call(i,s),(l=(a=n.MONTH_REFS[r])===null||a===void 0?void 0:a.current)===null||l===void 0||l.focus()},n.handleKeyboardNavigation=function(r,s,i){var o,a=n.props,l=a.selected,c=a.preSelection,u=a.setPreSelection,h=a.minDate,f=a.maxDate,p=a.showFourColumnMonthYearPicker,y=a.showTwoColumnMonthYearPicker;if(c){var g=aE(p,y),w=n.getVerticalOffset(g),m=(o=tp[g])===null||o===void 0?void 0:o.grid,_=function(b,S,D){var I,P,M=S,W=D;switch(b){case U.ArrowRight:M=Nn(S,qc),W=D===11?0:D+qc;break;case U.ArrowLeft:M=Co(S,qc),W=D===0?11:D-qc;break;case U.ArrowUp:M=Co(S,w),W=!((I=m==null?void 0:m[0])===null||I===void 0)&&I.includes(D)?D+12-w:D-w;break;case U.ArrowDown:M=Nn(S,w),W=!((P=m==null?void 0:m[m.length-1])===null||P===void 0)&&P.includes(D)?D-12+w:D+w;break}return{newCalculatedDate:M,newCalculatedMonth:W}},v=function(b,S,D){for(var I=40,P=b,M=!1,W=0,j=_(P,S,D),F=j.newCalculatedDate,O=j.newCalculatedMonth;!M;){if(W>=I){F=S,O=D;break}if(h&&F<h){P=U.ArrowRight;var K=_(P,F,O);F=K.newCalculatedDate,O=K.newCalculatedMonth}if(f&&F>f){P=U.ArrowLeft;var K=_(P,F,O);F=K.newCalculatedDate,O=K.newCalculatedMonth}if(EU(F,n.props)){var K=_(P,F,O);F=K.newCalculatedDate,O=K.newCalculatedMonth}else M=!0;W++}return{newCalculatedDate:F,newCalculatedMonth:O}};if(s===U.Enter){n.isMonthDisabled(i)||(n.onMonthClick(r,i),u==null||u(l));return}var x=v(s,c,i),T=x.newCalculatedDate,C=x.newCalculatedMonth;switch(s){case U.ArrowRight:case U.ArrowLeft:case U.ArrowUp:case U.ArrowDown:n.handleMonthNavigation(C,T);break}}},n.getVerticalOffset=function(r){var s,i;return(i=(s=tp[r])===null||s===void 0?void 0:s.verticalNavigationOffset)!==null&&i!==void 0?i:0},n.onMonthKeyDown=function(r,s){var i=n.props,o=i.disabledKeyboardNavigation,a=i.handleOnMonthKeyDown,l=r.key;l!==U.Tab&&r.preventDefault(),o||n.handleKeyboardNavigation(r,l,s),a&&a(r)},n.onQuarterClick=function(r,s){var i=Ri(n.props.day,s);ep(i,n.props)||n.handleDayClick(Yw(i),r)},n.onQuarterMouseEnter=function(r){var s=Ri(n.props.day,r);ep(s,n.props)||n.handleDayMouseEnter(Yw(s))},n.handleQuarterNavigation=function(r,s){var i,o,a,l;n.isDisabled(s)||n.isExcluded(s)||((o=(i=n.props).setPreSelection)===null||o===void 0||o.call(i,s),(l=(a=n.QUARTER_REFS[r-1])===null||a===void 0?void 0:a.current)===null||l===void 0||l.focus())},n.onQuarterKeyDown=function(r,s){var i,o,a=r.key;if(!n.props.disabledKeyboardNavigation)switch(a){case U.Enter:n.onQuarterClick(r,s),(o=(i=n.props).setPreSelection)===null||o===void 0||o.call(i,n.props.selected);break;case U.ArrowRight:if(!n.props.preSelection)break;n.handleQuarterNavigation(s===4?1:s+1,ay(n.props.preSelection,1));break;case U.ArrowLeft:if(!n.props.preSelection)break;n.handleQuarterNavigation(s===1?4:s-1,bS(n.props.preSelection,1));break}},n.isMonthDisabledForLabelDate=function(r){var s,i=n.props,o=i.day,a=i.minDate,l=i.maxDate,c=i.excludeDates,u=i.includeDates,h=Jt(o,r);return{isDisabled:(s=(a||l||c||u)&&FS(h,n.props))!==null&&s!==void 0?s:!1,labelDate:h}},n.isMonthDisabled=function(r){var s=n.isMonthDisabledForLabelDate(r).isDisabled;return s},n.getMonthClassNames=function(r){var s=n.props,i=s.day,o=s.startDate,a=s.endDate,l=s.selected,c=s.preSelection,u=s.monthClassName,h=u?u(Jt(i,r)):void 0;return at("react-datepicker__month-text","react-datepicker__month-".concat(r),h,{"react-datepicker__month-text--disabled":n.isMonthDisabled(r),"react-datepicker__month-text--selected":l?n.isSelectedMonth(i,r,l):void 0,"react-datepicker__month-text--keyboard-selected":!n.props.disabledKeyboardNavigation&&c&&n.isSelectedMonth(i,r,c),"react-datepicker__month-text--in-selecting-range":n.isInSelectingRangeMonth(r),"react-datepicker__month-text--in-range":o&&a?Hc(o,a,r,i):void 0,"react-datepicker__month-text--range-start":n.isRangeStartMonth(r),"react-datepicker__month-text--range-end":n.isRangeEndMonth(r),"react-datepicker__month-text--selecting-range-start":n.isSelectingMonthRangeStart(r),"react-datepicker__month-text--selecting-range-end":n.isSelectingMonthRangeEnd(r),"react-datepicker__month-text--today":n.isCurrentMonth(i,r)})},n.getTabIndex=function(r){if(n.props.preSelection==null)return"-1";var s=jt(n.props.preSelection),i=!n.props.disabledKeyboardNavigation&&r===s?"0":"-1";return i},n.getQuarterTabIndex=function(r){if(n.props.preSelection==null)return"-1";var s=Ks(n.props.preSelection),i=!n.props.disabledKeyboardNavigation&&r===s?"0":"-1";return i},n.getAriaLabel=function(r){var s=n.props,i=s.chooseDayAriaLabelPrefix,o=i===void 0?"Choose":i,a=s.disabledDayAriaLabelPrefix,l=a===void 0?"Not available":a,c=s.day,u=s.locale,h=Jt(c,r),f=n.isDisabled(h)||n.isExcluded(h)?l:o;return"".concat(f," ").concat(Pe(h,"MMMM yyyy",u))},n.getQuarterClassNames=function(r){var s=n.props,i=s.day,o=s.startDate,a=s.endDate,l=s.selected,c=s.minDate,u=s.maxDate,h=s.preSelection,f=s.disabledKeyboardNavigation;return at("react-datepicker__quarter-text","react-datepicker__quarter-".concat(r),{"react-datepicker__quarter-text--disabled":(c||u)&&ep(Ri(i,r),n.props),"react-datepicker__quarter-text--selected":l?n.isSelectedQuarter(i,r,l):void 0,"react-datepicker__quarter-text--keyboard-selected":!f&&h&&n.isSelectedQuarter(i,r,h),"react-datepicker__quarter-text--in-selecting-range":n.isInSelectingRangeQuarter(r),"react-datepicker__quarter-text--in-range":o&&a?Yc(o,a,r,i):void 0,"react-datepicker__quarter-text--range-start":n.isRangeStartQuarter(r),"react-datepicker__quarter-text--range-end":n.isRangeEndQuarter(r)})},n.getMonthContent=function(r){var s=n.props,i=s.showFullMonthYearPicker,o=s.renderMonthContent,a=s.locale,l=s.day,c=LS(r,a),u=_y(r,a);return o?o(r,c,u,l):i?u:c},n.getQuarterContent=function(r){var s,i=n.props,o=i.renderQuarterContent,a=i.locale,l=wU(r,a);return(s=o==null?void 0:o(r,l))!==null&&s!==void 0?s:l},n.renderMonths=function(){var r,s=n.props,i=s.showTwoColumnMonthYearPicker,o=s.showFourColumnMonthYearPicker,a=s.day,l=s.selected,c=(r=tp[aE(o,i)])===null||r===void 0?void 0:r.grid;return c==null?void 0:c.map(function(u,h){return k.createElement("div",{className:"react-datepicker__month-wrapper",key:h},u.map(function(f,p){return k.createElement("div",{ref:n.MONTH_REFS[f],key:p,onClick:function(y){n.onMonthClick(y,f)},onKeyDown:function(y){BS(y)&&(y.preventDefault(),y.key=U.Enter),n.onMonthKeyDown(y,f)},onMouseEnter:n.props.usePointerEvent?void 0:function(){return n.onMonthMouseEnter(f)},onPointerEnter:n.props.usePointerEvent?function(){return n.onMonthMouseEnter(f)}:void 0,tabIndex:Number(n.getTabIndex(f)),className:n.getMonthClassNames(f),"aria-disabled":n.isMonthDisabled(f),role:"option","aria-label":n.getAriaLabel(f),"aria-current":n.isCurrentMonth(a,f)?"date":void 0,"aria-selected":l?n.isSelectedMonth(a,f,l):void 0},n.getMonthContent(f))}))})},n.renderQuarters=function(){var r=n.props,s=r.day,i=r.selected,o=[1,2,3,4];return k.createElement("div",{className:"react-datepicker__quarter-wrapper"},o.map(function(a,l){return k.createElement("div",{key:l,ref:n.QUARTER_REFS[l],role:"option",onClick:function(c){n.onQuarterClick(c,a)},onKeyDown:function(c){n.onQuarterKeyDown(c,a)},onMouseEnter:n.props.usePointerEvent?void 0:function(){return n.onQuarterMouseEnter(a)},onPointerEnter:n.props.usePointerEvent?function(){return n.onQuarterMouseEnter(a)}:void 0,className:n.getQuarterClassNames(a),"aria-selected":i?n.isSelectedQuarter(s,a,i):void 0,tabIndex:Number(n.getQuarterTabIndex(a)),"aria-current":n.isCurrentQuarter(s,a)?"date":void 0},n.getQuarterContent(a))}))},n.getClassNames=function(){var r=n.props,s=r.selectingDate,i=r.selectsStart,o=r.selectsEnd,a=r.showMonthYearPicker,l=r.showQuarterYearPicker,c=r.showWeekPicker;return at("react-datepicker__month",{"react-datepicker__month--selecting-range":s&&(i||o)},{"react-datepicker__monthPicker":a},{"react-datepicker__quarterPicker":l},{"react-datepicker__weekPicker":c})},n}return e.prototype.render=function(){var n=this.props,r=n.showMonthYearPicker,s=n.showQuarterYearPicker,i=n.day,o=n.ariaLabelPrefix,a=o===void 0?"Month ":o,l=a?a.trim()+" ":"";return k.createElement("div",{className:this.getClassNames(),onMouseLeave:this.props.usePointerEvent?void 0:this.handleMouseLeave,onPointerLeave:this.props.usePointerEvent?this.handleMouseLeave:void 0,"aria-label":"".concat(l).concat(Pe(i,"MMMM, yyyy",this.props.locale)),role:"listbox"},r?this.renderMonths():s?this.renderQuarters():this.renderWeeks())},e}(E.Component),LU=function(t){dt(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.isSelectedMonth=function(r){return n.props.month===r},n.renderOptions=function(){return n.props.monthNames.map(function(r,s){return k.createElement("div",{className:n.isSelectedMonth(s)?"react-datepicker__month-option react-datepicker__month-option--selected_month":"react-datepicker__month-option",key:r,onClick:n.onChange.bind(n,s),"aria-selected":n.isSelectedMonth(s)?"true":void 0},n.isSelectedMonth(s)?k.createElement("span",{className:"react-datepicker__month-option--selected"},"✓"):"",r)})},n.onChange=function(r){return n.props.onChange(r)},n.handleClickOutside=function(){return n.props.onCancel()},n}return e.prototype.render=function(){return k.createElement("div",{className:"react-datepicker__month-dropdown"},this.renderOptions())},e}(E.Component),FU=Bh(LU),VU=function(t){dt(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.state={dropdownVisible:!1},n.renderSelectOptions=function(r){return r.map(function(s,i){return k.createElement("option",{key:s,value:i},s)})},n.renderSelectMode=function(r){return k.createElement("select",{value:n.props.month,className:"react-datepicker__month-select",onChange:function(s){return n.onChange(parseInt(s.target.value))}},n.renderSelectOptions(r))},n.renderReadView=function(r,s){return k.createElement("div",{key:"read",style:{visibility:r?"visible":"hidden"},className:"react-datepicker__month-read-view",onClick:n.toggleDropdown},k.createElement("span",{className:"react-datepicker__month-read-view--down-arrow"}),k.createElement("span",{className:"react-datepicker__month-read-view--selected-month"},s[n.props.month]))},n.renderDropdown=function(r){return k.createElement(FU,de({key:"dropdown"},n.props,{monthNames:r,onChange:n.onChange,onCancel:n.toggleDropdown}))},n.renderScrollMode=function(r){var s=n.state.dropdownVisible,i=[n.renderReadView(!s,r)];return s&&i.unshift(n.renderDropdown(r)),i},n.onChange=function(r){n.toggleDropdown(),r!==n.props.month&&n.props.onChange(r)},n.toggleDropdown=function(){return n.setState({dropdownVisible:!n.state.dropdownVisible})},n}return e.prototype.render=function(){var n=this,r=[0,1,2,3,4,5,6,7,8,9,10,11].map(this.props.useShortMonthInDropdown?function(i){return LS(i,n.props.locale)}:function(i){return _y(i,n.props.locale)}),s;switch(this.props.dropdownMode){case"scroll":s=this.renderScrollMode(r);break;case"select":s=this.renderSelectMode(r);break}return k.createElement("div",{className:"react-datepicker__month-dropdown-container react-datepicker__month-dropdown-container--".concat(this.props.dropdownMode)},s)},e}(E.Component);function $U(t,e){for(var n=[],r=us(t),s=us(e);!gs(r,s);)n.push(Ee(r)),r=Nn(r,1);return n}var UU=function(t){dt(e,t);function e(n){var r=t.call(this,n)||this;return r.renderOptions=function(){return r.state.monthYearsList.map(function(s){var i=Fm(s),o=Ln(r.props.date,s)&&Ot(r.props.date,s);return k.createElement("div",{className:o?"react-datepicker__month-year-option--selected_month-year":"react-datepicker__month-year-option",key:i,onClick:r.onChange.bind(r,i),"aria-selected":o?"true":void 0},o?k.createElement("span",{className:"react-datepicker__month-year-option--selected"},"✓"):"",Pe(s,r.props.dateFormat,r.props.locale))})},r.onChange=function(s){return r.props.onChange(s)},r.handleClickOutside=function(){r.props.onCancel()},r.state={monthYearsList:$U(r.props.minDate,r.props.maxDate)},r}return e.prototype.render=function(){var n=at({"react-datepicker__month-year-dropdown":!0,"react-datepicker__month-year-dropdown--scrollable":this.props.scrollableMonthYearDropdown});return k.createElement("div",{className:n},this.renderOptions())},e}(E.Component),BU=Bh(UU),WU=function(t){dt(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.state={dropdownVisible:!1},n.renderSelectOptions=function(){for(var r=us(n.props.minDate),s=us(n.props.maxDate),i=[];!gs(r,s);){var o=Fm(r);i.push(k.createElement("option",{key:o,value:o},Pe(r,n.props.dateFormat,n.props.locale))),r=Nn(r,1)}return i},n.onSelectChange=function(r){n.onChange(parseInt(r.target.value))},n.renderSelectMode=function(){return k.createElement("select",{value:Fm(us(n.props.date)),className:"react-datepicker__month-year-select",onChange:n.onSelectChange},n.renderSelectOptions())},n.renderReadView=function(r){var s=Pe(n.props.date,n.props.dateFormat,n.props.locale);return k.createElement("div",{key:"read",style:{visibility:r?"visible":"hidden"},className:"react-datepicker__month-year-read-view",onClick:n.toggleDropdown},k.createElement("span",{className:"react-datepicker__month-year-read-view--down-arrow"}),k.createElement("span",{className:"react-datepicker__month-year-read-view--selected-month-year"},s))},n.renderDropdown=function(){return k.createElement(BU,de({key:"dropdown"},n.props,{onChange:n.onChange,onCancel:n.toggleDropdown}))},n.renderScrollMode=function(){var r=n.state.dropdownVisible,s=[n.renderReadView(!r)];return r&&s.unshift(n.renderDropdown()),s},n.onChange=function(r){n.toggleDropdown();var s=Ee(r);Ln(n.props.date,s)&&Ot(n.props.date,s)||n.props.onChange(s)},n.toggleDropdown=function(){return n.setState({dropdownVisible:!n.state.dropdownVisible})},n}return e.prototype.render=function(){var n;switch(this.props.dropdownMode){case"scroll":n=this.renderScrollMode();break;case"select":n=this.renderSelectMode();break}return k.createElement("div",{className:"react-datepicker__month-year-dropdown-container react-datepicker__month-year-dropdown-container--".concat(this.props.dropdownMode)},n)},e}(E.Component),HU=function(t){dt(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.state={height:null},n.scrollToTheSelectedTime=function(){requestAnimationFrame(function(){var r,s,i;n.list&&(n.list.scrollTop=(i=n.centerLi&&e.calcCenterPosition(n.props.monthRef?n.props.monthRef.clientHeight-((s=(r=n.header)===null||r===void 0?void 0:r.clientHeight)!==null&&s!==void 0?s:0):n.list.clientHeight,n.centerLi))!==null&&i!==void 0?i:0)})},n.handleClick=function(r){var s,i;(n.props.minTime||n.props.maxTime)&&Xw(r,n.props)||(n.props.excludeTimes||n.props.includeTimes||n.props.filterTime)&&Gw(r,n.props)||(i=(s=n.props).onChange)===null||i===void 0||i.call(s,r)},n.isSelectedTime=function(r){return n.props.selected&&NU(n.props.selected,r)},n.isDisabledTime=function(r){return(n.props.minTime||n.props.maxTime)&&Xw(r,n.props)||(n.props.excludeTimes||n.props.includeTimes||n.props.filterTime)&&Gw(r,n.props)},n.liClasses=function(r){var s,i=["react-datepicker__time-list-item",n.props.timeClassName?n.props.timeClassName(r):void 0];return n.isSelectedTime(r)&&i.push("react-datepicker__time-list-item--selected"),n.isDisabledTime(r)&&i.push("react-datepicker__time-list-item--disabled"),n.props.injectTimes&&(Zn(r)*3600+er(r)*60+yr(r))%(((s=n.props.intervals)!==null&&s!==void 0?s:e.defaultProps.intervals)*60)!==0&&i.push("react-datepicker__time-list-item--injected"),i.join(" ")},n.handleOnKeyDown=function(r,s){var i,o;r.key===U.Space&&(r.preventDefault(),r.key=U.Enter),(r.key===U.ArrowUp||r.key===U.ArrowLeft)&&r.target instanceof HTMLElement&&r.target.previousSibling&&(r.preventDefault(),r.target.previousSibling instanceof HTMLElement&&r.target.previousSibling.focus()),(r.key===U.ArrowDown||r.key===U.ArrowRight)&&r.target instanceof HTMLElement&&r.target.nextSibling&&(r.preventDefault(),r.target.nextSibling instanceof HTMLElement&&r.target.nextSibling.focus()),r.key===U.Enter&&n.handleClick(s),(o=(i=n.props).handleOnKeyDown)===null||o===void 0||o.call(i,r)},n.renderTimes=function(){for(var r,s=[],i=n.props.format?n.props.format:"p",o=(r=n.props.intervals)!==null&&r!==void 0?r:e.defaultProps.intervals,a=n.props.selected||n.props.openToDate||Ee(),l=_u(a),c=n.props.injectTimes&&n.props.injectTimes.sort(function(w,m){return w.getTime()-m.getTime()}),u=60*IU(a),h=u/o,f=0;f<h;f++){var p=jm(l,f*o);if(s.push(p),c){var y=kU(l,p,f,o,c);s=s.concat(y)}}var g=s.reduce(function(w,m){return m.getTime()<=a.getTime()?m:w},s[0]);return s.map(function(w){return k.createElement("li",{key:w.valueOf(),onClick:n.handleClick.bind(n,w),className:n.liClasses(w),ref:function(m){w===g&&(n.centerLi=m)},onKeyDown:function(m){n.handleOnKeyDown(m,w)},tabIndex:w===g?0:-1,role:"option","aria-selected":n.isSelectedTime(w)?"true":void 0,"aria-disabled":n.isDisabledTime(w)?"true":void 0},Pe(w,i,n.props.locale))})},n}return Object.defineProperty(e,"defaultProps",{get:function(){return{intervals:30,todayButton:null,timeCaption:"Time"}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){this.scrollToTheSelectedTime(),this.props.monthRef&&this.header&&this.setState({height:this.props.monthRef.clientHeight-this.header.clientHeight})},e.prototype.render=function(){var n=this,r,s=this.state.height;return k.createElement("div",{className:"react-datepicker__time-container ".concat(((r=this.props.todayButton)!==null&&r!==void 0?r:e.defaultProps.todayButton)?"react-datepicker__time-container--with-today-button":"")},k.createElement("div",{className:"react-datepicker__header react-datepicker__header--time ".concat(this.props.showTimeSelectOnly?"react-datepicker__header--time--only":""),ref:function(i){n.header=i}},k.createElement("div",{className:"react-datepicker-time__header"},this.props.timeCaption)),k.createElement("div",{className:"react-datepicker__time"},k.createElement("div",{className:"react-datepicker__time-box"},k.createElement("ul",{className:"react-datepicker__time-list",ref:function(i){n.list=i},style:s?{height:s}:{},role:"listbox","aria-label":this.props.timeCaption},this.renderTimes()))))},e.calcCenterPosition=function(n,r){return r.offsetTop-(n/2-r.clientHeight/2)},e}(E.Component),lE=3,zU=function(t){dt(e,t);function e(n){var r=t.call(this,n)||this;return r.YEAR_REFS=zn([],Array(r.props.yearItemNumber),!0).map(function(){return E.createRef()}),r.isDisabled=function(s){return zs(s,{minDate:r.props.minDate,maxDate:r.props.maxDate,excludeDates:r.props.excludeDates,includeDates:r.props.includeDates,filterDate:r.props.filterDate})},r.isExcluded=function(s){return wy(s,{excludeDates:r.props.excludeDates})},r.selectingDate=function(){var s;return(s=r.props.selectingDate)!==null&&s!==void 0?s:r.props.preSelection},r.updateFocusOnPaginate=function(s){var i=function(){var o,a;(a=(o=r.YEAR_REFS[s])===null||o===void 0?void 0:o.current)===null||a===void 0||a.focus()};window.requestAnimationFrame(i)},r.handleYearClick=function(s,i){r.props.onDayClick&&r.props.onDayClick(s,i)},r.handleYearNavigation=function(s,i){var o,a,l,c,u=r.props,h=u.date,f=u.yearItemNumber;if(!(h===void 0||f===void 0)){var p=Kr(h,f).startPeriod;r.isDisabled(i)||r.isExcluded(i)||((a=(o=r.props).setPreSelection)===null||a===void 0||a.call(o,i),s-p<0?r.updateFocusOnPaginate(f-(p-s)):s-p>=f?r.updateFocusOnPaginate(Math.abs(f-(s-p))):(c=(l=r.YEAR_REFS[s-p])===null||l===void 0?void 0:l.current)===null||c===void 0||c.focus())}},r.isSameDay=function(s,i){return ce(s,i)},r.isCurrentYear=function(s){return s===se(Ee())},r.isRangeStart=function(s){return r.props.startDate&&r.props.endDate&&Ln(jn(Ee(),s),r.props.startDate)},r.isRangeEnd=function(s){return r.props.startDate&&r.props.endDate&&Ln(jn(Ee(),s),r.props.endDate)},r.isInRange=function(s){return zc(s,r.props.startDate,r.props.endDate)},r.isInSelectingRange=function(s){var i=r.props,o=i.selectsStart,a=i.selectsEnd,l=i.selectsRange,c=i.startDate,u=i.endDate;return!(o||a||l)||!r.selectingDate()?!1:o&&u?zc(s,r.selectingDate(),u):a&&c||l&&c&&!u?zc(s,c,r.selectingDate()):!1},r.isSelectingRangeStart=function(s){var i;if(!r.isInSelectingRange(s))return!1;var o=r.props,a=o.startDate,l=o.selectsStart,c=jn(Ee(),s);return l?Ln(c,(i=r.selectingDate())!==null&&i!==void 0?i:null):Ln(c,a??null)},r.isSelectingRangeEnd=function(s){var i;if(!r.isInSelectingRange(s))return!1;var o=r.props,a=o.endDate,l=o.selectsEnd,c=o.selectsRange,u=jn(Ee(),s);return l||c?Ln(u,(i=r.selectingDate())!==null&&i!==void 0?i:null):Ln(u,a??null)},r.isKeyboardSelected=function(s){if(!(r.props.date===void 0||r.props.selected==null||r.props.preSelection==null)){var i=Ea(jn(r.props.date,s));return!r.props.disabledKeyboardNavigation&&!r.props.inline&&!ce(i,Ea(r.props.selected))&&ce(i,Ea(r.props.preSelection))}},r.onYearClick=function(s,i){var o=r.props.date;o!==void 0&&r.handleYearClick(Ea(jn(o,i)),s)},r.onYearKeyDown=function(s,i){var o,a,l=s.key,c=r.props,u=c.date,h=c.yearItemNumber,f=c.handleOnKeyDown;if(l!==U.Tab&&s.preventDefault(),!r.props.disabledKeyboardNavigation)switch(l){case U.Enter:if(r.props.selected==null)break;r.onYearClick(s,i),(a=(o=r.props).setPreSelection)===null||a===void 0||a.call(o,r.props.selected);break;case U.ArrowRight:if(r.props.preSelection==null)break;r.handleYearNavigation(i+1,gr(r.props.preSelection,1));break;case U.ArrowLeft:if(r.props.preSelection==null)break;r.handleYearNavigation(i-1,So(r.props.preSelection,1));break;case U.ArrowUp:{if(u===void 0||h===void 0||r.props.preSelection==null)break;var p=Kr(u,h).startPeriod,y=lE,g=i-y;if(g<p){var w=h%y;i>=p&&i<p+w?y=w:y+=w,g=i-y}r.handleYearNavigation(g,So(r.props.preSelection,y));break}case U.ArrowDown:{if(u===void 0||h===void 0||r.props.preSelection==null)break;var m=Kr(u,h).endPeriod,y=lE,g=i+y;if(g>m){var w=h%y;i<=m&&i>m-w?y=w:y+=w,g=i+y}r.handleYearNavigation(g,gr(r.props.preSelection,y));break}}f&&f(s)},r.getYearClassNames=function(s){var i=r.props,o=i.date,a=i.minDate,l=i.maxDate,c=i.selected,u=i.excludeDates,h=i.includeDates,f=i.filterDate,p=i.yearClassName;return at("react-datepicker__year-text","react-datepicker__year-".concat(s),o?p==null?void 0:p(jn(o,s)):void 0,{"react-datepicker__year-text--selected":c?s===se(c):void 0,"react-datepicker__year-text--disabled":(a||l||u||h||f)&&VS(s,r.props),"react-datepicker__year-text--keyboard-selected":r.isKeyboardSelected(s),"react-datepicker__year-text--range-start":r.isRangeStart(s),"react-datepicker__year-text--range-end":r.isRangeEnd(s),"react-datepicker__year-text--in-range":r.isInRange(s),"react-datepicker__year-text--in-selecting-range":r.isInSelectingRange(s),"react-datepicker__year-text--selecting-range-start":r.isSelectingRangeStart(s),"react-datepicker__year-text--selecting-range-end":r.isSelectingRangeEnd(s),"react-datepicker__year-text--today":r.isCurrentYear(s)})},r.getYearTabIndex=function(s){if(r.props.disabledKeyboardNavigation||r.props.preSelection==null)return"-1";var i=se(r.props.preSelection);return s===i?"0":"-1"},r.getYearContainerClassNames=function(){var s=r.props,i=s.selectingDate,o=s.selectsStart,a=s.selectsEnd,l=s.selectsRange;return at("react-datepicker__year",{"react-datepicker__year--selecting-range":i&&(o||a||l)})},r.getYearContent=function(s){return r.props.renderYearContent?r.props.renderYearContent(s):s},r}return e.prototype.render=function(){var n=this,r=[],s=this.props,i=s.date,o=s.yearItemNumber,a=s.onYearMouseEnter,l=s.onYearMouseLeave;if(i===void 0)return null;for(var c=Kr(i,o),u=c.startPeriod,h=c.endPeriod,f=function(g){r.push(k.createElement("div",{ref:p.YEAR_REFS[g-u],onClick:function(w){n.onYearClick(w,g)},onKeyDown:function(w){BS(w)&&(w.preventDefault(),w.key=U.Enter),n.onYearKeyDown(w,g)},tabIndex:Number(p.getYearTabIndex(g)),className:p.getYearClassNames(g),onMouseEnter:p.props.usePointerEvent?void 0:function(w){return a(w,g)},onPointerEnter:p.props.usePointerEvent?function(w){return a(w,g)}:void 0,onMouseLeave:p.props.usePointerEvent?void 0:function(w){return l(w,g)},onPointerLeave:p.props.usePointerEvent?function(w){return l(w,g)}:void 0,key:g,"aria-current":p.isCurrentYear(g)?"date":void 0},p.getYearContent(g)))},p=this,y=u;y<=h;y++)f(y);return k.createElement("div",{className:this.getYearContainerClassNames()},k.createElement("div",{className:"react-datepicker__year-wrapper",onMouseLeave:this.props.usePointerEvent?void 0:this.props.clearSelectingDate,onPointerLeave:this.props.usePointerEvent?this.props.clearSelectingDate:void 0},r))},e}(E.Component);function YU(t,e,n,r){for(var s=[],i=0;i<2*e+1;i++){var o=t+e-i,a=!0;n&&(a=se(n)<=o),r&&a&&(a=se(r)>=o),a&&s.push(o)}return s}var qU=function(t){dt(e,t);function e(n){var r=t.call(this,n)||this;r.renderOptions=function(){var a=r.props.year,l=r.state.yearsList.map(function(h){return k.createElement("div",{className:a===h?"react-datepicker__year-option react-datepicker__year-option--selected_year":"react-datepicker__year-option",key:h,onClick:r.onChange.bind(r,h),"aria-selected":a===h?"true":void 0},a===h?k.createElement("span",{className:"react-datepicker__year-option--selected"},"✓"):"",h)}),c=r.props.minDate?se(r.props.minDate):null,u=r.props.maxDate?se(r.props.maxDate):null;return(!u||!r.state.yearsList.find(function(h){return h===u}))&&l.unshift(k.createElement("div",{className:"react-datepicker__year-option",key:"upcoming",onClick:r.incrementYears},k.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-upcoming"}))),(!c||!r.state.yearsList.find(function(h){return h===c}))&&l.push(k.createElement("div",{className:"react-datepicker__year-option",key:"previous",onClick:r.decrementYears},k.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-previous"}))),l},r.onChange=function(a){r.props.onChange(a)},r.handleClickOutside=function(){r.props.onCancel()},r.shiftYears=function(a){var l=r.state.yearsList.map(function(c){return c+a});r.setState({yearsList:l})},r.incrementYears=function(){return r.shiftYears(1)},r.decrementYears=function(){return r.shiftYears(-1)};var s=n.yearDropdownItemNumber,i=n.scrollableYearDropdown,o=s||(i?10:5);return r.state={yearsList:YU(r.props.year,o,r.props.minDate,r.props.maxDate)},r.dropdownRef=E.createRef(),r}return e.prototype.componentDidMount=function(){var n=this.dropdownRef.current;if(n){var r=n.children?Array.from(n.children):null,s=r?r.find(function(i){return i.ariaSelected}):null;n.scrollTop=s&&s instanceof HTMLElement?s.offsetTop+(s.clientHeight-n.clientHeight)/2:(n.scrollHeight-n.clientHeight)/2}},e.prototype.render=function(){var n=at({"react-datepicker__year-dropdown":!0,"react-datepicker__year-dropdown--scrollable":this.props.scrollableYearDropdown});return k.createElement("div",{className:n,ref:this.dropdownRef},this.renderOptions())},e}(E.Component),QU=Bh(qU),KU=function(t){dt(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.state={dropdownVisible:!1},n.renderSelectOptions=function(){for(var r=n.props.minDate?se(n.props.minDate):1900,s=n.props.maxDate?se(n.props.maxDate):2100,i=[],o=r;o<=s;o++)i.push(k.createElement("option",{key:o,value:o},o));return i},n.onSelectChange=function(r){n.onChange(parseInt(r.target.value))},n.renderSelectMode=function(){return k.createElement("select",{value:n.props.year,className:"react-datepicker__year-select",onChange:n.onSelectChange},n.renderSelectOptions())},n.renderReadView=function(r){return k.createElement("div",{key:"read",style:{visibility:r?"visible":"hidden"},className:"react-datepicker__year-read-view",onClick:function(s){return n.toggleDropdown(s)}},k.createElement("span",{className:"react-datepicker__year-read-view--down-arrow"}),k.createElement("span",{className:"react-datepicker__year-read-view--selected-year"},n.props.year))},n.renderDropdown=function(){return k.createElement(QU,de({key:"dropdown"},n.props,{onChange:n.onChange,onCancel:n.toggleDropdown}))},n.renderScrollMode=function(){var r=n.state.dropdownVisible,s=[n.renderReadView(!r)];return r&&s.unshift(n.renderDropdown()),s},n.onChange=function(r){n.toggleDropdown(),r!==n.props.year&&n.props.onChange(r)},n.toggleDropdown=function(r){n.setState({dropdownVisible:!n.state.dropdownVisible},function(){n.props.adjustDateOnChange&&n.handleYearChange(n.props.date,r)})},n.handleYearChange=function(r,s){n.onSelect(r,s),n.setOpen()},n.onSelect=function(r,s){n.props.onSelect&&n.props.onSelect(r,s)},n.setOpen=function(){n.props.setOpen&&n.props.setOpen(!0)},n}return e.prototype.render=function(){var n;switch(this.props.dropdownMode){case"scroll":n=this.renderScrollMode();break;case"select":n=this.renderSelectMode();break}return k.createElement("div",{className:"react-datepicker__year-dropdown-container react-datepicker__year-dropdown-container--".concat(this.props.dropdownMode)},n)},e}(E.Component),GU=["react-datepicker__year-select","react-datepicker__month-select","react-datepicker__month-year-select"],XU=function(t){var e=(t.className||"").split(/\s+/);return GU.some(function(n){return e.indexOf(n)>=0})},JU=function(t){dt(e,t);function e(n){var r=t.call(this,n)||this;return r.monthContainer=void 0,r.handleClickOutside=function(s){r.props.onClickOutside(s)},r.setClickOutsideRef=function(){return r.containerRef.current},r.handleDropdownFocus=function(s){var i,o;XU(s.target)&&((o=(i=r.props).onDropdownFocus)===null||o===void 0||o.call(i,s))},r.getDateInView=function(){var s=r.props,i=s.preSelection,o=s.selected,a=s.openToDate,l=$S(r.props),c=US(r.props),u=Ee(),h=a||o||i;return h||(l&&fi(u,l)?l:c&&gs(u,c)?c:u)},r.increaseMonth=function(){r.setState(function(s){var i=s.date;return{date:Nn(i,1)}},function(){return r.handleMonthChange(r.state.date)})},r.decreaseMonth=function(){r.setState(function(s){var i=s.date;return{date:Co(i,1)}},function(){return r.handleMonthChange(r.state.date)})},r.handleDayClick=function(s,i,o){r.props.onSelect(s,i,o),r.props.setPreSelection&&r.props.setPreSelection(s)},r.handleDayMouseEnter=function(s){r.setState({selectingDate:s}),r.props.onDayMouseEnter&&r.props.onDayMouseEnter(s)},r.handleMonthMouseLeave=function(){r.setState({selectingDate:void 0}),r.props.onMonthMouseLeave&&r.props.onMonthMouseLeave()},r.handleYearMouseEnter=function(s,i){r.setState({selectingDate:jn(Ee(),i)}),r.props.onYearMouseEnter&&r.props.onYearMouseEnter(s,i)},r.handleYearMouseLeave=function(s,i){r.props.onYearMouseLeave&&r.props.onYearMouseLeave(s,i)},r.handleYearChange=function(s){r.props.onYearChange&&(r.props.onYearChange(s),r.setState({isRenderAriaLiveMessage:!0})),r.props.adjustDateOnChange&&(r.props.onSelect&&r.props.onSelect(s),r.props.setOpen&&r.props.setOpen(!0)),r.props.setPreSelection&&r.props.setPreSelection(s)},r.handleMonthChange=function(s){r.handleCustomMonthChange(s),r.props.adjustDateOnChange&&(r.props.onSelect&&r.props.onSelect(s),r.props.setOpen&&r.props.setOpen(!0)),r.props.setPreSelection&&r.props.setPreSelection(s)},r.handleCustomMonthChange=function(s){r.props.onMonthChange&&(r.props.onMonthChange(s),r.setState({isRenderAriaLiveMessage:!0}))},r.handleMonthYearChange=function(s){r.handleYearChange(s),r.handleMonthChange(s)},r.changeYear=function(s){r.setState(function(i){var o=i.date;return{date:jn(o,Number(s))}},function(){return r.handleYearChange(r.state.date)})},r.changeMonth=function(s){r.setState(function(i){var o=i.date;return{date:Jt(o,Number(s))}},function(){return r.handleMonthChange(r.state.date)})},r.changeMonthYear=function(s){r.setState(function(i){var o=i.date;return{date:jn(Jt(o,jt(s)),se(s))}},function(){return r.handleMonthYearChange(r.state.date)})},r.header=function(s){s===void 0&&(s=r.state.date);var i=cs(s,r.props.locale,r.props.calendarStartDay),o=[];return r.props.showWeekNumbers&&o.push(k.createElement("div",{key:"W",className:"react-datepicker__day-name"},r.props.weekLabel||"#")),o.concat([0,1,2,3,4,5,6].map(function(a){var l=Ds(i,a),c=r.formatWeekday(l,r.props.locale),u=r.props.weekDayClassName?r.props.weekDayClassName(l):void 0;return k.createElement("div",{key:a,"aria-label":Pe(l,"EEEE",r.props.locale),className:at("react-datepicker__day-name",u)},c)}))},r.formatWeekday=function(s,i){return r.props.formatWeekDay?vU(s,r.props.formatWeekDay,i):r.props.useWeekdaysShort?_U(s,i):yU(s,i)},r.decreaseYear=function(){r.setState(function(s){var i,o=s.date;return{date:So(o,r.props.showYearPicker?(i=r.props.yearItemNumber)!==null&&i!==void 0?i:e.defaultProps.yearItemNumber:1)}},function(){return r.handleYearChange(r.state.date)})},r.clearSelectingDate=function(){r.setState({selectingDate:void 0})},r.renderPreviousButton=function(){var s;if(!r.props.renderCustomHeader){var i;switch(!0){case r.props.showMonthYearPicker:i=eE(r.state.date,r.props);break;case r.props.showYearPicker:i=TU(r.state.date,r.props);break;case r.props.showQuarterYearPicker:i=xU(r.state.date,r.props);break;default:i=Jw(r.state.date,r.props);break}if(!(!((s=r.props.forceShowMonthNavigation)!==null&&s!==void 0?s:e.defaultProps.forceShowMonthNavigation)&&!r.props.showDisabledMonthNavigation&&i||r.props.showTimeSelectOnly)){var o=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--previous"],a=["react-datepicker__navigation","react-datepicker__navigation--previous"],l=r.decreaseMonth;(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker)&&(l=r.decreaseYear),i&&r.props.showDisabledMonthNavigation&&(a.push("react-datepicker__navigation--previous--disabled"),l=void 0);var c=r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker,u=r.props,h=u.previousMonthButtonLabel,f=h===void 0?e.defaultProps.previousMonthButtonLabel:h,p=u.previousYearButtonLabel,y=p===void 0?e.defaultProps.previousYearButtonLabel:p,g=r.props,w=g.previousMonthAriaLabel,m=w===void 0?typeof f=="string"?f:"Previous Month":w,_=g.previousYearAriaLabel,v=_===void 0?typeof y=="string"?y:"Previous Year":_;return k.createElement("button",{type:"button",className:a.join(" "),onClick:l,onKeyDown:r.props.handleOnKeyDown,"aria-label":c?v:m},k.createElement("span",{className:o.join(" ")},c?y:f))}}},r.increaseYear=function(){r.setState(function(s){var i,o=s.date;return{date:gr(o,r.props.showYearPicker?(i=r.props.yearItemNumber)!==null&&i!==void 0?i:e.defaultProps.yearItemNumber:1)}},function(){return r.handleYearChange(r.state.date)})},r.renderNextButton=function(){var s;if(!r.props.renderCustomHeader){var i;switch(!0){case r.props.showMonthYearPicker:i=tE(r.state.date,r.props);break;case r.props.showYearPicker:i=CU(r.state.date,r.props);break;case r.props.showQuarterYearPicker:i=bU(r.state.date,r.props);break;default:i=Zw(r.state.date,r.props);break}if(!(!((s=r.props.forceShowMonthNavigation)!==null&&s!==void 0?s:e.defaultProps.forceShowMonthNavigation)&&!r.props.showDisabledMonthNavigation&&i||r.props.showTimeSelectOnly)){var o=["react-datepicker__navigation","react-datepicker__navigation--next"],a=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--next"];r.props.showTimeSelect&&o.push("react-datepicker__navigation--next--with-time"),r.props.todayButton&&o.push("react-datepicker__navigation--next--with-today-button");var l=r.increaseMonth;(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker)&&(l=r.increaseYear),i&&r.props.showDisabledMonthNavigation&&(o.push("react-datepicker__navigation--next--disabled"),l=void 0);var c=r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker,u=r.props,h=u.nextMonthButtonLabel,f=h===void 0?e.defaultProps.nextMonthButtonLabel:h,p=u.nextYearButtonLabel,y=p===void 0?e.defaultProps.nextYearButtonLabel:p,g=r.props,w=g.nextMonthAriaLabel,m=w===void 0?typeof f=="string"?f:"Next Month":w,_=g.nextYearAriaLabel,v=_===void 0?typeof y=="string"?y:"Next Year":_;return k.createElement("button",{type:"button",className:o.join(" "),onClick:l,onKeyDown:r.props.handleOnKeyDown,"aria-label":c?v:m},k.createElement("span",{className:a.join(" ")},c?y:f))}}},r.renderCurrentMonth=function(s){s===void 0&&(s=r.state.date);var i=["react-datepicker__current-month"];return r.props.showYearDropdown&&i.push("react-datepicker__current-month--hasYearDropdown"),r.props.showMonthDropdown&&i.push("react-datepicker__current-month--hasMonthDropdown"),r.props.showMonthYearDropdown&&i.push("react-datepicker__current-month--hasMonthYearDropdown"),k.createElement("h2",{className:i.join(" ")},Pe(s,r.props.dateFormat,r.props.locale))},r.renderYearDropdown=function(s){if(s===void 0&&(s=!1),!(!r.props.showYearDropdown||s))return k.createElement(KU,de({},e.defaultProps,r.props,{date:r.state.date,onChange:r.changeYear,year:se(r.state.date)}))},r.renderMonthDropdown=function(s){if(s===void 0&&(s=!1),!(!r.props.showMonthDropdown||s))return k.createElement(VU,de({},e.defaultProps,r.props,{month:jt(r.state.date),onChange:r.changeMonth}))},r.renderMonthYearDropdown=function(s){if(s===void 0&&(s=!1),!(!r.props.showMonthYearDropdown||s))return k.createElement(WU,de({},e.defaultProps,r.props,{date:r.state.date,onChange:r.changeMonthYear}))},r.handleTodayButtonClick=function(s){r.props.onSelect(qw(),s),r.props.setPreSelection&&r.props.setPreSelection(qw())},r.renderTodayButton=function(){if(!(!r.props.todayButton||r.props.showTimeSelectOnly))return k.createElement("div",{className:"react-datepicker__today-button",onClick:r.handleTodayButtonClick},r.props.todayButton)},r.renderDefaultHeader=function(s){var i=s.monthDate,o=s.i;return k.createElement("div",{className:"react-datepicker__header ".concat(r.props.showTimeSelect?"react-datepicker__header--has-time-select":"")},r.renderCurrentMonth(i),k.createElement("div",{className:"react-datepicker__header__dropdown react-datepicker__header__dropdown--".concat(r.props.dropdownMode),onFocus:r.handleDropdownFocus},r.renderMonthDropdown(o!==0),r.renderMonthYearDropdown(o!==0),r.renderYearDropdown(o!==0)),k.createElement("div",{className:"react-datepicker__day-names"},r.header(i)))},r.renderCustomHeader=function(s){var i,o,a=s.monthDate,l=s.i;if(r.props.showTimeSelect&&!r.state.monthContainer||r.props.showTimeSelectOnly)return null;var c=Jw(r.state.date,r.props),u=Zw(r.state.date,r.props),h=eE(r.state.date,r.props),f=tE(r.state.date,r.props),p=!r.props.showMonthYearPicker&&!r.props.showQuarterYearPicker&&!r.props.showYearPicker;return k.createElement("div",{className:"react-datepicker__header react-datepicker__header--custom",onFocus:r.props.onDropdownFocus},(o=(i=r.props).renderCustomHeader)===null||o===void 0?void 0:o.call(i,de(de({},r.state),{customHeaderCount:l,monthDate:a,changeMonth:r.changeMonth,changeYear:r.changeYear,decreaseMonth:r.decreaseMonth,increaseMonth:r.increaseMonth,decreaseYear:r.decreaseYear,increaseYear:r.increaseYear,prevMonthButtonDisabled:c,nextMonthButtonDisabled:u,prevYearButtonDisabled:h,nextYearButtonDisabled:f})),p&&k.createElement("div",{className:"react-datepicker__day-names"},r.header(a)))},r.renderYearHeader=function(s){var i=s.monthDate,o=r.props,a=o.showYearPicker,l=o.yearItemNumber,c=l===void 0?e.defaultProps.yearItemNumber:l,u=Kr(i,c),h=u.startPeriod,f=u.endPeriod;return k.createElement("div",{className:"react-datepicker__header react-datepicker-year-header"},a?"".concat(h," - ").concat(f):se(i))},r.renderHeader=function(s){var i=s.monthDate,o=s.i,a=o===void 0?0:o,l={monthDate:i,i:a};switch(!0){case r.props.renderCustomHeader!==void 0:return r.renderCustomHeader(l);case(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker):return r.renderYearHeader(l);default:return r.renderDefaultHeader(l)}},r.renderMonths=function(){var s,i;if(!(r.props.showTimeSelectOnly||r.props.showYearPicker)){for(var o=[],a=(s=r.props.monthsShown)!==null&&s!==void 0?s:e.defaultProps.monthsShown,l=r.props.showPreviousMonths?a-1:0,c=r.props.showMonthYearPicker||r.props.showQuarterYearPicker?gr(r.state.date,l):Co(r.state.date,l),u=(i=r.props.monthSelectedIn)!==null&&i!==void 0?i:l,h=0;h<a;++h){var f=h-u+l,p=r.props.showMonthYearPicker||r.props.showQuarterYearPicker?gr(c,f):Nn(c,f),y="month-".concat(h),g=h<a-1,w=h>0;o.push(k.createElement("div",{key:y,ref:function(m){r.monthContainer=m??void 0},className:"react-datepicker__month-container"},r.renderHeader({monthDate:p,i:h}),k.createElement(jU,de({},e.defaultProps,r.props,{ariaLabelPrefix:r.props.monthAriaLabelPrefix,day:p,onDayClick:r.handleDayClick,handleOnKeyDown:r.props.handleOnDayKeyDown,handleOnMonthKeyDown:r.props.handleOnKeyDown,onDayMouseEnter:r.handleDayMouseEnter,onMouseLeave:r.handleMonthMouseLeave,orderInDisplay:h,selectingDate:r.state.selectingDate,monthShowsDuplicateDaysEnd:g,monthShowsDuplicateDaysStart:w}))))}return o}},r.renderYears=function(){if(!r.props.showTimeSelectOnly&&r.props.showYearPicker)return k.createElement("div",{className:"react-datepicker__year--container"},r.renderHeader({monthDate:r.state.date}),k.createElement(zU,de({},e.defaultProps,r.props,{selectingDate:r.state.selectingDate,date:r.state.date,onDayClick:r.handleDayClick,clearSelectingDate:r.clearSelectingDate,onYearMouseEnter:r.handleYearMouseEnter,onYearMouseLeave:r.handleYearMouseLeave})))},r.renderTimeSection=function(){if(r.props.showTimeSelect&&(r.state.monthContainer||r.props.showTimeSelectOnly))return k.createElement(HU,de({},e.defaultProps,r.props,{onChange:r.props.onTimeChange,format:r.props.timeFormat,intervals:r.props.timeIntervals,monthRef:r.state.monthContainer}))},r.renderInputTimeSection=function(){var s=r.props.selected?new Date(r.props.selected):void 0,i=s&&ar(s)&&!!r.props.selected,o=i?"".concat(rE(s.getHours()),":").concat(rE(s.getMinutes())):"";if(r.props.showTimeInput)return k.createElement(PU,de({},e.defaultProps,r.props,{date:s,timeString:o,onChange:r.props.onTimeChange}))},r.renderAriaLiveRegion=function(){var s,i=Kr(r.state.date,(s=r.props.yearItemNumber)!==null&&s!==void 0?s:e.defaultProps.yearItemNumber),o=i.startPeriod,a=i.endPeriod,l;return r.props.showYearPicker?l="".concat(o," - ").concat(a):r.props.showMonthYearPicker||r.props.showQuarterYearPicker?l=se(r.state.date):l="".concat(_y(jt(r.state.date),r.props.locale)," ").concat(se(r.state.date)),k.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},r.state.isRenderAriaLiveMessage&&l)},r.renderChildren=function(){if(r.props.children)return k.createElement("div",{className:"react-datepicker__children-container"},r.props.children)},r.containerRef=E.createRef(),r.state={date:r.getDateInView(),selectingDate:void 0,monthContainer:void 0,isRenderAriaLiveMessage:!1},r}return Object.defineProperty(e,"defaultProps",{get:function(){return{monthsShown:1,forceShowMonthNavigation:!1,timeCaption:"Time",previousYearButtonLabel:"Previous Year",nextYearButtonLabel:"Next Year",previousMonthButtonLabel:"Previous Month",nextMonthButtonLabel:"Next Month",yearItemNumber:lc}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){var n=this;this.props.showTimeSelect&&(this.assignMonthContainer=function(){n.setState({monthContainer:n.monthContainer})}())},e.prototype.componentDidUpdate=function(n){var r=this;if(this.props.preSelection&&(!ce(this.props.preSelection,n.preSelection)||this.props.monthSelectedIn!==n.monthSelectedIn)){var s=!Ot(this.state.date,this.props.preSelection);this.setState({date:this.props.preSelection},function(){return s&&r.handleCustomMonthChange(r.state.date)})}else this.props.openToDate&&!ce(this.props.openToDate,n.openToDate)&&this.setState({date:this.props.openToDate})},e.prototype.render=function(){var n=this.props.container||cU;return k.createElement("div",{style:{display:"contents"},ref:this.containerRef},k.createElement(n,{className:at("react-datepicker",this.props.className,{"react-datepicker--time-only":this.props.showTimeSelectOnly}),showTime:this.props.showTimeSelect||this.props.showTimeInput,showTimeSelectOnly:this.props.showTimeSelectOnly},this.renderAriaLiveRegion(),this.renderPreviousButton(),this.renderNextButton(),this.renderMonths(),this.renderYears(),this.renderTodayButton(),this.renderTimeSection(),this.renderInputTimeSection(),this.renderChildren()))},e}(E.Component),ZU=function(t){var e=t.icon,n=t.className,r=n===void 0?"":n,s=t.onClick,i="react-datepicker__calendar-icon";return typeof e=="string"?k.createElement("i",{className:"".concat(i," ").concat(e," ").concat(r),"aria-hidden":"true",onClick:s}):k.isValidElement(e)?k.cloneElement(e,{className:"".concat(e.props.className||""," ").concat(i," ").concat(r),onClick:function(o){typeof e.props.onClick=="function"&&e.props.onClick(o),typeof s=="function"&&s(o)}}):k.createElement("svg",{className:"".concat(i," ").concat(r),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",onClick:s},k.createElement("path",{d:"M96 32V64H48C21.5 64 0 85.5 0 112v48H448V112c0-26.5-21.5-48-48-48H352V32c0-17.7-14.3-32-32-32s-32 14.3-32 32V64H160V32c0-17.7-14.3-32-32-32S96 14.3 96 32zM448 192H0V464c0 26.5 21.5 48 48 48H400c26.5 0 48-21.5 48-48V192z"}))},WS=function(t){dt(e,t);function e(n){var r=t.call(this,n)||this;return r.portalRoot=null,r.el=document.createElement("div"),r}return e.prototype.componentDidMount=function(){this.portalRoot=(this.props.portalHost||document).getElementById(this.props.portalId),this.portalRoot||(this.portalRoot=document.createElement("div"),this.portalRoot.setAttribute("id",this.props.portalId),(this.props.portalHost||document.body).appendChild(this.portalRoot)),this.portalRoot.appendChild(this.el)},e.prototype.componentWillUnmount=function(){this.portalRoot&&this.portalRoot.removeChild(this.el)},e.prototype.render=function(){return yI.createPortal(this.props.children,this.el)},e}(E.Component),e5="[tabindex], a, button, input, select, textarea",t5=function(t){return(t instanceof HTMLAnchorElement||!t.disabled)&&t.tabIndex!==-1},HS=function(t){dt(e,t);function e(n){var r=t.call(this,n)||this;return r.getTabChildren=function(){var s;return Array.prototype.slice.call((s=r.tabLoopRef.current)===null||s===void 0?void 0:s.querySelectorAll(e5),1,-1).filter(t5)},r.handleFocusStart=function(){var s=r.getTabChildren();s&&s.length>1&&s[s.length-1].focus()},r.handleFocusEnd=function(){var s=r.getTabChildren();s&&s.length>1&&s[0].focus()},r.tabLoopRef=E.createRef(),r}return e.prototype.render=function(){var n;return((n=this.props.enableTabLoop)!==null&&n!==void 0?n:e.defaultProps.enableTabLoop)?k.createElement("div",{className:"react-datepicker__tab-loop",ref:this.tabLoopRef},k.createElement("div",{className:"react-datepicker__tab-loop__start",tabIndex:0,onFocus:this.handleFocusStart}),this.props.children,k.createElement("div",{className:"react-datepicker__tab-loop__end",tabIndex:0,onFocus:this.handleFocusEnd})):this.props.children},e.defaultProps={enableTabLoop:!0},e}(E.Component);function n5(t){var e=function(n){var r,s=typeof n.hidePopper=="boolean"?n.hidePopper:!0,i=E.useRef(null),o=lU(de({open:!s,whileElementsMounted:$$,placement:n.popperPlacement,middleware:zn([q$({padding:15}),Y$(10),Q$({element:i})],(r=n.popperModifiers)!==null&&r!==void 0?r:[],!0)},n.popperProps)),a=de(de({},n),{hidePopper:s,popperProps:de(de({},o),{arrowRef:i})});return k.createElement(t,de({},a))};return e}var r5=function(t){dt(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e,"defaultProps",{get:function(){return{hidePopper:!0}},enumerable:!1,configurable:!0}),e.prototype.render=function(){var n=this.props,r=n.className,s=n.wrapperClassName,i=n.hidePopper,o=i===void 0?e.defaultProps.hidePopper:i,a=n.popperComponent,l=n.targetComponent,c=n.enableTabLoop,u=n.popperOnKeyDown,h=n.portalId,f=n.portalHost,p=n.popperProps,y=n.showArrow,g=void 0;if(!o){var w=at("react-datepicker-popper",r);g=k.createElement(HS,{enableTabLoop:c},k.createElement("div",{ref:p.refs.setFloating,style:p.floatingStyles,className:w,"data-placement":p.placement,onKeyDown:u},a,y&&k.createElement(tU,{ref:p.arrowRef,context:p.context,fill:"currentColor",strokeWidth:1,height:8,width:16,style:{transform:"translateY(-1px)"},className:"react-datepicker__triangle"})))}this.props.popperContainer&&(g=E.createElement(this.props.popperContainer,{},g)),h&&!o&&(g=k.createElement(WS,{portalId:h,portalHost:f},g));var m=at("react-datepicker-wrapper",s);return k.createElement(k.Fragment,null,k.createElement("div",{ref:p.refs.setReference,className:m},l),g)},e}(E.Component),s5=n5(r5),cE="react-datepicker-ignore-onclickoutside",i5=Bh(JU);function o5(t,e){return t&&e?jt(t)!==jt(e)||se(t)!==se(e):t!==e}var np="Date input not valid.",a5=function(t){dt(e,t);function e(n){var r=t.call(this,n)||this;return r.calendar=null,r.input=null,r.getPreSelection=function(){return r.props.openToDate?r.props.openToDate:r.props.selectsEnd&&r.props.startDate?r.props.startDate:r.props.selectsStart&&r.props.endDate?r.props.endDate:Ee()},r.modifyHolidays=function(){var s;return(s=r.props.holidays)===null||s===void 0?void 0:s.reduce(function(i,o){var a=new Date(o.date);return ar(a)?zn(zn([],i,!0),[de(de({},o),{date:a})],!1):i},[])},r.calcInitialState=function(){var s,i=r.getPreSelection(),o=$S(r.props),a=US(r.props),l=o&&fi(i,_u(o))?o:a&&gs(i,Qw(a))?a:i;return{open:r.props.startOpen||!1,preventFocus:!1,inputValue:null,preSelection:(s=r.props.selectsRange?r.props.startDate:r.props.selected)!==null&&s!==void 0?s:l,highlightDates:nE(r.props.highlightDates),focused:!1,shouldFocusDayInline:!1,isRenderAriaLiveMessage:!1,wasHidden:!1}},r.resetHiddenStatus=function(){r.setState(de(de({},r.state),{wasHidden:!1}))},r.setHiddenStatus=function(){r.setState(de(de({},r.state),{wasHidden:!0}))},r.setHiddenStateOnVisibilityHidden=function(){document.visibilityState==="hidden"&&r.setHiddenStatus()},r.clearPreventFocusTimeout=function(){r.preventFocusTimeout&&clearTimeout(r.preventFocusTimeout)},r.setFocus=function(){r.input&&r.input.focus&&r.input.focus({preventScroll:!0})},r.setBlur=function(){r.input&&r.input.blur&&r.input.blur(),r.cancelFocusInput()},r.setOpen=function(s,i){i===void 0&&(i=!1),r.setState({open:s,preSelection:s&&r.state.open?r.state.preSelection:r.calcInitialState().preSelection,lastPreSelectChange:rp},function(){s||r.setState(function(o){return{focused:i?o.focused:!1}},function(){!i&&r.setBlur(),r.setState({inputValue:null})})})},r.inputOk=function(){return vr(r.state.preSelection)},r.isCalendarOpen=function(){return r.props.open===void 0?r.state.open&&!r.props.disabled&&!r.props.readOnly:r.props.open},r.handleFocus=function(s){var i,o,a=r.state.wasHidden,l=a?r.state.open:!0;a&&r.resetHiddenStatus(),!r.state.preventFocus&&l&&((o=(i=r.props).onFocus)===null||o===void 0||o.call(i,s),!r.props.preventOpenOnFocus&&!r.props.readOnly&&r.setOpen(!0)),r.setState({focused:!0})},r.sendFocusBackToInput=function(){r.preventFocusTimeout&&r.clearPreventFocusTimeout(),r.setState({preventFocus:!0},function(){r.preventFocusTimeout=setTimeout(function(){r.setFocus(),r.setState({preventFocus:!1})})})},r.cancelFocusInput=function(){clearTimeout(r.inputFocusTimeout),r.inputFocusTimeout=void 0},r.deferFocusInput=function(){r.cancelFocusInput(),r.inputFocusTimeout=setTimeout(function(){return r.setFocus()},1)},r.handleDropdownFocus=function(){r.cancelFocusInput()},r.handleBlur=function(s){var i,o;(!r.state.open||r.props.withPortal||r.props.showTimeInput)&&((o=(i=r.props).onBlur)===null||o===void 0||o.call(i,s)),r.setState({focused:!1})},r.handleCalendarClickOutside=function(s){var i,o;r.props.inline||r.setOpen(!1),(o=(i=r.props).onClickOutside)===null||o===void 0||o.call(i,s),r.props.withPortal&&s.preventDefault()},r.handleChange=function(){for(var s=[],i=0;i<arguments.length;i++)s[i]=arguments[i];var o=s[0];if(!(r.props.onChangeRaw&&(r.props.onChangeRaw.apply(r,s),!o||typeof o.isDefaultPrevented!="function"||o.isDefaultPrevented()))){r.setState({inputValue:(o==null?void 0:o.target)instanceof HTMLInputElement?o.target.value:null,lastPreSelectChange:l5});var a=r.props,l=a.dateFormat,c=l===void 0?e.defaultProps.dateFormat:l,u=a.strictParsing,h=u===void 0?e.defaultProps.strictParsing:u,f=dU((o==null?void 0:o.target)instanceof HTMLInputElement?o.target.value:"",c,r.props.locale,h,r.props.minDate);r.props.showTimeSelectOnly&&r.props.selected&&f&&!ce(f,r.props.selected)&&(f=o$(r.props.selected,{hours:Zn(f),minutes:er(f),seconds:yr(f)})),(f||!((o==null?void 0:o.target)instanceof HTMLInputElement)||!(o!=null&&o.target.value))&&r.setSelected(f,o,!0)}},r.handleSelect=function(s,i,o){if(r.props.shouldCloseOnSelect&&!r.props.showTimeSelect&&r.sendFocusBackToInput(),r.props.onChangeRaw&&r.props.onChangeRaw(i),r.setSelected(s,i,!1,o),r.props.showDateSelect&&r.setState({isRenderAriaLiveMessage:!0}),!r.props.shouldCloseOnSelect||r.props.showTimeSelect)r.setPreSelection(s);else if(!r.props.inline){r.props.selectsRange||r.setOpen(!1);var a=r.props,l=a.startDate,c=a.endDate;l&&!c&&(r.props.swapRange||!oE(s,l))&&r.setOpen(!1)}},r.setSelected=function(s,i,o,a){var l=s;if(r.props.showYearPicker){if(l!==null&&VS(se(l),r.props))return}else if(r.props.showMonthYearPicker){if(l!==null&&FS(l,r.props))return}else if(l!==null&&zs(l,r.props))return;var c=r.props,u=c.onChange,h=c.selectsRange,f=c.startDate,p=c.endDate,y=c.selectsMultiple,g=c.selectedDates,w=c.minTime,m=c.swapRange;if(!Hs(r.props.selected,l)||r.props.allowSameDay||h||y)if(l!==null&&(r.props.selected&&(!o||!r.props.showTimeSelect&&!r.props.showTimeSelectOnly&&!r.props.showTimeInput)&&(l=Zf(l,{hour:Zn(r.props.selected),minute:er(r.props.selected),second:yr(r.props.selected)})),!o&&(r.props.showTimeSelect||r.props.showTimeSelectOnly)&&w&&(l=Zf(l,{hour:w.getHours(),minute:w.getMinutes(),second:w.getSeconds()})),r.props.inline||r.setState({preSelection:l}),r.props.focusSelectedMonth||r.setState({monthSelectedIn:a})),h){var _=!f&&!p,v=f&&!p,x=f&&p;_?u([l,null],i):v&&(l===null?u([null,null],i):oE(l,f)?u(m?[l,f]:[l,null],i):u([f,l],i)),x&&u([l,null],i)}else if(y){if(l!==null)if(!(g!=null&&g.length))u([l],i);else{var T=g.some(function(b){return ce(b,l)});if(T){var C=g.filter(function(b){return!ce(b,l)});u(C,i)}else u(zn(zn([],g,!0),[l],!1),i)}}else u(l,i);o||(r.props.onSelect(l,i),r.setState({inputValue:null}))},r.setPreSelection=function(s){var i=vr(r.props.minDate),o=vr(r.props.maxDate),a=!0;if(s){var l=_u(s);if(i&&o)a=xa(s,r.props.minDate,r.props.maxDate);else if(i){var c=_u(r.props.minDate);a=gs(s,c)||Hs(l,c)}else if(o){var u=Qw(r.props.maxDate);a=fi(s,u)||Hs(l,u)}}a&&r.setState({preSelection:s})},r.toggleCalendar=function(){r.setOpen(!r.state.open)},r.handleTimeChange=function(s){if(!(r.props.selectsRange||r.props.selectsMultiple)){var i=r.props.selected?r.props.selected:r.getPreSelection(),o=r.props.selected?s:Zf(i,{hour:Zn(s),minute:er(s)});r.setState({preSelection:o}),r.props.onChange(o),r.props.shouldCloseOnSelect&&!r.props.showTimeInput&&(r.sendFocusBackToInput(),r.setOpen(!1)),r.props.showTimeInput&&r.setOpen(!0),(r.props.showTimeSelectOnly||r.props.showTimeSelect)&&r.setState({isRenderAriaLiveMessage:!0}),r.setState({inputValue:null})}},r.onInputClick=function(){var s,i;!r.props.disabled&&!r.props.readOnly&&r.setOpen(!0),(i=(s=r.props).onInputClick)===null||i===void 0||i.call(s)},r.onInputKeyDown=function(s){var i,o,a,l,c;(o=(i=r.props).onKeyDown)===null||o===void 0||o.call(i,s);var u=s.key;if(!r.state.open&&!r.props.inline&&!r.props.preventOpenOnFocus){(u===U.ArrowDown||u===U.ArrowUp||u===U.Enter)&&r.onInputClick();return}if(r.state.open){if(u===U.ArrowDown||u===U.ArrowUp){s.preventDefault();var h=r.props.showTimeSelectOnly?".react-datepicker__time-list-item[tabindex='0']":r.props.showWeekPicker&&r.props.showWeekNumbers?'.react-datepicker__week-number[tabindex="0"]':r.props.showFullMonthYearPicker||r.props.showMonthYearPicker?'.react-datepicker__month-text[tabindex="0"]':'.react-datepicker__day[tabindex="0"]',f=((a=r.calendar)===null||a===void 0?void 0:a.componentNode)instanceof Element&&r.calendar.componentNode.querySelector(h);f instanceof HTMLElement&&f.focus({preventScroll:!0});return}var p=Ee(r.state.preSelection);u===U.Enter?(s.preventDefault(),r.inputOk()&&r.state.lastPreSelectChange===rp?(r.handleSelect(p,s),!r.props.shouldCloseOnSelect&&r.setPreSelection(p)):r.setOpen(!1)):u===U.Escape?(s.preventDefault(),r.sendFocusBackToInput(),r.setOpen(!1)):u===U.Tab&&r.setOpen(!1),r.inputOk()||(c=(l=r.props).onInputError)===null||c===void 0||c.call(l,{code:1,msg:np})}},r.onPortalKeyDown=function(s){var i=s.key;i===U.Escape&&(s.preventDefault(),r.setState({preventFocus:!0},function(){r.setOpen(!1),setTimeout(function(){r.setFocus(),r.setState({preventFocus:!1})})}))},r.onDayKeyDown=function(s){var i,o,a,l,c=r.props,u=c.minDate,h=c.maxDate,f=c.disabledKeyboardNavigation,p=c.showWeekPicker,y=c.shouldCloseOnSelect,g=c.locale,w=c.calendarStartDay,m=c.adjustDateOnChange,_=c.inline;if((o=(i=r.props).onKeyDown)===null||o===void 0||o.call(i,s),!f){var v=s.key,x=s.shiftKey,T=Ee(r.state.preSelection),C=function(W,j){var F=j;switch(W){case U.ArrowRight:F=p?bd(j,1):Ds(j,1);break;case U.ArrowLeft:F=p?jw(j,1):a$(j,1);break;case U.ArrowUp:F=jw(j,1);break;case U.ArrowDown:F=bd(j,1);break;case U.PageUp:F=x?So(j,1):Co(j,1);break;case U.PageDown:F=x?gr(j,1):Nn(j,1);break;case U.Home:F=cs(j,g,w);break;case U.End:F=gU(j);break}return F},b=function(W,j){for(var F=40,O=W,K=!1,A=0,H=C(W,j);!K;){if(A>=F){H=j;break}u&&H<u&&(O=U.ArrowRight,H=zs(u,r.props)?C(O,H):u),h&&H>h&&(O=U.ArrowLeft,H=zs(h,r.props)?C(O,H):h),zs(H,r.props)?((O===U.PageUp||O===U.Home)&&(O=U.ArrowRight),(O===U.PageDown||O===U.End)&&(O=U.ArrowLeft),H=C(O,H)):K=!0,A++}return H};if(v===U.Enter){s.preventDefault(),r.handleSelect(T,s),!y&&r.setPreSelection(T);return}else if(v===U.Escape){s.preventDefault(),r.setOpen(!1),r.inputOk()||(l=(a=r.props).onInputError)===null||l===void 0||l.call(a,{code:1,msg:np});return}var S=null;switch(v){case U.ArrowLeft:case U.ArrowRight:case U.ArrowUp:case U.ArrowDown:case U.PageUp:case U.PageDown:case U.Home:case U.End:S=b(v,T);break}if(!S){r.props.onInputError&&r.props.onInputError({code:1,msg:np});return}if(s.preventDefault(),r.setState({lastPreSelectChange:rp}),m&&r.setSelected(S),r.setPreSelection(S),_){var D=jt(T),I=jt(S),P=se(T),M=se(S);D!==I||P!==M?r.setState({shouldFocusDayInline:!0}):r.setState({shouldFocusDayInline:!1})}}},r.onPopperKeyDown=function(s){var i=s.key;i===U.Escape&&(s.preventDefault(),r.sendFocusBackToInput())},r.onClearClick=function(s){s&&s.preventDefault&&s.preventDefault(),r.sendFocusBackToInput();var i=r.props,o=i.selectsRange,a=i.onChange;a(o?[null,null]:null,s),r.props.selectsRange?r.props.onChange([null,null],s):r.props.onChange(null,s),r.setState({inputValue:null})},r.clear=function(){r.onClearClick()},r.onScroll=function(s){typeof r.props.closeOnScroll=="boolean"&&r.props.closeOnScroll?(s.target===document||s.target===document.documentElement||s.target===document.body)&&r.setOpen(!1):typeof r.props.closeOnScroll=="function"&&r.props.closeOnScroll(s)&&r.setOpen(!1)},r.renderCalendar=function(){var s,i;return!r.props.inline&&!r.isCalendarOpen()?null:k.createElement(i5,de({ref:function(o){r.calendar=o}},r.props,r.state,{setOpen:r.setOpen,dateFormat:(s=r.props.dateFormatCalendar)!==null&&s!==void 0?s:e.defaultProps.dateFormatCalendar,onSelect:r.handleSelect,onClickOutside:r.handleCalendarClickOutside,holidays:DU(r.modifyHolidays()),outsideClickIgnoreClass:cE,onDropdownFocus:r.handleDropdownFocus,onTimeChange:r.handleTimeChange,className:r.props.calendarClassName,container:r.props.calendarContainer,handleOnKeyDown:r.props.onKeyDown,handleOnDayKeyDown:r.onDayKeyDown,setPreSelection:r.setPreSelection,dropdownMode:(i=r.props.dropdownMode)!==null&&i!==void 0?i:e.defaultProps.dropdownMode}),r.props.children)},r.renderAriaLiveRegion=function(){var s=r.props,i=s.dateFormat,o=i===void 0?e.defaultProps.dateFormat:i,a=s.locale,l=r.props.showTimeInput||r.props.showTimeSelect,c=l?"PPPPp":"PPPP",u;return r.props.selectsRange?u="Selected start date: ".concat(ln(r.props.startDate,{dateFormat:c,locale:a}),". ").concat(r.props.endDate?"End date: "+ln(r.props.endDate,{dateFormat:c,locale:a}):""):r.props.showTimeSelectOnly?u="Selected time: ".concat(ln(r.props.selected,{dateFormat:o,locale:a})):r.props.showYearPicker?u="Selected year: ".concat(ln(r.props.selected,{dateFormat:"yyyy",locale:a})):r.props.showMonthYearPicker?u="Selected month: ".concat(ln(r.props.selected,{dateFormat:"MMMM yyyy",locale:a})):r.props.showQuarterYearPicker?u="Selected quarter: ".concat(ln(r.props.selected,{dateFormat:"yyyy, QQQ",locale:a})):u="Selected date: ".concat(ln(r.props.selected,{dateFormat:c,locale:a})),k.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},u)},r.renderDateInput=function(){var s,i,o,a=at(r.props.className,(s={},s[cE]=r.state.open,s)),l=r.props.customInput||k.createElement("input",{type:"text"}),c=r.props.customInputRef||"ref",u=r.props,h=u.dateFormat,f=h===void 0?e.defaultProps.dateFormat:h,p=u.locale,y=typeof r.props.value=="string"?r.props.value:typeof r.state.inputValue=="string"?r.state.inputValue:r.props.selectsRange?hU(r.props.startDate,r.props.endDate,{dateFormat:f,locale:p}):r.props.selectsMultiple?fU((o=r.props.selectedDates)!==null&&o!==void 0?o:[],{dateFormat:f,locale:p}):ln(r.props.selected,{dateFormat:f,locale:p});return E.cloneElement(l,(i={},i[c]=function(g){r.input=g},i.value=y,i.onBlur=r.handleBlur,i.onChange=r.handleChange,i.onClick=r.onInputClick,i.onFocus=r.handleFocus,i.onKeyDown=r.onInputKeyDown,i.id=r.props.id,i.name=r.props.name,i.form=r.props.form,i.autoFocus=r.props.autoFocus,i.placeholder=r.props.placeholderText,i.disabled=r.props.disabled,i.autoComplete=r.props.autoComplete,i.className=at(l.props.className,a),i.title=r.props.title,i.readOnly=r.props.readOnly,i.required=r.props.required,i.tabIndex=r.props.tabIndex,i["aria-describedby"]=r.props.ariaDescribedBy,i["aria-invalid"]=r.props.ariaInvalid,i["aria-labelledby"]=r.props.ariaLabelledBy,i["aria-required"]=r.props.ariaRequired,i))},r.renderClearButton=function(){var s=r.props,i=s.isClearable,o=s.disabled,a=s.selected,l=s.startDate,c=s.endDate,u=s.clearButtonTitle,h=s.clearButtonClassName,f=h===void 0?"":h,p=s.ariaLabelClose,y=p===void 0?"Close":p,g=s.selectedDates;return i&&(a!=null||l!=null||c!=null||g!=null&&g.length)?k.createElement("button",{type:"button",className:at("react-datepicker__close-icon",f,{"react-datepicker__close-icon--disabled":o}),disabled:o,"aria-label":y,onClick:r.onClearClick,title:u,tabIndex:-1}):null},r.state=r.calcInitialState(),r.preventFocusTimeout=void 0,r}return Object.defineProperty(e,"defaultProps",{get:function(){return{allowSameDay:!1,dateFormat:"MM/dd/yyyy",dateFormatCalendar:"LLLL yyyy",onChange:function(){},disabled:!1,disabledKeyboardNavigation:!1,dropdownMode:"scroll",onFocus:function(){},onBlur:function(){},onKeyDown:function(){},onInputClick:function(){},onSelect:function(){},onClickOutside:function(){},onMonthChange:function(){},onCalendarOpen:function(){},onCalendarClose:function(){},preventOpenOnFocus:!1,onYearChange:function(){},onInputError:function(){},monthsShown:1,readOnly:!1,withPortal:!1,selectsDisabledDaysInRange:!1,shouldCloseOnSelect:!0,showTimeSelect:!1,showTimeInput:!1,showPreviousMonths:!1,showMonthYearPicker:!1,showFullMonthYearPicker:!1,showTwoColumnMonthYearPicker:!1,showFourColumnMonthYearPicker:!1,showYearPicker:!1,showQuarterYearPicker:!1,showWeekPicker:!1,strictParsing:!1,swapRange:!1,timeIntervals:30,timeCaption:"Time",previousMonthAriaLabel:"Previous Month",previousMonthButtonLabel:"Previous Month",nextMonthAriaLabel:"Next Month",nextMonthButtonLabel:"Next Month",previousYearAriaLabel:"Previous Year",previousYearButtonLabel:"Previous Year",nextYearAriaLabel:"Next Year",nextYearButtonLabel:"Next Year",timeInputLabel:"Time",enableTabLoop:!0,yearItemNumber:lc,focusSelectedMonth:!1,showPopperArrow:!0,excludeScrollbar:!0,customTimeInput:null,calendarStartDay:void 0,toggleCalendarOnIconClick:!1,usePointerEvent:!1}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){window.addEventListener("scroll",this.onScroll,!0),document.addEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},e.prototype.componentDidUpdate=function(n,r){var s,i,o,a;n.inline&&o5(n.selected,this.props.selected)&&this.setPreSelection(this.props.selected),this.state.monthSelectedIn!==void 0&&n.monthsShown!==this.props.monthsShown&&this.setState({monthSelectedIn:0}),n.highlightDates!==this.props.highlightDates&&this.setState({highlightDates:nE(this.props.highlightDates)}),!r.focused&&!Hs(n.selected,this.props.selected)&&this.setState({inputValue:null}),r.open!==this.state.open&&(r.open===!1&&this.state.open===!0&&((i=(s=this.props).onCalendarOpen)===null||i===void 0||i.call(s)),r.open===!0&&this.state.open===!1&&((a=(o=this.props).onCalendarClose)===null||a===void 0||a.call(o)))},e.prototype.componentWillUnmount=function(){this.clearPreventFocusTimeout(),window.removeEventListener("scroll",this.onScroll,!0),document.removeEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},e.prototype.renderInputContainer=function(){var n=this.props,r=n.showIcon,s=n.icon,i=n.calendarIconClassname,o=n.calendarIconClassName,a=n.toggleCalendarOnIconClick,l=this.state.open;return i&&console.warn("calendarIconClassname props is deprecated. should use calendarIconClassName props."),k.createElement("div",{className:"react-datepicker__input-container".concat(r?" react-datepicker__view-calendar-icon":"")},r&&k.createElement(ZU,de({icon:s,className:at(o,!o&&i,l&&"react-datepicker-ignore-onclickoutside")},a?{onClick:this.toggleCalendar}:null)),this.state.isRenderAriaLiveMessage&&this.renderAriaLiveRegion(),this.renderDateInput(),this.renderClearButton())},e.prototype.render=function(){var n=this.renderCalendar();if(this.props.inline)return n;if(this.props.withPortal){var r=this.state.open?k.createElement(HS,{enableTabLoop:this.props.enableTabLoop},k.createElement("div",{className:"react-datepicker__portal",tabIndex:-1,onKeyDown:this.onPortalKeyDown},n)):null;return this.state.open&&this.props.portalId&&(r=k.createElement(WS,de({portalId:this.props.portalId},this.props),r)),k.createElement("div",null,this.renderInputContainer(),r)}return k.createElement(s5,de({},this.props,{className:this.props.popperClassName,hidePopper:!this.isCalendarOpen(),targetComponent:this.renderInputContainer(),popperComponent:n,popperOnKeyDown:this.onPopperKeyDown,showArrow:this.props.showPopperArrow}))},e}(E.Component),l5="input",rp="navigate";const c5=()=>{const[t,e]=E.useState(new Date),[n,r]=E.useState(new Date),[s,i]=E.useState([]),[o,a]=E.useState([]),[l,c]=E.useState([]),[u,h]=E.useState([]),f=g=>{const[w,m]=g;e(w),r(m)},p=(g,w)=>{const m=new Date(g.getTime()),_=[];for(;m<=w;)_.push(new Date(m)),m.setDate(m.getDate()+1);return _},y=async()=>{const g=p(t,n),w=[],m=[],_=[],v=[];for(const C of g){const b=iy(C,"yyyy-MM-dd"),S=Xe(fe(Y,"acceso"),_e("fecha","==",b));(await me(S)).forEach(j=>{w.push(j.data())});const I=Xe(fe(Y,"solicitudes"),_e("fecha","==",b));(await me(I)).forEach(j=>{m.push(j.data())});const M=Xe(fe(Y,b));(await me(M)).forEach(j=>{_.push(j.data())})}const x=Xe(fe(Y,"curso"));(await me(x)).forEach(C=>{v.push(C.data())}),i(w),a(m),c(_),h(v)};return d.jsx(Bo,{children:d.jsxs("div",{className:"flex flex-col items-center p-6 bg-gray-100 rounded-lg shadow-md",children:[d.jsx("h1",{className:"mb-6 text-2xl font-bold text-gray-800",children:"Informes Docentes"}),d.jsx("div",{className:"mb-6",children:d.jsx(a5,{selected:t,onChange:f,startDate:t,endDate:n,selectsRange:!0,inline:!0,dateFormat:"yyyy-MM-dd",className:"bg-white p-2 rounded-lg shadow-sm"})}),d.jsx("button",{onClick:y,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:"Generar Informe"}),d.jsxs("div",{className:"mt-6 w-full max-w-2xl",children:[d.jsx("h2",{className:"text-xl font-semibold text-gray-700 mt-6",children:"Informe de Acceso por Curso"}),d.jsx("ul",{className:"list-none p-0 mt-4",children:s.map((g,w)=>d.jsxs("li",{className:"py-2 border-b border-gray-200",children:[g.fecha," - ",g.curso," - ",g.hora_inicio," a ",g.hora_fin," - ",g.id_user]},w))}),d.jsx("h2",{className:"text-xl font-semibold text-gray-700 mt-6",children:"Informe de Solicitudes de Acceso"}),d.jsx("ul",{className:"list-none p-0 mt-4",children:o.map((g,w)=>d.jsxs("li",{className:"py-2 border-b border-gray-200",children:[g.fecha," - ",g.curso," - ",g.hora_inicio," a ",g.hora_fin," - ",g.id_user," - ",g.estado]},w))}),d.jsx("h2",{className:"text-xl font-semibold text-gray-700 mt-6",children:"Informe de Actividad de Usuarios"}),d.jsx("ul",{className:"list-none p-0 mt-4",children:l.map((g,w)=>d.jsxs("li",{className:"py-2 border-b border-gray-200",children:[g.fecha," - ",g.id_user," - ",g.codigo_tarjeta," - ",g.curso," - ",g.estado," - ",g.hora," - ",g.tipoT]},w))}),d.jsx("h2",{className:"text-xl font-semibold text-gray-700 mt-6",children:"Informe de Estado de Cursos"}),d.jsx("ul",{className:"list-none p-0 mt-4",children:u.map((g,w)=>d.jsxs("li",{className:"py-2 border-b border-gray-200",children:[g.curso," - ",g.ubicacion]},w))})]})]})})},u5=Rn(vn);function d5(){const[t,e]=E.useState(null);E.useEffect(()=>{const s=yb(u5,i=>{i?r(i):e(null)});return()=>s()},[]);async function n(s){const i=ue(Y,`usuarios/${s}`),o=await xi(i);return console.log(o.data().rol),o.data().rol}function r(s){n(s.uid).then(i=>{const o={uid:s.uid,email:s.email,rol:i};e(o),console.log("userData final",o)})}return d.jsx("div",{className:"app",children:d.jsx(pL,{user:t,children:d.jsxs(aN,{children:[d.jsx(Te,{path:"/",element:t?t.rol==="Admin"?d.jsx(_w,{}):t.rol==="Administrativo"?d.jsx(Administrativo,{}):t.rol==="Docente"?d.jsx(hw,{}):d.jsx(gL,{}):d.jsx(dw,{})}),d.jsx(Te,{path:"/auth",element:d.jsx(dw,{})}),d.jsx(Te,{path:"/registroUser",element:d.jsx(J4,{})}),d.jsx(Te,{path:"/docente",element:d.jsx(hw,{})}),d.jsx(Te,{path:"/admin",element:d.jsx(_w,{})}),d.jsx(Te,{path:"/admin/listaUsuarios",element:d.jsx(Z4,{})}),d.jsx(Te,{path:"/admin/listaAccesos",element:d.jsx(tF,{})}),d.jsx(Te,{path:"/docente/listaAccesos",element:d.jsx(iF,{})}),d.jsx(Te,{path:"/docente/listaRegistros",element:d.jsx(vF,{})}),d.jsx(Te,{path:"/docente/bloqueo",element:d.jsx(yF,{})}),d.jsx(Te,{path:"/admin/crearNewAcceso",element:d.jsx(aF,{})}),d.jsx(Te,{path:"/admin/cursosList",element:d.jsx(dF,{})}),d.jsx(Te,{path:"/admin/curso/:codigo_curso",element:d.jsx(fF,{})}),d.jsx(Te,{path:"/admin/curso/agregar-curso",element:d.jsx(mF,{})}),d.jsx(Te,{path:"/usuario/:codigo_tarjeta/:tipoT",element:d.jsx(nF,{})}),d.jsx(Te,{path:"/admin/editarUsuario/:id",element:d.jsx(_F,{})}),d.jsx(Te,{path:"/reset-password",element:d.jsx(NF,{})}),d.jsx(Te,{path:"/admin/informes",element:d.jsx(PF,{})}),d.jsx(Te,{path:"/docente/informes",element:d.jsx(c5,{})}),d.jsx(Te,{path:"/registroNewUser/:codigoTarjeta1/:tipoT",element:d.jsx(sF,{})}),d.jsx(Te,{path:"/admin/eleccionRegistro/:codigoTarjeta1/:tipoT/:idRegistro/:fecha",element:d.jsx(EF,{})}),d.jsx(Te,{path:"/admin/registroNuevoUsuario/:codigoTarjeta1/:tipoT/:idRegistro/:fecha",element:d.jsx(TF,{})}),d.jsx(Te,{path:"/admin/asignarTarjetaExistente/:codigoTarjeta1/:tipoT/:idRegistro/:fecha",element:d.jsx(xF,{})}),d.jsx(Te,{path:"/docente/solicitarAcceso",element:d.jsx(DF,{})}),d.jsx(Te,{path:"/admin/revisarsolicitud",element:d.jsx(kF,{})})]})})})}sp.createRoot(document.getElementById("root")).render(d.jsx(pN,{children:d.jsx(d5,{})}));
